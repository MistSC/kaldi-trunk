<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: ConvolutionComponent Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1nnet3_1_1ConvolutionComponent.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classkaldi_1_1nnet3_1_1ConvolutionComponent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ConvolutionComponent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>ConvolutionalComponent implements 2d-convolution.  
 <a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ConvolutionComponent:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1nnet3_1_1ConvolutionComponent__inherit__graph.png" border="0" usemap="#ConvolutionComponent_inherit__map" alt="Inheritance graph"/></div>
<map name="ConvolutionComponent_inherit__map" id="ConvolutionComponent_inherit__map">
<area shape="rect" id="node2" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C..." alt="" coords="9,80,172,107"/><area shape="rect" id="node3" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base&#45;class for neural&#45;net components. " alt="" coords="42,5,139,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ConvolutionComponent:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1nnet3_1_1ConvolutionComponent__coll__graph.png" border="0" usemap="#ConvolutionComponent_coll__map" alt="Collaboration graph"/></div>
<map name="ConvolutionComponent_coll__map" id="ConvolutionComponent_coll__map">
<area shape="rect" id="node2" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C..." alt="" coords="569,85,732,112"/><area shape="rect" id="node3" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base&#45;class for neural&#45;net components. " alt="" coords="278,5,375,32"/><area shape="rect" id="node11" href="classkaldi_1_1CuMatrixBase.html" title="CuMatrixBase\&lt; BaseFloat \&gt;" alt="" coords="225,184,428,211"/><area shape="rect" id="node6" href="classkaldi_1_1CuVector.html" title="CuVector\&lt; BaseFloat \&gt;" alt="" coords="564,357,737,384"/><area shape="rect" id="node7" href="classkaldi_1_1CuVectorBase.html" title="CuVectorBase\&lt; BaseFloat \&gt;" alt="" coords="224,357,429,384"/><area shape="rect" id="node10" href="classkaldi_1_1CuMatrix.html" title="CuMatrix\&lt; BaseFloat \&gt;" alt="" coords="565,233,736,260"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae5ab0056478231cd9c4427f9253802cf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a> { <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8">kYzx</a> = 0, 
<a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kZyx</a> = 1
 }</td></tr>
<tr class="separator:ae5ab0056478231cd9c4427f9253802cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ace18897f9f4ac2b173c1ad280db3439d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">ConvolutionComponent</a> ()</td></tr>
<tr class="separator:ace18897f9f4ac2b173c1ad280db3439d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b2afce248b6c1caf50d78333e99c8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a92b2afce248b6c1caf50d78333e99c8a">ConvolutionComponent</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a> &amp;component)</td></tr>
<tr class="separator:a92b2afce248b6c1caf50d78333e99c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2276485528e5c7b1cee9bf5083ca7e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#aa2276485528e5c7b1cee9bf5083ca7e4">ConvolutionComponent</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;filter_params, const <a class="el" href="classkaldi_1_1CuVectorBase.html">CuVectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;bias_params, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_x_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_y_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_z_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_x_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_y_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_x_step, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_y_step, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a> input_vectorization, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> learning_rate)</td></tr>
<tr class="separator:aa2276485528e5c7b1cee9bf5083ca7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb663d83b7e18de03e9cbaece788267b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#aeb663d83b7e18de03e9cbaece788267b">InputDim</a> () const </td></tr>
<tr class="memdesc:aeb663d83b7e18de03e9cbaece788267b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns input-dimension of this component.  <a href="#aeb663d83b7e18de03e9cbaece788267b">More...</a><br/></td></tr>
<tr class="separator:aeb663d83b7e18de03e9cbaece788267b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae39b5253d9ea1bf56343664faa2dfc23"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae39b5253d9ea1bf56343664faa2dfc23">OutputDim</a> () const </td></tr>
<tr class="memdesc:ae39b5253d9ea1bf56343664faa2dfc23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns output-dimension of this component.  <a href="#ae39b5253d9ea1bf56343664faa2dfc23">More...</a><br/></td></tr>
<tr class="separator:ae39b5253d9ea1bf56343664faa2dfc23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f20e0b2d35ec6866a6b479e7d9e867"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a17f20e0b2d35ec6866a6b479e7d9e867">Info</a> () const </td></tr>
<tr class="memdesc:a17f20e0b2d35ec6866a6b479e7d9e867"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns some text-form information about this component, for diagnostics.  <a href="#a17f20e0b2d35ec6866a6b479e7d9e867">More...</a><br/></td></tr>
<tr class="separator:a17f20e0b2d35ec6866a6b479e7d9e867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f5c35427c2657c50173313e99e3f01"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ac4f5c35427c2657c50173313e99e3f01">InitFromConfig</a> (<a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html">ConfigLine</a> *cfl)</td></tr>
<tr class="memdesc:ac4f5c35427c2657c50173313e99e3f01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize, from a <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input xx=yyy a=b c empty= f-oo=bar ba_z=123 bing=&#39;a b c&#39; baz=&quot;...">ConfigLine</a> object.  <a href="#ac4f5c35427c2657c50173313e99e3f01">More...</a><br/></td></tr>
<tr class="separator:ac4f5c35427c2657c50173313e99e3f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc261b04ea91663bea36634558ed779"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a7bc261b04ea91663bea36634558ed779">Type</a> () const </td></tr>
<tr class="memdesc:a7bc261b04ea91663bea36634558ed779"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string such as "SigmoidComponent", describing the type of the object.  <a href="#a7bc261b04ea91663bea36634558ed779">More...</a><br/></td></tr>
<tr class="separator:a7bc261b04ea91663bea36634558ed779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879b982812078b2e9c7c3c756e32be4e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a879b982812078b2e9c7c3c756e32be4e">Properties</a> () const </td></tr>
<tr class="memdesc:a879b982812078b2e9c7c3c756e32be4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return bitmask of the component's properties.  <a href="#a879b982812078b2e9c7c3c756e32be4e">More...</a><br/></td></tr>
<tr class="separator:a879b982812078b2e9c7c3c756e32be4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88a864398e6912a94e09786f1d87019"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ac88a864398e6912a94e09786f1d87019">Propagate</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *indexes, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *out) const </td></tr>
<tr class="memdesc:ac88a864398e6912a94e09786f1d87019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate function.  <a href="#ac88a864398e6912a94e09786f1d87019">More...</a><br/></td></tr>
<tr class="separator:ac88a864398e6912a94e09786f1d87019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9585c148f6f8919013b66b8be09bf3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#aeb9585c148f6f8919013b66b8be09bf3">Backprop</a> (const std::string &amp;debug_info, const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *indexes, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_deriv, <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *to_update_in, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *in_deriv) const </td></tr>
<tr class="memdesc:aeb9585c148f6f8919013b66b8be09bf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backprop function; depending on which of the arguments 'to_update' and 'in_deriv' are non-NULL, this can compute input-data derivatives and/or perform model update.  <a href="#aeb9585c148f6f8919013b66b8be09bf3">More...</a><br/></td></tr>
<tr class="separator:aeb9585c148f6f8919013b66b8be09bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4edfd7adc60a9dffa4daee54378eb56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae4edfd7adc60a9dffa4daee54378eb56">Update</a> (const std::string &amp;debug_info, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_deriv, const std::vector&lt; <a class="el" href="classkaldi_1_1CuSubMatrix.html">CuSubMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; * &gt; &amp;out_deriv_batch)</td></tr>
<tr class="separator:ae4edfd7adc60a9dffa4daee54378eb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7d2790fc7e94fe9780ccc937de1270"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">Read</a> (std::istream &amp;is, bool binary)</td></tr>
<tr class="memdesc:a8e7d2790fc7e94fe9780ccc937de1270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read function (used after we know the type of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>); accepts input that is missing the token that describes the component type, in case it has already been consumed.  <a href="#a8e7d2790fc7e94fe9780ccc937de1270">More...</a><br/></td></tr>
<tr class="separator:a8e7d2790fc7e94fe9780ccc937de1270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5da0494b3a3f4bc33ff83c9b5ff5b40"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ad5da0494b3a3f4bc33ff83c9b5ff5b40">Write</a> (std::ostream &amp;os, bool binary) const </td></tr>
<tr class="memdesc:ad5da0494b3a3f4bc33ff83c9b5ff5b40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write component to stream.  <a href="#ad5da0494b3a3f4bc33ff83c9b5ff5b40">More...</a><br/></td></tr>
<tr class="separator:ad5da0494b3a3f4bc33ff83c9b5ff5b40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af135d6a50796feb18cb5270d53f108a7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#af135d6a50796feb18cb5270d53f108a7">Copy</a> () const </td></tr>
<tr class="memdesc:af135d6a50796feb18cb5270d53f108a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies component (deep copy).  <a href="#af135d6a50796feb18cb5270d53f108a7">More...</a><br/></td></tr>
<tr class="separator:af135d6a50796feb18cb5270d53f108a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a4fc4a0524ae8957baf45b8cb168843"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">Scale</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> scale)</td></tr>
<tr class="memdesc:a5a4fc4a0524ae8957baf45b8cb168843"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function when called by.  <a href="#a5a4fc4a0524ae8957baf45b8cb168843">More...</a><br/></td></tr>
<tr class="separator:a5a4fc4a0524ae8957baf45b8cb168843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb3e97b46276e3c9f4f696c2bef3943"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">Add</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> alpha, const <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> &amp;other)</td></tr>
<tr class="memdesc:acdb3e97b46276e3c9f4f696c2bef3943"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function when called by &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> adds the parameters of another updatable component, times some constant, to the current parameters.  <a href="#acdb3e97b46276e3c9f4f696c2bef3943">More...</a><br/></td></tr>
<tr class="separator:acdb3e97b46276e3c9f4f696c2bef3943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947a5e99fe5ff5534ecfbb3f987febe1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a947a5e99fe5ff5534ecfbb3f987febe1">SetZero</a> (bool treat_as_gradient)</td></tr>
<tr class="memdesc:a947a5e99fe5ff5534ecfbb3f987febe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets parameters to zero, and if treat_as_gradient is true, sets is_gradient_ to true and sets learning_rate_ to 1, ignoring learning_rate_factor_.  <a href="#a947a5e99fe5ff5534ecfbb3f987febe1">More...</a><br/></td></tr>
<tr class="separator:a947a5e99fe5ff5534ecfbb3f987febe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a59272c763dc9372ad7d0671a87dad"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a69a59272c763dc9372ad7d0671a87dad">PerturbParams</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> stddev)</td></tr>
<tr class="memdesc:a69a59272c763dc9372ad7d0671a87dad"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is to be used in testing.  <a href="#a69a59272c763dc9372ad7d0671a87dad">More...</a><br/></td></tr>
<tr class="separator:a69a59272c763dc9372ad7d0671a87dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a8c06148d52d2d0c383ba483fb6d05"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a78a8c06148d52d2d0c383ba483fb6d05">DotProduct</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html">UpdatableComponent</a> &amp;other) const </td></tr>
<tr class="memdesc:a78a8c06148d52d2d0c383ba483fb6d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes dot-product between parameters of two instances of a <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>.  <a href="#a78a8c06148d52d2d0c383ba483fb6d05">More...</a><br/></td></tr>
<tr class="separator:a78a8c06148d52d2d0c383ba483fb6d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8ca42ab9569d725aa8fd732ca570fbd"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ad8ca42ab9569d725aa8fd732ca570fbd">NumParameters</a> () const </td></tr>
<tr class="memdesc:ad8ca42ab9569d725aa8fd732ca570fbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following new virtual function returns the total dimension of the parameters in this class.  <a href="#ad8ca42ab9569d725aa8fd732ca570fbd">More...</a><br/></td></tr>
<tr class="separator:ad8ca42ab9569d725aa8fd732ca570fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257c67539de2d1f79531cc6c681ef149"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a257c67539de2d1f79531cc6c681ef149">Vectorize</a> (<a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *params) const </td></tr>
<tr class="memdesc:a257c67539de2d1f79531cc6c681ef149"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns the parameters into vector form.  <a href="#a257c67539de2d1f79531cc6c681ef149">More...</a><br/></td></tr>
<tr class="separator:a257c67539de2d1f79531cc6c681ef149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8619ba84ef93f98fa42dbcd11011e3a3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a8619ba84ef93f98fa42dbcd11011e3a3">UnVectorize</a> (const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;params)</td></tr>
<tr class="memdesc:a8619ba84ef93f98fa42dbcd11011e3a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the parameters from vector form.  <a href="#a8619ba84ef93f98fa42dbcd11011e3a3">More...</a><br/></td></tr>
<tr class="separator:a8619ba84ef93f98fa42dbcd11011e3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e04f6f5379b8b2dd93937913c1e183"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5e04f6f5379b8b2dd93937913c1e183">SetParams</a> (const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;bias, const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;filter)</td></tr>
<tr class="separator:ae5e04f6f5379b8b2dd93937913c1e183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c4f15223897d71aaf79d859ea39b7f7"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classkaldi_1_1CuVector.html">CuVector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5c4f15223897d71aaf79d859ea39b7f7">BiasParams</a> ()</td></tr>
<tr class="separator:a5c4f15223897d71aaf79d859ea39b7f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8e632fb05869d446940cfc912c88088"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ad8e632fb05869d446940cfc912c88088">LinearParams</a> ()</td></tr>
<tr class="separator:ad8e632fb05869d446940cfc912c88088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1cf5c0f883b725b8be34cda29cf33d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0d1cf5c0f883b725b8be34cda29cf33d">Init</a> (<a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_x_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_y_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_z_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_x_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_y_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_x_step, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_y_step, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_filters, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a> input_vectorization, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> param_stddev, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> bias_stddev)</td></tr>
<tr class="separator:a0d1cf5c0f883b725b8be34cda29cf33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190f70140477428e75a8743e9ce2c08b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a190f70140477428e75a8743e9ce2c08b">Init</a> (<a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_x_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_y_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_z_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_x_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_y_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_x_step, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_y_step, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a> input_vectorization, std::string matrix_filename)</td></tr>
<tr class="separator:a190f70140477428e75a8743e9ce2c08b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d62ac4bb7407d02d9d51a2e0163e405"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a6d62ac4bb7407d02d9d51a2e0163e405">Resize</a> (<a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_dim, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> output_dim)</td></tr>
<tr class="separator:a6d62ac4bb7407d02d9d51a2e0163e405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae734e1ec782b67512b1e8181f089e0fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae734e1ec782b67512b1e8181f089e0fb">Update</a> (const std::string &amp;debug_info, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_deriv)</td></tr>
<tr class="separator:ae734e1ec782b67512b1e8181f089e0fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html">UpdatableComponent</a></td></tr>
<tr class="memitem:a2291e94d519e3ea5a11e78c96ef39579 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a2291e94d519e3ea5a11e78c96ef39579">UpdatableComponent</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html">UpdatableComponent</a> &amp;other)</td></tr>
<tr class="separator:a2291e94d519e3ea5a11e78c96ef39579 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af26d78825cc522c324976403bf4e4e inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a2af26d78825cc522c324976403bf4e4e">UpdatableComponent</a> ()</td></tr>
<tr class="separator:a2af26d78825cc522c324976403bf4e4e inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36873742fd6ae5311c593a7b437365c1 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a36873742fd6ae5311c593a7b437365c1">~UpdatableComponent</a> ()</td></tr>
<tr class="separator:a36873742fd6ae5311c593a7b437365c1 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef72705ce4a8a7cb10331d248df2b83 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#aeef72705ce4a8a7cb10331d248df2b83">SetLearningRate</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> lrate)</td></tr>
<tr class="memdesc:aeef72705ce4a8a7cb10331d248df2b83 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the learning rate of gradient descent.  <a href="#aeef72705ce4a8a7cb10331d248df2b83">More...</a><br/></td></tr>
<tr class="separator:aeef72705ce4a8a7cb10331d248df2b83 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9896289816ed23e949c390f8d82fe8 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a9d9896289816ed23e949c390f8d82fe8">LearningRate</a> () const </td></tr>
<tr class="memdesc:a9d9896289816ed23e949c390f8d82fe8 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the learning rate of gradient descent.  <a href="#a9d9896289816ed23e949c390f8d82fe8">More...</a><br/></td></tr>
<tr class="separator:a9d9896289816ed23e949c390f8d82fe8 inherit pub_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkaldi_1_1nnet3_1_1Component"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkaldi_1_1nnet3_1_1Component')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a></td></tr>
<tr class="memitem:a6f53af63ed7691d05d0b715bf27c4b0e inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a6f53af63ed7691d05d0b715bf27c4b0e">StoreStats</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_value)</td></tr>
<tr class="memdesc:a6f53af63ed7691d05d0b715bf27c4b0e inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function may store stats on average activation values, and for some component types, the average value of the derivative of the nonlinearity.  <a href="#a6f53af63ed7691d05d0b715bf27c4b0e">More...</a><br/></td></tr>
<tr class="separator:a6f53af63ed7691d05d0b715bf27c4b0e inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab162a2631e5335091d1f2bba1571e54d inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab162a2631e5335091d1f2bba1571e54d">ZeroStats</a> ()</td></tr>
<tr class="memdesc:ab162a2631e5335091d1f2bba1571e54d inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">Components that provide an implementation of StoreStats should also provide an implementation of <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab162a2631e5335091d1f2bba1571e54d" title="Components that provide an implementation of StoreStats should also provide an implementation of Zero...">ZeroStats()</a>, to set those stats to zero.  <a href="#ab162a2631e5335091d1f2bba1571e54d">More...</a><br/></td></tr>
<tr class="separator:ab162a2631e5335091d1f2bba1571e54d inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754882ba973bb32b834d107f942cca9d inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a754882ba973bb32b834d107f942cca9d">GetInputIndexes</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;output_index, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *desired_indexes) const </td></tr>
<tr class="memdesc:a754882ba973bb32b834d107f942cca9d inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components.  <a href="#a754882ba973bb32b834d107f942cca9d">More...</a><br/></td></tr>
<tr class="separator:a754882ba973bb32b834d107f942cca9d inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c953bfedde61b2e6589f8ba490d216 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a05c953bfedde61b2e6589f8ba490d216">IsComputable</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;output_index, const <a class="el" href="classkaldi_1_1nnet3_1_1IndexSet.html">IndexSet</a> &amp;input_index_set, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *used_inputs) const </td></tr>
<tr class="memdesc:a05c953bfedde61b2e6589f8ba490d216 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components, and it exists to make it possible to manage optionally-required inputs.  <a href="#a05c953bfedde61b2e6589f8ba490d216">More...</a><br/></td></tr>
<tr class="separator:a05c953bfedde61b2e6589f8ba490d216 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a5065016a72649aa3b8891ce641ca0 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a96a5065016a72649aa3b8891ce641ca0">ReorderIndexes</a> (std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *input_indexes, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *output_indexes) const </td></tr>
<tr class="memdesc:a96a5065016a72649aa3b8891ce641ca0 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components.  <a href="#a96a5065016a72649aa3b8891ce641ca0">More...</a><br/></td></tr>
<tr class="separator:a96a5065016a72649aa3b8891ce641ca0 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6c4b05cc82b21a1aeb65cf7631f073 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual <br class="typebreak"/>
<a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#aff6c4b05cc82b21a1aeb65cf7631f073">PrecomputeIndexes</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;input_indexes, const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;output_indexes, bool need_backprop) const </td></tr>
<tr class="memdesc:aff6c4b05cc82b21a1aeb65cf7631f073 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only returns non-NULL for non-simple Components (and may still return NULL for non-simple Compoennts).  <a href="#aff6c4b05cc82b21a1aeb65cf7631f073">More...</a><br/></td></tr>
<tr class="separator:aff6c4b05cc82b21a1aeb65cf7631f073 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0171e1571f18dc6a27c8b041de55feec inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a0171e1571f18dc6a27c8b041de55feec">Component</a> ()</td></tr>
<tr class="separator:a0171e1571f18dc6a27c8b041de55feec inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df822d4b95a18b1df2529896638daeb inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a0df822d4b95a18b1df2529896638daeb">~Component</a> ()</td></tr>
<tr class="separator:a0df822d4b95a18b1df2529896638daeb inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a00cd0b6391af77bdad08d605fe5692d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a00cd0b6391af77bdad08d605fe5692d6">InputToInputPatches</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in, <a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *patches) const </td></tr>
<tr class="separator:a00cd0b6391af77bdad08d605fe5692d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ac4d8faee2f2e3518575da7b83d2a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae9ac4d8faee2f2e3518575da7b83d2a0">InderivPatchesToInderiv</a> (const <a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in_deriv_patches, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *in_deriv) const </td></tr>
<tr class="separator:ae9ac4d8faee2f2e3518575da7b83d2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6d9d0082dcdd66d6a48d8d45a6c97e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5d6d9d0082dcdd66d6a48d8d45a6c97e">operator=</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a> &amp;other)</td></tr>
<tr class="separator:a5d6d9d0082dcdd66d6a48d8d45a6c97e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4b6b79096bf11c47196f4ddbf83a0004"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a></td></tr>
<tr class="separator:a4b6b79096bf11c47196f4ddbf83a0004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507fba3861be442c60611c7db823295d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a></td></tr>
<tr class="separator:a507fba3861be442c60611c7db823295d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430e10426232f72d82183bdb3bd6c10e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a></td></tr>
<tr class="separator:a430e10426232f72d82183bdb3bd6c10e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75132bd24e9fc5a957ad8b21f37b979"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a></td></tr>
<tr class="separator:ae75132bd24e9fc5a957ad8b21f37b979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0a6b466026b3460aef532060e629b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a></td></tr>
<tr class="separator:a5a0a6b466026b3460aef532060e629b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef2b253af7d9e9e961a847957056380"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a></td></tr>
<tr class="separator:a9ef2b253af7d9e9e961a847957056380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d0a96ad479ba4b60fcca168f9816d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a></td></tr>
<tr class="separator:a26d0a96ad479ba4b60fcca168f9816d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0614fe903c64bcd3222fadad48a918bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a></td></tr>
<tr class="separator:a0614fe903c64bcd3222fadad48a918bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9960b51716b06421895f9b61d7b08f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a></td></tr>
<tr class="separator:a0b9960b51716b06421895f9b61d7b08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80919dec61ec4f145d2b70cca6d2c306"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1CuVector.html">CuVector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a></td></tr>
<tr class="separator:a80919dec61ec4f145d2b70cca6d2c306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a4abdec65e2b9a9dc13725b6879cb9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">is_gradient_</a></td></tr>
<tr class="separator:a95a4abdec65e2b9a9dc13725b6879cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classkaldi_1_1nnet3_1_1Component')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a></td></tr>
<tr class="memitem:a4ddbc3371d68afbe87908b87b8c0a6ae inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a4ddbc3371d68afbe87908b87b8c0a6ae">ReadNew</a> (std::istream &amp;is, bool binary)</td></tr>
<tr class="memdesc:a4ddbc3371d68afbe87908b87b8c0a6ae inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read component from stream (works out its type). Dies on error.  <a href="#a4ddbc3371d68afbe87908b87b8c0a6ae">More...</a><br/></td></tr>
<tr class="separator:a4ddbc3371d68afbe87908b87b8c0a6ae inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52564bb899e61119bac38d57147cd223 inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a52564bb899e61119bac38d57147cd223">NewComponentOfType</a> (const std::string &amp;type)</td></tr>
<tr class="memdesc:a52564bb899e61119bac38d57147cd223 inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> of the given type e.g.  <a href="#a52564bb899e61119bac38d57147cd223">More...</a><br/></td></tr>
<tr class="separator:a52564bb899e61119bac38d57147cd223 inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classkaldi_1_1nnet3_1_1UpdatableComponent')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html">UpdatableComponent</a></td></tr>
<tr class="memitem:ae85774801475096c0cc34fd2d6a021ab inherit pro_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#ae85774801475096c0cc34fd2d6a021ab">InitLearningRatesFromConfig</a> (<a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html">ConfigLine</a> *cfl)</td></tr>
<tr class="separator:ae85774801475096c0cc34fd2d6a021ab inherit pro_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0dc5637f4e0fa223120cf3aee28d8c inherit pro_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#acb0dc5637f4e0fa223120cf3aee28d8c">ReadUpdatableCommon</a> (std::istream &amp;is, bool binary)</td></tr>
<tr class="separator:acb0dc5637f4e0fa223120cf3aee28d8c inherit pro_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0a99fb02944dd2ea12d8297a25ddb4 inherit pro_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a5c0a99fb02944dd2ea12d8297a25ddb4">WriteUpdatableCommon</a> (std::ostream &amp;is, bool binary) const </td></tr>
<tr class="separator:a5c0a99fb02944dd2ea12d8297a25ddb4 inherit pro_methods_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html">UpdatableComponent</a></td></tr>
<tr class="memitem:abef30da8aa0328dd5db955ce0b2a3466 inherit pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#abef30da8aa0328dd5db955ce0b2a3466">learning_rate_</a></td></tr>
<tr class="memdesc:abef30da8aa0328dd5db955ce0b2a3466 inherit pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">learning rate (typically 0.0..0.01)  <a href="#abef30da8aa0328dd5db955ce0b2a3466">More...</a><br/></td></tr>
<tr class="separator:abef30da8aa0328dd5db955ce0b2a3466 inherit pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b609dd2ecd50c6165f783395bcd4468 inherit pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a7b609dd2ecd50c6165f783395bcd4468">learning_rate_factor_</a></td></tr>
<tr class="memdesc:a7b609dd2ecd50c6165f783395bcd4468 inherit pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">learning rate factor (normally 1.0, but can be set to another &lt; value so that when &lt; you call <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#aeef72705ce4a8a7cb10331d248df2b83" title="Sets the learning rate of gradient descent. ">SetLearningRate()</a>, that value will be scaled by this factor.  <a href="#a7b609dd2ecd50c6165f783395bcd4468">More...</a><br/></td></tr>
<tr class="separator:a7b609dd2ecd50c6165f783395bcd4468 inherit pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a4abdec65e2b9a9dc13725b6879cb9 inherit pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">is_gradient_</a></td></tr>
<tr class="memdesc:a95a4abdec65e2b9a9dc13725b6879cb9 inherit pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if this component is to be treated as a gradient rather than as parameters.  <a href="#a95a4abdec65e2b9a9dc13725b6879cb9">More...</a><br/></td></tr>
<tr class="separator:a95a4abdec65e2b9a9dc13725b6879cb9 inherit pro_attribs_classkaldi_1_1nnet3_1_1UpdatableComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ConvolutionalComponent implements 2d-convolution. </p>
<p>It uses 3D filters on 3D inputs, but the 3D filters hop only over 2 dimensions as it has same size as the input along the 3rd dimension. <a class="el" href="classkaldi_1_1Input.html">Input</a> : A matrix where each row is a vectorized 3D-tensor. The 3D tensor has dimensions x: (e.g. time) y: (e.g. frequency) z: (e.g. channels like features/delta/delta-delta)</p>
<p>The component supports input vectorizations of type zyx and yzx. The default vectorization type is zyx. e.g. for input vectorization of type zyx the input is vectorized by spanning axes z, y and x of the tensor in that order. Given 3d tensor A with sizes (2, 2, 2) along the three dimensions the zyx vectorized input looks like A(0,0,0) A(0,0,1) A(0,1,0) A(0,1,1) A(1,0,0) A(1,0,1) A(1,1,0) A(1,1,1)</p>
<p><a class="el" href="classkaldi_1_1Output.html">Output</a> : The output is also a 3D tensor vectorized in the zyx format. The channel axis (z) in the output corresponds to the output of different filters. The first channel corresponds to the first filter i.e., first row of the filter_params_ matrix.</p>
<p>Note: The component has to support yzx input vectorization as the binaries like add-deltas generate yz vectorized output. These input vectors are concatenated using the Append descriptor across time steps to form a yzx vectorized 3D tensor input. e.g. Append(Offset(input, -1), input, Offset(input, 1))</p>
<p>For information on the hyperparameters and parameters of this component see the variable declarations.</p>
<p>Propagation: ------------ Convolution operation consists of a dot-products between the filter tensor and input tensor patch, for various shifts of filter tensor along the x and y axes input tensor. (Note: there is no shift along z-axis as the filter and input tensor have same size along this axis).</p>
<p>For a particular shift (i,j) of the filter tensor along input tensor dimensions x and y, the elements of the input tensor which overlap with the filter form the input tensor patch. This patch is vectorized in zyx format. All the patches corresponding to various samples in the mini-batch are stacked into a matrix, where each row corresponds to one patch. Let this matrix be represented by X_{i,j}. The dot products with various filters are computed simultaneously by computing the matrix product with the filter_params_ matrix (W) Y_{i,j} = X_{i,j}*W^T. Each row of W corresponds to one filter 3D tensor vectorized in zyx format.</p>
<p>All the matrix products corresponding to various shifts (i,j) of the filter tensor are computed simultaneously using the AddMatMatBatched call of <a class="el" href="classkaldi_1_1CuMatrixBase.html" title="Matrix for CUDA computing. ">CuMatrixBase</a> class.</p>
<p>BackPropagation: ---------------- Backpropagation to compute the input derivative ( X_{i,j}) consists of the a series of matrix products. {i,j} = {i,j}*W where {i,j} corresponds to the output derivative for a particular shift of the filter.</p>
<p>Once again these matrix products are computed simultaneously.</p>
<p>Update: ------- The weight gradient is computed as  = {i,j} (X_{i,j}^T *{i,j}) </p>

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01306">1306</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ae5ab0056478231cd9c4427f9253802cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8"></a>kYzx</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146"></a>kZyx</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01308">1308</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                                {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8">kYzx</a> = 0,</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kZyx</a> = 1</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  };</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kaldi::nnet3::ConvolutionComponent::kZyx</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01310">nnet-simple-component.h:1310</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8">kaldi::nnet3::ConvolutionComponent::kYzx</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01309">nnet-simple-component.h:1309</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ace18897f9f4ac2b173c1ad280db3439d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l02889">2889</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03516">ConvolutionComponent::Copy()</a>.</p>
<div class="fragment"><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;                                          :</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a2af26d78825cc522c324976403bf4e4e">UpdatableComponent</a>(),</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a>(0), <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a>(0), <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>(0),</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>(0), <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>(0),</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>(0), <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>(0),</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a>(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kZyx</a>),</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">is_gradient_</a>(<span class="keyword">false</span>) {}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1UpdatableComponent_html_a2af26d78825cc522c324976403bf4e4e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a2af26d78825cc522c324976403bf4e4e">kaldi::nnet3::UpdatableComponent::UpdatableComponent</a></div><div class="ttdeci">UpdatableComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00357">nnet-component-itf.h:357</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kaldi::nnet3::ConvolutionComponent::kZyx</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01310">nnet-simple-component.h:1310</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a95a4abdec65e2b9a9dc13725b6879cb9"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">kaldi::nnet3::ConvolutionComponent::is_gradient_</a></div><div class="ttdeci">bool is_gradient_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01438">nnet-simple-component.h:1438</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a92b2afce248b6c1caf50d78333e99c8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a> &amp;&#160;</td>
          <td class="paramname"><em>component</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l02897">2897</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                                          :</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a2af26d78825cc522c324976403bf4e4e">UpdatableComponent</a>(component),</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a>(component.input_x_dim_),</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a>(component.input_y_dim_),</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>(component.input_z_dim_),</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>(component.filt_x_dim_),</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>(component.filt_y_dim_),</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>(component.filt_x_step_),</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>(component.filt_y_step_),</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a>(component.input_vectorization_),</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>(component.filter_params_),</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>(component.bias_params_),</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">is_gradient_</a>(component.is_gradient_) {}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1UpdatableComponent_html_a2af26d78825cc522c324976403bf4e4e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a2af26d78825cc522c324976403bf4e4e">kaldi::nnet3::UpdatableComponent::UpdatableComponent</a></div><div class="ttdeci">UpdatableComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00357">nnet-component-itf.h:357</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a95a4abdec65e2b9a9dc13725b6879cb9"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">kaldi::nnet3::ConvolutionComponent::is_gradient_</a></div><div class="ttdeci">bool is_gradient_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01438">nnet-simple-component.h:1438</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa2276485528e5c7b1cee9bf5083ca7e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>filter_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuVectorBase.html">CuVectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>bias_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_x_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_y_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_z_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_x_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_y_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_x_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_y_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a>&#160;</td>
          <td class="paramname"><em>input_vectorization</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>learning_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l02912">2912</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="cu-vector_8h_source.html#l00067">CuVectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01438">ConvolutionComponent::is_gradient_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>, and <a class="el" href="nnet-component-itf_8h_source.html#l00371">UpdatableComponent::SetLearningRate()</a>.</p>
<div class="fragment"><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                            :</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a>(input_x_dim),</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a>(input_y_dim),</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>(input_z_dim),</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>(filt_x_dim),</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>(filt_y_dim),</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>(filt_x_step),</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>(filt_y_step),</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a>(input_vectorization),</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>(filter_params),</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>(bias_params){</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(filter_params.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>() == bias_params.<a class="code" href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">Dim</a>() &amp;&amp;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;               bias_params.<a class="code" href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">Dim</a>() != 0);</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(filter_params.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>() == filt_x_dim * filt_y_dim * input_z_dim);</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#aeef72705ce4a8a7cb10331d248df2b83">SetLearningRate</a>(learning_rate);</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">is_gradient_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1UpdatableComponent_html_aeef72705ce4a8a7cb10331d248df2b83"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#aeef72705ce4a8a7cb10331d248df2b83">kaldi::nnet3::UpdatableComponent::SetLearningRate</a></div><div class="ttdeci">virtual void SetLearningRate(BaseFloat lrate)</div><div class="ttdoc">Sets the learning rate of gradient descent. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00371">nnet-component-itf.h:371</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_afe58124fbfb387ddc20513bf3075b16e"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">kaldi::CuMatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00196">cu-matrix.h:196</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_ac22929ffa93fd50a886e150013ed81fe"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">kaldi::CuVectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8h_source.html#l00067">cu-vector.h:67</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a95a4abdec65e2b9a9dc13725b6879cb9"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">kaldi::nnet3::ConvolutionComponent::is_gradient_</a></div><div class="ttdeci">bool is_gradient_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01438">nnet-simple-component.h:1438</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acdb3e97b46276e3c9f4f696c2bef3943"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function when called by &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> adds the parameters of another updatable component, times some constant, to the current parameters. </p>
<p>&ndash; a <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html" title="This kind of Component is a base-class for things like sigmoid, softmax and ReLU: nonlinearities that...">NonlinearComponent</a> it relates to adding stats Otherwise it should do nothing. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#aab16938236bd0978bad5de6d56fcf47f">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03200">3200</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="cu-matrix_8cc_source.html#l00881">CuMatrixBase&lt; Real &gt;::AddMat()</a>, <a class="el" href="cu-vector_8cc_source.html#l01075">CuVectorBase&lt; Real &gt;::AddVec()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, and <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>.</p>
<div class="fragment"><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;                                                                         {</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  <span class="keyword">const</span> <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">ConvolutionComponent</a> *other =</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;      <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">ConvolutionComponent</a>*<span class="keyword">&gt;</span>(&amp;other_in);</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(other != NULL);</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#a4bce9eaec860cf9d9a8aee7e440b976b">AddMat</a>(alpha, other-&gt;filter_params_);</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#a542693f72b8f09d0271f3c3873b6a852">AddVec</a>(alpha, other-&gt;bias_params_);</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a4bce9eaec860cf9d9a8aee7e440b976b"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a4bce9eaec860cf9d9a8aee7e440b976b">kaldi::CuMatrixBase::AddMat</a></div><div class="ttdeci">void AddMat(Real alpha, const CuMatrixBase&lt; Real &gt; &amp;A, MatrixTransposeType trans=kNoTrans)</div><div class="ttdoc">*this += alpha * A </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00881">cu-matrix.cc:881</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_a542693f72b8f09d0271f3c3873b6a852"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#a542693f72b8f09d0271f3c3873b6a852">kaldi::CuVectorBase::AddVec</a></div><div class="ttdeci">void AddVec(Real alpha, const CuVectorBase&lt; Real &gt; &amp;vec, Real beta=1.0)</div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l01075">cu-vector.cc:1075</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ace18897f9f4ac2b173c1ad280db3439d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">kaldi::nnet3::ConvolutionComponent::ConvolutionComponent</a></div><div class="ttdeci">ConvolutionComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l02889">nnet-simple-component.cc:2889</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeb9585c148f6f8919013b66b8be09bf3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Backprop </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>debug_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td>
          <td class="paramname"><em>indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_deriv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td>
          <td class="paramname"><em>to_update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>in_deriv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Backprop function; depending on which of the arguments 'to_update' and 'in_deriv' are non-NULL, this can compute input-data derivatives and/or perform model update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">debug_info</td><td>The component name, to be printed out in any warning messages. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indexes</td><td>A pointer to some information output by this class's PrecomputeIndexes function (will be NULL for simple components, i.e. those that don't do things like splicing). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_value</td><td>The matrix that was given as input to the Propagate function. Will be ignored (and may be empty) if <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a879b982812078b2e9c7c3c756e32be4e" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropNeedsInput == 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_value</td><td>The matrix that was output from the Propagate function. Will be ignored (and may be empty) if <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a879b982812078b2e9c7c3c756e32be4e" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropNeedsOutput == 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_deriv</td><td>The derivative at the output of this component. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_update</td><td>If model update is desired, the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> to be updated, else NULL. Does not have to be identical to this. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">in_deriv</td><td>The derivative at the input of this component, if needed (else NULL). If <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a879b982812078b2e9c7c3c756e32be4e" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropInPlace, may be the same matrix as out_deriv. If <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a879b982812078b2e9c7c3c756e32be4e" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropAdds, this is added to by the Backprop routine, else it is set. The component code chooses which mode to work in, based on convenience. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#aa2219a3e590b0a995243a7faed7d4df8">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03295">3295</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="cu-matrix_8h_source.html#l00492">CuMatrixBase&lt; Real &gt;::ColRange()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="matrix-common_8h_source.html#l00032">kaldi::kNoTrans</a>, <a class="el" href="matrix-common_8h_source.html#l00036">kaldi::kSetZero</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>.</p>
<div class="fragment"><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;                                                                             {</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">ConvolutionComponent</a> *to_update =</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;      <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">ConvolutionComponent</a>*<span class="keyword">&gt;</span>(to_update_in);</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_x_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>),</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;              num_y_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>),</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;              num_filters = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(),</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;              num_frames = out_deriv.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(),</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;              filter_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>();</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(out_deriv.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>() == num_frames &amp;&amp;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;               out_deriv.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>() ==</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;               (num_filters * num_x_steps * num_y_steps));</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;  <span class="comment">// Compute inderiv patches</span></div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;  CuMatrix&lt;BaseFloat&gt; in_deriv_patches(num_frames,</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                                       num_x_steps * num_y_steps * filter_dim,</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                                       <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112">kSetZero</a>);</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  std::vector&lt;CuSubMatrix&lt;BaseFloat&gt;* &gt; patch_deriv_batch, out_deriv_batch,</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;          filter_params_batch;</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;  CuSubMatrix&lt;BaseFloat&gt;* filter_params_elem = <span class="keyword">new</span> CuSubMatrix&lt;BaseFloat&gt;(</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;                  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>, 0, filter_params_.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(), 0,</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;                  filter_params_.NumCols());</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> x_step = 0; x_step &lt; num_x_steps; x_step++)  {</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> y_step = 0; y_step &lt; num_y_steps; y_step++)  {</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> patch_number = x_step * num_y_steps + y_step;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;      patch_deriv_batch.push_back(<span class="keyword">new</span> CuSubMatrix&lt;BaseFloat&gt;(</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;              in_deriv_patches.ColRange(</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;              patch_number * filter_dim, filter_dim)));</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;      out_deriv_batch.push_back(<span class="keyword">new</span> CuSubMatrix&lt;BaseFloat&gt;(out_deriv.<a class="code" href="classkaldi_1_1CuMatrixBase.html#a66484de1f6ff14016199ba17845c9651">ColRange</a>(</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;              patch_number * num_filters, num_filters)));</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;      filter_params_batch.push_back(filter_params_elem);</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    }</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;  }</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;  AddMatMatBatched&lt;BaseFloat&gt;(1.0, patch_deriv_batch,</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;                              out_deriv_batch, <a class="code" href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d">kNoTrans</a>,</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                              filter_params_batch, <a class="code" href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d">kNoTrans</a>, 0.0);</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  <span class="keywordflow">if</span> (in_deriv) {</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    <span class="comment">// combine the derivatives from the individual input deriv patches</span></div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;    <span class="comment">// to compute input deriv matrix</span></div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae9ac4d8faee2f2e3518575da7b83d2a0">InderivPatchesToInderiv</a>(in_deriv_patches, in_deriv);</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;  }</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <span class="keywordflow">if</span> (to_update != NULL)  {</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    to_update-&gt;Update(debug_info, in_value, out_deriv, out_deriv_batch);</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;  }</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;  <span class="comment">// release memory</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <span class="keyword">delete</span> filter_params_elem;</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> p = 0; p &lt; patch_deriv_batch.size(); p++) {</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keyword">delete</span> patch_deriv_batch[p];</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    <span class="keyword">delete</span> out_deriv_batch[p];</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  }</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_afe58124fbfb387ddc20513bf3075b16e"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">kaldi::CuMatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00196">cu-matrix.h:196</a></div></div>
<div class="ttc" id="namespacekaldi_html_a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d"><div class="ttname"><a href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d">kaldi::kNoTrans</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00032">matrix-common.h:32</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112">kaldi::kSetZero</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00036">matrix-common.h:36</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ace18897f9f4ac2b173c1ad280db3439d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">kaldi::nnet3::ConvolutionComponent::ConvolutionComponent</a></div><div class="ttdeci">ConvolutionComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l02889">nnet-simple-component.cc:2889</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae9ac4d8faee2f2e3518575da7b83d2a0"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae9ac4d8faee2f2e3518575da7b83d2a0">kaldi::nnet3::ConvolutionComponent::InderivPatchesToInderiv</a></div><div class="ttdeci">void InderivPatchesToInderiv(const CuMatrix&lt; BaseFloat &gt; &amp;in_deriv_patches, CuMatrixBase&lt; BaseFloat &gt; *in_deriv) const </div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03239">nnet-simple-component.cc:3239</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a66484de1f6ff14016199ba17845c9651"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a66484de1f6ff14016199ba17845c9651">kaldi::CuMatrixBase::ColRange</a></div><div class="ttdeci">CuSubMatrix&lt; Real &gt; ColRange(const MatrixIndexT col_offset, const MatrixIndexT num_cols) const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00492">cu-matrix.h:492</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5c4f15223897d71aaf79d859ea39b7f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classkaldi_1_1CuVector.html">CuVector</a>&lt;<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&gt;&amp; BiasParams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01372">1372</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>.</p>
<div class="fragment"><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>; }</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af135d6a50796feb18cb5270d53f108a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> * Copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies component (deep copy). </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#aa46d9c7de00be8203e16a6e55af0afef">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03516">3516</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8cc_source.html#l02889">ConvolutionComponent::ConvolutionComponent()</a>.</p>
<div class="fragment"><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;                                            {</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">ConvolutionComponent</a> *ans = <span class="keyword">new</span> <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">ConvolutionComponent</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;  <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ace18897f9f4ac2b173c1ad280db3439d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">kaldi::nnet3::ConvolutionComponent::ConvolutionComponent</a></div><div class="ttdeci">ConvolutionComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l02889">nnet-simple-component.cc:2889</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78a8c06148d52d2d0c383ba483fb6d05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> DotProduct </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html">UpdatableComponent</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes dot-product between parameters of two instances of a <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>. </p>
<p>Can be used for computing parameter-norm of an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a>. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#ac0697192d76083f84fc989f67fbee5e9">UpdatableComponent</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03509">3509</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="matrix-common_8h_source.html#l00031">kaldi::kTrans</a>, <a class="el" href="kaldi-matrix_8cc_source.html#l02531">kaldi::TraceMatMat()</a>, and <a class="el" href="kaldi-vector_8cc_source.html#l00036">kaldi::VecVec()</a>.</p>
<div class="fragment"><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;                                                                                   {</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  <span class="keyword">const</span> <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">ConvolutionComponent</a> *other =</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;      <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">ConvolutionComponent</a>*<span class="keyword">&gt;</span>(&amp;other_in);</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacekaldi.html#a94b9f349754706b9d6f38bb5ccc11c77">TraceMatMat</a>(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>, other-&gt;filter_params_, <a class="code" href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa538d6ef272b2ad113f1860fccbc2c3e2">kTrans</a>)</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;         + <a class="code" href="group__matrix__funcs__scalar.html#ga4750cd6f7a02a013435779588056b153">VecVec</a>(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>, other-&gt;bias_params_);</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_a610f4f6c3c8fe58b76713f593b9d724fa538d6ef272b2ad113f1860fccbc2c3e2"><div class="ttname"><a href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa538d6ef272b2ad113f1860fccbc2c3e2">kaldi::kTrans</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00031">matrix-common.h:31</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="namespacekaldi_html_a94b9f349754706b9d6f38bb5ccc11c77"><div class="ttname"><a href="namespacekaldi.html#a94b9f349754706b9d6f38bb5ccc11c77">kaldi::TraceMatMat</a></div><div class="ttdeci">Real TraceMatMat(const MatrixBase&lt; Real &gt; &amp;A, const MatrixBase&lt; Real &gt; &amp;B, MatrixTransposeType trans)</div><div class="ttdoc">We need to declare this here as it will be a friend function. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l02531">kaldi-matrix.cc:2531</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ace18897f9f4ac2b173c1ad280db3439d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ace18897f9f4ac2b173c1ad280db3439d">kaldi::nnet3::ConvolutionComponent::ConvolutionComponent</a></div><div class="ttdeci">ConvolutionComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l02889">nnet-simple-component.cc:2889</a></div></div>
<div class="ttc" id="group__matrix__funcs__scalar_html_ga4750cd6f7a02a013435779588056b153"><div class="ttname"><a href="group__matrix__funcs__scalar.html#ga4750cd6f7a02a013435779588056b153">kaldi::VecVec</a></div><div class="ttdeci">Real VecVec(const VectorBase&lt; Real &gt; &amp;a, const VectorBase&lt; Real &gt; &amp;b)</div><div class="ttdoc">Returns dot product between v1 and v2. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l00036">kaldi-vector.cc:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae9ac4d8faee2f2e3518575da7b83d2a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InderivPatchesToInderiv </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in_deriv_patches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>in_deriv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03239">3239</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="cu-matrix_8cc_source.html#l02182">CuMatrixBase&lt; Real &gt;::AddCols()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01424">ConvolutionComponent::input_vectorization_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01403">ConvolutionComponent::input_z_dim_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01309">ConvolutionComponent::kYzx</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01310">ConvolutionComponent::kZyx</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03219">kaldi::nnet3::RearrangeIndexes()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03083">kaldi::nnet3::YzxVectorIndex()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03091">kaldi::nnet3::ZyxVectorIndex()</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03295">ConvolutionComponent::Backprop()</a>.</p>
<div class="fragment"><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;                                             {</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_x_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>),</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;              num_y_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>),</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;              filt_x_step = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>,</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;              filt_y_step = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>,</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;              filt_x_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>,</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;              filt_y_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>,</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;              input_x_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a>,</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;              input_y_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a>,</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;              input_z_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>,</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;              filter_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>();</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;  <span class="comment">// Compute the reverse column_map from the matrix with input</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;  <span class="comment">// derivative patches to input derivative matrix</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  std::vector&lt;std::vector&lt;int32&gt; &gt; reverse_column_map(in_deriv-&gt;<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>());</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> rev_col_map_size = reverse_column_map.size();</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> x_step = 0; x_step &lt; num_x_steps; x_step++) {</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> y_step = 0; y_step &lt; num_y_steps; y_step++)  {</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> patch_number = x_step * num_y_steps + y_step;</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> patch_start_index = patch_number * filter_dim;</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> x = 0, index = patch_start_index; x &lt; filt_x_dim; x++)  {</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> y = 0; y &lt; filt_y_dim; y++)  {</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> z = 0; z &lt; input_z_dim; z++, index++)  {</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;            <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> vector_index;</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a> == <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kZyx</a>)  {</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;              vector_index = <a class="code" href="namespacekaldi_1_1nnet3.html#a25b3b76367d2844fb0f48334f1bd5691">ZyxVectorIndex</a>(x_step * filt_x_step + x,</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;                                            y_step * filt_y_step + y, z,</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;                                            input_x_dim, input_y_dim,</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                                            input_z_dim);</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;              <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a> == <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8">kYzx</a>);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;              vector_index = <a class="code" href="namespacekaldi_1_1nnet3.html#a264b986f95f2cb1e5bc7032967c69a27">YzxVectorIndex</a>(x_step * filt_x_step + x,</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;                                            y_step * filt_y_step + y, z,</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;                                            input_x_dim, input_y_dim,</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;                                            input_z_dim);</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;            }</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;            <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(vector_index &lt; rev_col_map_size);</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;            reverse_column_map[vector_index].push_back(index);</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;          }</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        }</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;      }</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    }</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;  }</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;  std::vector&lt;std::vector&lt;int32&gt; &gt; rearranged_column_map;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#ac37caf62dbe225383341d770509b2d55">RearrangeIndexes</a>(reverse_column_map, &amp;rearranged_column_map);</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> p = 0; p &lt; rearranged_column_map.size(); p++) {</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    CuArray&lt;int32&gt; cu_cols(rearranged_column_map[p]);</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    in_deriv-&gt;<a class="code" href="classkaldi_1_1CuMatrixBase.html#a88ecef902fbcfd13e5cf6fd0e87262e8">AddCols</a>(in_deriv_patches, cu_cols);</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;  }</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_afe58124fbfb387ddc20513bf3075b16e"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">kaldi::CuMatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00196">cu-matrix.h:196</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kaldi::nnet3::ConvolutionComponent::kZyx</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01310">nnet-simple-component.h:1310</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a88ecef902fbcfd13e5cf6fd0e87262e8"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a88ecef902fbcfd13e5cf6fd0e87262e8">kaldi::CuMatrixBase::AddCols</a></div><div class="ttdeci">void AddCols(const CuMatrixBase&lt; Real &gt; &amp;src, const CuArray&lt; MatrixIndexT &gt; &amp;indices)</div><div class="ttdoc">Add column indices[r] of src to column r. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l02182">cu-matrix.cc:2182</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a264b986f95f2cb1e5bc7032967c69a27"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a264b986f95f2cb1e5bc7032967c69a27">kaldi::nnet3::YzxVectorIndex</a></div><div class="ttdeci">int32 YzxVectorIndex(int32 x, int32 y, int32 z, int32 input_x_dim, int32 input_y_dim, int32 input_z_dim)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03083">nnet-simple-component.cc:3083</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8">kaldi::nnet3::ConvolutionComponent::kYzx</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01309">nnet-simple-component.h:1309</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a25b3b76367d2844fb0f48334f1bd5691"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a25b3b76367d2844fb0f48334f1bd5691">kaldi::nnet3::ZyxVectorIndex</a></div><div class="ttdeci">int32 ZyxVectorIndex(int32 x, int32 y, int32 z, int32 input_x_dim, int32 input_y_dim, int32 input_z_dim)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03091">nnet-simple-component.cc:3091</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_ac37caf62dbe225383341d770509b2d55"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#ac37caf62dbe225383341d770509b2d55">kaldi::nnet3::RearrangeIndexes</a></div><div class="ttdeci">void RearrangeIndexes(const std::vector&lt; std::vector&lt; int32 &gt; &gt; &amp;in, std::vector&lt; std::vector&lt; int32 &gt; &gt; *out)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03219">nnet-simple-component.cc:3219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17f20e0b2d35ec6866a6b479e7d9e867"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns some text-form information about this component, for diagnostics. </p>
<p>Starts with the type of the component. E.g. "SigmoidComponent dim=900", although most components will have much more info. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a17f20e0b2d35ec6866a6b479e7d9e867">UpdatableComponent</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03004">3004</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00205">UpdatableComponent::Info()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01424">ConvolutionComponent::input_vectorization_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01403">ConvolutionComponent::input_z_dim_</a>, <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>, and <a class="el" href="nnet-parse_8cc_source.html#l00498">kaldi::nnet3::PrintParameterStats()</a>.</p>
<div class="fragment"><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;                                           {</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  std::ostringstream stream;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  stream &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a17f20e0b2d35ec6866a6b479e7d9e867">UpdatableComponent::Info</a>()</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, input-x-dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a></div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, input-y-dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a></div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, input-z-dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, filt-x-dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a></div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, filt-y-dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a></div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, filt-x-step=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a></div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, filt-y-step=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a></div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, input-vectorization=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a></div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, num-filters=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>();</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a14e044557c8e48dce3feeb79c8402ff2">PrintParameterStats</a>(stream, <span class="stringliteral">&quot;filter-params&quot;</span>, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>);</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a14e044557c8e48dce3feeb79c8402ff2">PrintParameterStats</a>(stream, <span class="stringliteral">&quot;bias-params&quot;</span>, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>, <span class="keyword">true</span>);  </div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;  <span class="keywordflow">return</span> stream.str();</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a14e044557c8e48dce3feeb79c8402ff2"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a14e044557c8e48dce3feeb79c8402ff2">kaldi::nnet3::PrintParameterStats</a></div><div class="ttdeci">void PrintParameterStats(std::ostringstream &amp;os, const std::string &amp;name, const CuVector&lt; BaseFloat &gt; &amp;params, bool include_mean)</div><div class="ttdoc">Print to &#39;os&#39; some information about the mean and standard deviation of some parameters, used in Info() functions in nnet-simple-component.cc. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-parse_8cc_source.html#l00498">nnet-parse.cc:498</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1UpdatableComponent_html_a17f20e0b2d35ec6866a6b479e7d9e867"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a17f20e0b2d35ec6866a6b479e7d9e867">kaldi::nnet3::UpdatableComponent::Info</a></div><div class="ttdeci">virtual std::string Info() const </div><div class="ttdoc">Returns some text-form information about this component, for diagnostics. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8cc_source.html#l00205">nnet-component-itf.cc:205</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0d1cf5c0f883b725b8be34cda29cf33d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_x_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_y_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_z_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_x_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_y_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_x_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_y_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>num_filters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a>&#160;</td>
          <td class="paramname"><em>input_vectorization</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>param_stddev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>bias_stddev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l02951">2951</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01424">ConvolutionComponent::input_vectorization_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01403">ConvolutionComponent::input_z_dim_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="cu-vector_8cc_source.html#l00841">CuVector&lt; Real &gt;::Resize()</a>, <a class="el" href="cu-matrix_8cc_source.html#l00048">CuMatrix&lt; Real &gt;::Resize()</a>, <a class="el" href="cu-vector_8cc_source.html#l01054">CuVectorBase&lt; Real &gt;::Scale()</a>, <a class="el" href="cu-matrix_8cc_source.html#l00593">CuMatrixBase&lt; Real &gt;::Scale()</a>, <a class="el" href="cu-vector_8cc_source.html#l00253">CuVectorBase&lt; Real &gt;::SetRandn()</a>, and <a class="el" href="cu-matrix_8cc_source.html#l02531">CuMatrixBase&lt; Real &gt;::SetRandn()</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03022">ConvolutionComponent::InitFromConfig()</a>.</p>
<div class="fragment"><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;                                                   {</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> = input_x_dim;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> = input_y_dim;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a> = input_z_dim;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a> = filt_x_dim;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a> = filt_y_dim;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a> = filt_x_step;</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a> = filt_y_step;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a> = input_vectorization;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>((<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>) % <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a> == 0);</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>((<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>) % <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a> == 0);</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filter_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a> * <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a> * <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrix.html#a39a370ea7e90c08257788d32cd67be66">Resize</a>(num_filters, filter_dim);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVector.html#a5a43d921109ac632b7c754f5f9c7278c">Resize</a>(num_filters);</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(param_stddev &gt;= 0.0 &amp;&amp; bias_stddev &gt;= 0.0);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#a40c5a82d6d015bdcc0079b535b1e9a23">SetRandn</a>();</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ac54802d75d4c9025310b579e3fcea00c">Scale</a>(param_stddev);</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#a40c5a82d6d015bdcc0079b535b1e9a23">SetRandn</a>();</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#ac54802d75d4c9025310b579e3fcea00c">Scale</a>(bias_stddev);</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a40c5a82d6d015bdcc0079b535b1e9a23"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a40c5a82d6d015bdcc0079b535b1e9a23">kaldi::CuMatrixBase::SetRandn</a></div><div class="ttdeci">void SetRandn()</div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l02531">cu-matrix.cc:2531</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ac54802d75d4c9025310b579e3fcea00c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ac54802d75d4c9025310b579e3fcea00c">kaldi::CuMatrixBase::Scale</a></div><div class="ttdeci">void Scale(Real value)</div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00593">cu-matrix.cc:593</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVector_html_a5a43d921109ac632b7c754f5f9c7278c"><div class="ttname"><a href="classkaldi_1_1CuVector.html#a5a43d921109ac632b7c754f5f9c7278c">kaldi::CuVector::Resize</a></div><div class="ttdeci">void Resize(MatrixIndexT dim, MatrixResizeType t=kSetZero)</div><div class="ttdoc">Allocate the memory. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l00841">cu-vector.cc:841</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_a40c5a82d6d015bdcc0079b535b1e9a23"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#a40c5a82d6d015bdcc0079b535b1e9a23">kaldi::CuVectorBase::SetRandn</a></div><div class="ttdeci">void SetRandn()</div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l00253">cu-vector.cc:253</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html_a39a370ea7e90c08257788d32cd67be66"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html#a39a370ea7e90c08257788d32cd67be66">kaldi::CuMatrix::Resize</a></div><div class="ttdeci">void Resize(MatrixIndexT rows, MatrixIndexT cols, MatrixResizeType resize_type=kSetZero)</div><div class="ttdoc">Allocate the memory. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00048">cu-matrix.cc:48</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_ac54802d75d4c9025310b579e3fcea00c"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#ac54802d75d4c9025310b579e3fcea00c">kaldi::CuVectorBase::Scale</a></div><div class="ttdeci">void Scale(Real value)</div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l01054">cu-vector.cc:1054</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a190f70140477428e75a8743e9ce2c08b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_x_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_y_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_z_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_x_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_y_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_x_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>filt_y_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a>&#160;</td>
          <td class="paramname"><em>input_vectorization</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>matrix_filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l02978">2978</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="cu-vector_8cc_source.html#l00080">CuVectorBase&lt; Real &gt;::CopyColFromMat()</a>, <a class="el" href="cu-matrix_8cc_source.html#l00322">CuMatrixBase&lt; Real &gt;::CopyFromMat()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01424">ConvolutionComponent::input_vectorization_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01403">ConvolutionComponent::input_z_dim_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="cu-matrix_8h_source.html#l00480">CuMatrixBase&lt; Real &gt;::Range()</a>, <a class="el" href="kaldi-io_8h_source.html#l00236">kaldi::ReadKaldiObject()</a>, <a class="el" href="cu-vector_8cc_source.html#l00841">CuVector&lt; Real &gt;::Resize()</a>, and <a class="el" href="cu-matrix_8cc_source.html#l00048">CuMatrix&lt; Real &gt;::Resize()</a>.</p>
<div class="fragment"><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;                               {</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> = input_x_dim;</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> = input_y_dim;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a> = input_z_dim;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a> = filt_x_dim;</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a> = filt_y_dim;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a> = filt_x_step;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a> = filt_y_step;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a> = input_vectorization;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  CuMatrix&lt;BaseFloat&gt; mat;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  <a class="code" href="group__io__group.html#ga341cc6177bb3e982c9d66b57cd57c4a8">ReadKaldiObject</a>(matrix_filename, &amp;mat);</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filter_dim = (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a> * <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a> * <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>);</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_filters = mat.NumRows();</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(mat.NumCols() == (filter_dim + 1));</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrix.html#a39a370ea7e90c08257788d32cd67be66">Resize</a>(num_filters, filter_dim);</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVector.html#a5a43d921109ac632b7c754f5f9c7278c">Resize</a>(num_filters);</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#a79817f1cbd9d8478d4137d6dd815a584">CopyFromMat</a>(mat.Range(0, num_filters, 0, filter_dim));</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#a8ec6b54f06cd2ba3520a8892ac4d929b">CopyColFromMat</a>(mat, filter_dim);</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a79817f1cbd9d8478d4137d6dd815a584"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a79817f1cbd9d8478d4137d6dd815a584">kaldi::CuMatrixBase::CopyFromMat</a></div><div class="ttdeci">void CopyFromMat(const MatrixBase&lt; OtherReal &gt; &amp;src, MatrixTransposeType trans=kNoTrans)</div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00322">cu-matrix.cc:322</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_a8ec6b54f06cd2ba3520a8892ac4d929b"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#a8ec6b54f06cd2ba3520a8892ac4d929b">kaldi::CuVectorBase::CopyColFromMat</a></div><div class="ttdeci">void CopyColFromMat(const CuMatrixBase&lt; Real &gt; &amp;mat, MatrixIndexT col)</div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l00080">cu-vector.cc:80</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVector_html_a5a43d921109ac632b7c754f5f9c7278c"><div class="ttname"><a href="classkaldi_1_1CuVector.html#a5a43d921109ac632b7c754f5f9c7278c">kaldi::CuVector::Resize</a></div><div class="ttdeci">void Resize(MatrixIndexT dim, MatrixResizeType t=kSetZero)</div><div class="ttdoc">Allocate the memory. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l00841">cu-vector.cc:841</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="group__io__group_html_ga341cc6177bb3e982c9d66b57cd57c4a8"><div class="ttname"><a href="group__io__group.html#ga341cc6177bb3e982c9d66b57cd57c4a8">kaldi::ReadKaldiObject</a></div><div class="ttdeci">void ReadKaldiObject(const std::string &amp;filename, C *c)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-io_8h_source.html#l00236">kaldi-io.h:236</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html_a39a370ea7e90c08257788d32cd67be66"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html#a39a370ea7e90c08257788d32cd67be66">kaldi::CuMatrix::Resize</a></div><div class="ttdeci">void Resize(MatrixIndexT rows, MatrixIndexT cols, MatrixResizeType resize_type=kSetZero)</div><div class="ttdoc">Allocate the memory. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00048">cu-matrix.cc:48</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac4f5c35427c2657c50173313e99e3f01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InitFromConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html">ConfigLine</a> *&#160;</td>
          <td class="paramname"><em>cfl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize, from a <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input xx=yyy a=b c empty= f-oo=bar ba_z=123 bing=&#39;a b c&#39; baz=&quot;...">ConfigLine</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cfl</td><td>A <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input xx=yyy a=b c empty= f-oo=bar ba_z=123 bing=&#39;a b c&#39; baz=&quot;...">ConfigLine</a> containing any parameters that are needed for initialization. For example: "dim=100 param-stddev=0.1" </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a1f7dc9cc61293d3c7decb5bd8ea3f4d5">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03022">3022</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-parse_8cc_source.html#l00092">ConfigLine::GetValue()</a>, <a class="el" href="nnet-parse_8cc_source.html#l00176">ConfigLine::HasUnusedValues()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00148">UpdatableComponent::InitLearningRatesFromConfig()</a>, <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01309">ConvolutionComponent::kYzx</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01310">ConvolutionComponent::kZyx</a>, <a class="el" href="nnet-parse_8cc_source.html#l00184">ConfigLine::UnusedValues()</a>, and <a class="el" href="nnet-parse_8h_source.html#l00064">ConfigLine::WholeLine()</a>.</p>
<div class="fragment"><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                                                         {</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;  <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;  std::string matrix_filename;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_x_dim = -1, input_y_dim = -1, input_z_dim = -1,</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;        filt_x_dim = -1, filt_y_dim = -1,</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;        filt_x_step = -1, filt_y_step = -1,</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;        num_filters = -1;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;  std::string input_vectorization_order = <span class="stringliteral">&quot;zyx&quot;</span>;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#ae85774801475096c0cc34fd2d6a021ab">InitLearningRatesFromConfig</a>(cfl);</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;  ok = ok &amp;&amp; cfl-&gt;GetValue(<span class="stringliteral">&quot;input-x-dim&quot;</span>, &amp;input_x_dim);</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;  ok = ok &amp;&amp; cfl-&gt;GetValue(<span class="stringliteral">&quot;input-y-dim&quot;</span>, &amp;input_y_dim);</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;  ok = ok &amp;&amp; cfl-&gt;GetValue(<span class="stringliteral">&quot;input-z-dim&quot;</span>, &amp;input_z_dim);</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;  ok = ok &amp;&amp; cfl-&gt;GetValue(<span class="stringliteral">&quot;filt-x-dim&quot;</span>, &amp;filt_x_dim);</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;  ok = ok &amp;&amp; cfl-&gt;GetValue(<span class="stringliteral">&quot;filt-y-dim&quot;</span>, &amp;filt_y_dim);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  ok = ok &amp;&amp; cfl-&gt;GetValue(<span class="stringliteral">&quot;filt-x-step&quot;</span>, &amp;filt_x_step);</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;  ok = ok &amp;&amp; cfl-&gt;GetValue(<span class="stringliteral">&quot;filt-y-step&quot;</span>, &amp;filt_y_step);</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Bad initializer &quot;</span> &lt;&lt; cfl-&gt;WholeLine();</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <span class="comment">// optional argument</span></div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a> input_vectorization;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  cfl-&gt;GetValue(<span class="stringliteral">&quot;input-vectorization-order&quot;</span>, &amp;input_vectorization_order);</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  <span class="keywordflow">if</span> (input_vectorization_order.compare(<span class="stringliteral">&quot;zyx&quot;</span>) == 0) {</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    input_vectorization = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kZyx</a>;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (input_vectorization_order.compare(<span class="stringliteral">&quot;yzx&quot;</span>) == 0) {</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    input_vectorization = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8">kYzx</a>;</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Unknown or unsupported input vectorization order &quot;</span></div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;              &lt;&lt; input_vectorization_order</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; accepted candidates are &#39;yzx&#39; and &#39;zyx&#39;&quot;</span>;</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;  }</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;  <span class="keywordflow">if</span> (cfl-&gt;GetValue(<span class="stringliteral">&quot;matrix&quot;</span>, &amp;matrix_filename)) {</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    <span class="comment">// initialize from prefined parameter matrix</span></div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0d1cf5c0f883b725b8be34cda29cf33d">Init</a>(input_x_dim, input_y_dim, input_z_dim,</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;         filt_x_dim, filt_y_dim,</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;         filt_x_step, filt_y_step,</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;         input_vectorization,</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;         matrix_filename);</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    ok = ok &amp;&amp; cfl-&gt;GetValue(<span class="stringliteral">&quot;num-filters&quot;</span>, &amp;num_filters);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;      <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Bad initializer &quot;</span> &lt;&lt; cfl-&gt;WholeLine();</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <span class="comment">// initialize from configuration</span></div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filter_input_dim = filt_x_dim * filt_y_dim * input_z_dim;</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> param_stddev = 1.0 / std::sqrt(filter_input_dim), bias_stddev = 1.0;</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    cfl-&gt;GetValue(<span class="stringliteral">&quot;param-stddev&quot;</span>, &amp;param_stddev);</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    cfl-&gt;GetValue(<span class="stringliteral">&quot;bias-stddev&quot;</span>, &amp;bias_stddev);</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0d1cf5c0f883b725b8be34cda29cf33d">Init</a>(input_x_dim, input_y_dim, input_z_dim,</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;         filt_x_dim, filt_y_dim, filt_x_step, filt_y_step, num_filters,</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;         input_vectorization, param_stddev, bias_stddev);</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  }</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  <span class="keywordflow">if</span> (cfl-&gt;HasUnusedValues())</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Could not process these elements in initializer: &quot;</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;              &lt;&lt; cfl-&gt;UnusedValues();</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;  <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Bad initializer &quot;</span> &lt;&lt; cfl-&gt;WholeLine();</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cf"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">kaldi::nnet3::ConvolutionComponent::TensorVectorizationType</a></div><div class="ttdeci">TensorVectorizationType</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01308">nnet-simple-component.h:1308</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0d1cf5c0f883b725b8be34cda29cf33d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0d1cf5c0f883b725b8be34cda29cf33d">kaldi::nnet3::ConvolutionComponent::Init</a></div><div class="ttdeci">void Init(int32 input_x_dim, int32 input_y_dim, int32 input_z_dim, int32 filt_x_dim, int32 filt_y_dim, int32 filt_x_step, int32 filt_y_step, int32 num_filters, TensorVectorizationType input_vectorization, BaseFloat param_stddev, BaseFloat bias_stddev)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l02951">nnet-simple-component.cc:2951</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1UpdatableComponent_html_ae85774801475096c0cc34fd2d6a021ab"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#ae85774801475096c0cc34fd2d6a021ab">kaldi::nnet3::UpdatableComponent::InitLearningRatesFromConfig</a></div><div class="ttdeci">void InitLearningRatesFromConfig(ConfigLine *cfl)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8cc_source.html#l00148">nnet-component-itf.cc:148</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kaldi::nnet3::ConvolutionComponent::kZyx</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01310">nnet-simple-component.h:1310</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8">kaldi::nnet3::ConvolutionComponent::kYzx</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01309">nnet-simple-component.h:1309</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeb663d83b7e18de03e9cbaece788267b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> InputDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns input-dimension of this component. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a7f37d871d35c43a03324502cea308635">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l02938">2938</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, and <a class="el" href="nnet-simple-component_8h_source.html#l01403">ConvolutionComponent::input_z_dim_</a>.</p>
<div class="fragment"><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;                                           {</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> * <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> * <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a00cd0b6391af77bdad08d605fe5692d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InputToInputPatches </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>patches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03102">3102</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="cu-matrix_8cc_source.html#l02137">CuMatrixBase&lt; Real &gt;::CopyCols()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01424">ConvolutionComponent::input_vectorization_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01403">ConvolutionComponent::input_z_dim_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01309">ConvolutionComponent::kYzx</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01310">ConvolutionComponent::kZyx</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03083">kaldi::nnet3::YzxVectorIndex()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03091">kaldi::nnet3::ZyxVectorIndex()</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03149">ConvolutionComponent::Propagate()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>.</p>
<div class="fragment"><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;                                       {</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_x_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>);</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_y_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>);</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_x_step = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>,</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;              filt_y_step = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>,</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;              filt_x_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>,</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;              filt_y_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>,</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;              input_x_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a>,</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;              input_y_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a>,</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;              input_z_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>,</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;              filter_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>();</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;  std::vector&lt;int32&gt; column_map(patches-&gt;<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>());</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> column_map_size = column_map.size();</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> x_step = 0; x_step &lt; num_x_steps; x_step++) {</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> y_step = 0; y_step &lt; num_y_steps; y_step++)  {</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> patch_number = x_step * num_y_steps + y_step;</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> patch_start_index = patch_number * filter_dim;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> x = 0, index = patch_start_index; x &lt; filt_x_dim; x++)  {</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> y = 0; y &lt; filt_y_dim; y++)  {</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> z = 0; z &lt; input_z_dim; z++, index++)  {</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;            <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(index &lt; column_map_size);</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a> == <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kZyx</a>)  {</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;              column_map[index] = <a class="code" href="namespacekaldi_1_1nnet3.html#a25b3b76367d2844fb0f48334f1bd5691">ZyxVectorIndex</a>(x_step * filt_x_step + x,</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;                                                 y_step * filt_y_step + y, z,</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;                                                 input_x_dim, input_y_dim,</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                                                 input_z_dim);</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a> == <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8">kYzx</a>)  {</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;              column_map[index] = <a class="code" href="namespacekaldi_1_1nnet3.html#a264b986f95f2cb1e5bc7032967c69a27">YzxVectorIndex</a>(x_step * filt_x_step + x,</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                                                  y_step * filt_y_step + y, z,</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                                                  input_x_dim, input_y_dim,</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;                                                  input_z_dim);</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;            }</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;          }</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;        }</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;      }</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    }</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;  }</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  CuArray&lt;int32&gt; cu_cols(column_map);</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  patches-&gt;<a class="code" href="classkaldi_1_1CuMatrixBase.html#a3a73af5f31b4d673cce6976fc49fa080">CopyCols</a>(in, cu_cols);</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_afe58124fbfb387ddc20513bf3075b16e"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">kaldi::CuMatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00196">cu-matrix.h:196</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa6a4fb6bd563de86500375e16d9914146">kaldi::nnet3::ConvolutionComponent::kZyx</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01310">nnet-simple-component.h:1310</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a3a73af5f31b4d673cce6976fc49fa080"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a3a73af5f31b4d673cce6976fc49fa080">kaldi::CuMatrixBase::CopyCols</a></div><div class="ttdeci">void CopyCols(const CuMatrixBase&lt; Real &gt; &amp;src, const CuArray&lt; MatrixIndexT &gt; &amp;indexes)</div><div class="ttdoc">Copies column r from column indexes[r] of src. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l02137">cu-matrix.cc:2137</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a264b986f95f2cb1e5bc7032967c69a27"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a264b986f95f2cb1e5bc7032967c69a27">kaldi::nnet3::YzxVectorIndex</a></div><div class="ttdeci">int32 YzxVectorIndex(int32 x, int32 y, int32 z, int32 input_x_dim, int32 input_y_dim, int32 input_z_dim)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03083">nnet-simple-component.cc:3083</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cfa17d66fa6ed67bcaaa1edb7b291c8e9b8">kaldi::nnet3::ConvolutionComponent::kYzx</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01309">nnet-simple-component.h:1309</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a25b3b76367d2844fb0f48334f1bd5691"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a25b3b76367d2844fb0f48334f1bd5691">kaldi::nnet3::ZyxVectorIndex</a></div><div class="ttdeci">int32 ZyxVectorIndex(int32 x, int32 y, int32 z, int32 input_x_dim, int32 input_y_dim, int32 input_z_dim)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03091">nnet-simple-component.cc:3091</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad8e632fb05869d446940cfc912c88088"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt;<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&gt;&amp; LinearParams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01373">1373</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>.</p>
<div class="fragment"><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>; }</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad8ca42ab9569d725aa8fd732ca570fbd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> NumParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The following new virtual function returns the total dimension of the parameters in this class. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a517fbabeba8d141cca20bea307710195">UpdatableComponent</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03538">3538</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, and <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03548">ConvolutionComponent::UnVectorize()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03542">ConvolutionComponent::Vectorize()</a>.</p>
<div class="fragment"><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;                                                {</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>() + 1) * <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>();</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_afe58124fbfb387ddc20513bf3075b16e"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">kaldi::CuMatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00196">cu-matrix.h:196</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d6d9d0082dcdd66d6a48d8d45a6c97e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae39b5253d9ea1bf56343664faa2dfc23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> OutputDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns output-dimension of this component. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ac0f2f034a884363d4e0694c62ea8a764">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l02943">2943</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, and <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>.</p>
<div class="fragment"><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                                            {</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_x_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>);</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_y_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>);</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_filters = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>();</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <span class="keywordflow">return</span> num_x_steps * num_y_steps * num_filters;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a69a59272c763dc9372ad7d0671a87dad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PerturbParams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>stddev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is to be used in testing. </p>
<p>It adds unit noise times "stddev" to the parameters of the component. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#af8524a3f9d683293269f46e3cc54b285">UpdatableComponent</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03521">3521</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="cu-matrix_8cc_source.html#l00881">CuMatrixBase&lt; Real &gt;::AddMat()</a>, <a class="el" href="cu-vector_8cc_source.html#l01075">CuVectorBase&lt; Real &gt;::AddVec()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="cu-vector_8cc_source.html#l00253">CuVectorBase&lt; Real &gt;::SetRandn()</a>, and <a class="el" href="cu-matrix_8cc_source.html#l02531">CuMatrixBase&lt; Real &gt;::SetRandn()</a>.</p>
<div class="fragment"><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;                                                         {</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;  CuMatrix&lt;BaseFloat&gt; temp_filter_params(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>);</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;  temp_filter_params.SetRandn();</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#a4bce9eaec860cf9d9a8aee7e440b976b">AddMat</a>(stddev, temp_filter_params);</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;  CuVector&lt;BaseFloat&gt; temp_bias_params(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>);</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  temp_bias_params.SetRandn();</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#a542693f72b8f09d0271f3c3873b6a852">AddVec</a>(stddev, temp_bias_params);</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a4bce9eaec860cf9d9a8aee7e440b976b"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a4bce9eaec860cf9d9a8aee7e440b976b">kaldi::CuMatrixBase::AddMat</a></div><div class="ttdeci">void AddMat(Real alpha, const CuMatrixBase&lt; Real &gt; &amp;A, MatrixTransposeType trans=kNoTrans)</div><div class="ttdoc">*this += alpha * A </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00881">cu-matrix.cc:881</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_a542693f72b8f09d0271f3c3873b6a852"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#a542693f72b8f09d0271f3c3873b6a852">kaldi::CuVectorBase::AddVec</a></div><div class="ttdeci">void AddVec(Real alpha, const CuVectorBase&lt; Real &gt; &amp;vec, Real beta=1.0)</div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l01075">cu-vector.cc:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac88a864398e6912a94e09786f1d87019"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Propagate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td>
          <td class="paramname"><em>indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Propagate function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">indexes</td><td>A pointer to some information output by this class's PrecomputeIndexes function (will be NULL for simple components, i.e. those that don't do things like splicing). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>The input to this component. Num-columns == <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#aeb663d83b7e18de03e9cbaece788267b" title="Returns input-dimension of this component. ">InputDim()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>The output of this component. Num-columns == <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae39b5253d9ea1bf56343664faa2dfc23" title="Returns output-dimension of this component. ">OutputDim()</a>. Note: output of this component will be added to the initial value of "out" if <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a879b982812078b2e9c7c3c756e32be4e" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kPropagateAdds != 0; otherwise the output will be set and the initial value ignored. Each <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> chooses whether it is more convenient implementation-wise to add or set, and the calling code has to deal with it. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a5923fbec316ecf7d5a7f6d7e1cbc5ada">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03149">3149</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="cu-matrix_8cc_source.html#l01013">CuMatrixBase&lt; Real &gt;::AddVecToRows()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="cu-matrix_8h_source.html#l00492">CuMatrixBase&lt; Real &gt;::ColRange()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="matrix-common_8h_source.html#l00032">kaldi::kNoTrans</a>, <a class="el" href="matrix-common_8h_source.html#l00031">kaldi::kTrans</a>, <a class="el" href="matrix-common_8h_source.html#l00037">kaldi::kUndefined</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, and <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>.</p>
<div class="fragment"><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                                                                             {</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_x_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>),</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;              num_y_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>),</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;              num_filters = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(),</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;              num_frames = in.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(),</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;              filter_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>();</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>((*out).NumRows() == num_frames &amp;&amp;</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;               (*out).NumCols() == (num_filters * num_x_steps * num_y_steps));</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  CuMatrix&lt;BaseFloat&gt; patches(num_frames,</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;                              num_x_steps * num_y_steps * filter_dim,</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;                              <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kUndefined</a>);</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a00cd0b6391af77bdad08d605fe5692d6">InputToInputPatches</a>(in, &amp;patches);</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  CuSubMatrix&lt;BaseFloat&gt;* filter_params_elem = <span class="keyword">new</span> CuSubMatrix&lt;BaseFloat&gt;(</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>, 0, filter_params_.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(), 0,</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;                  filter_params_.NumCols());</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  std::vector&lt;CuSubMatrix&lt;BaseFloat&gt;* &gt; tgt_batch, patch_batch,</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;      filter_params_batch;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> x_step = 0; x_step &lt; num_x_steps; x_step++)  {</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> y_step = 0; y_step &lt; num_y_steps; y_step++)  {</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> patch_number = x_step * num_y_steps + y_step;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      tgt_batch.push_back(<span class="keyword">new</span> CuSubMatrix&lt;BaseFloat&gt;(</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;              out-&gt;<a class="code" href="classkaldi_1_1CuMatrixBase.html#a66484de1f6ff14016199ba17845c9651">ColRange</a>(patch_number * num_filters, num_filters)));</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;      patch_batch.push_back(<span class="keyword">new</span> CuSubMatrix&lt;BaseFloat&gt;(</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;              patches.ColRange(patch_number * filter_dim, filter_dim)));</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;      filter_params_batch.push_back(filter_params_elem);</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;      tgt_batch[patch_number]-&gt;AddVecToRows(1.0, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>, 1.0); <span class="comment">// add bias</span></div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    }</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  }</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;  <span class="comment">// apply all filters</span></div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;  AddMatMatBatched&lt;BaseFloat&gt;(1.0, tgt_batch, patch_batch,</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;                              <a class="code" href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d">kNoTrans</a>, filter_params_batch,</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                              <a class="code" href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa538d6ef272b2ad113f1860fccbc2c3e2">kTrans</a>, 1.0);</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;  <span class="comment">// release memory</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;  <span class="keyword">delete</span> filter_params_elem;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> p = 0; p &lt; tgt_batch.size(); p++) {</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <span class="keyword">delete</span> tgt_batch[p];</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="keyword">delete</span> patch_batch[p];</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;  }</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kaldi::kUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00037">matrix-common.h:37</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_afe58124fbfb387ddc20513bf3075b16e"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">kaldi::CuMatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00196">cu-matrix.h:196</a></div></div>
<div class="ttc" id="namespacekaldi_html_a610f4f6c3c8fe58b76713f593b9d724fa538d6ef272b2ad113f1860fccbc2c3e2"><div class="ttname"><a href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa538d6ef272b2ad113f1860fccbc2c3e2">kaldi::kTrans</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00031">matrix-common.h:31</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="namespacekaldi_html_a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d"><div class="ttname"><a href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d">kaldi::kNoTrans</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00032">matrix-common.h:32</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a00cd0b6391af77bdad08d605fe5692d6"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a00cd0b6391af77bdad08d605fe5692d6">kaldi::nnet3::ConvolutionComponent::InputToInputPatches</a></div><div class="ttdeci">void InputToInputPatches(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *patches) const </div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03102">nnet-simple-component.cc:3102</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a66484de1f6ff14016199ba17845c9651"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a66484de1f6ff14016199ba17845c9651">kaldi::CuMatrixBase::ColRange</a></div><div class="ttdeci">CuSubMatrix&lt; Real &gt; ColRange(const MatrixIndexT col_offset, const MatrixIndexT num_cols) const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00492">cu-matrix.h:492</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a879b982812078b2e9c7c3c756e32be4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> Properties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return bitmask of the component's properties. </p>
<p>These properties depend only on the component's type. See enum ComponentProperties. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01332">1332</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>References <a class="el" href="nnet-component-itf_8h_source.html#l00067">kaldi::nnet3::kBackpropAdds</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00071">kaldi::nnet3::kBackpropNeedsInput</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00060">kaldi::nnet3::kPropagateAdds</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00038">kaldi::nnet3::kSimpleComponent</a>, and <a class="el" href="nnet-component-itf_8h_source.html#l00042">kaldi::nnet3::kUpdatableComponent</a>.</p>
<div class="fragment"><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                                   {</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a5530b2f8f01fac9e6e73fd29a65d4127">kSimpleComponent</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a61132a04f6c327dffd7f053b93ae393b">kUpdatableComponent</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3adac6588b2ef2e8b52936718cf97263e7">kBackpropNeedsInput</a>|</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3acda3bbc91bd09631b18fdc57376c2b90">kBackpropAdds</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a5180ca55eb0162c68740d51295d056c7">kPropagateAdds</a>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  }</div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a61132a04f6c327dffd7f053b93ae393b"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a61132a04f6c327dffd7f053b93ae393b">kaldi::nnet3::kUpdatableComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00042">nnet-component-itf.h:42</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a5530b2f8f01fac9e6e73fd29a65d4127"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a5530b2f8f01fac9e6e73fd29a65d4127">kaldi::nnet3::kSimpleComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00038">nnet-component-itf.h:38</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3adac6588b2ef2e8b52936718cf97263e7"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3adac6588b2ef2e8b52936718cf97263e7">kaldi::nnet3::kBackpropNeedsInput</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00071">nnet-component-itf.h:71</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a5180ca55eb0162c68740d51295d056c7"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a5180ca55eb0162c68740d51295d056c7">kaldi::nnet3::kPropagateAdds</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00060">nnet-component-itf.h:60</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3acda3bbc91bd09631b18fdc57376c2b90"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3acda3bbc91bd09631b18fdc57376c2b90">kaldi::nnet3::kBackpropAdds</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00067">nnet-component-itf.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e7d2790fc7e94fe9780ccc937de1270"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Read </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read function (used after we know the type of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>); accepts input that is missing the token that describes the component type, in case it has already been consumed. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a5d1c1c5364c25160bfef9dda52480cf5">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03447">3447</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="nnet-descriptor_8cc_source.html#l00045">kaldi::nnet3::ExpectToken()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01424">ConvolutionComponent::input_vectorization_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01403">ConvolutionComponent::input_z_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01438">ConvolutionComponent::is_gradient_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="cu-vector_8cc_source.html#l00811">CuVector&lt; Real &gt;::Read()</a>, <a class="el" href="cu-matrix_8cc_source.html#l00444">CuMatrix&lt; Real &gt;::Read()</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00054">kaldi::ReadBasicType()</a>, <a class="el" href="io-funcs_8cc_source.html#l00154">kaldi::ReadToken()</a>, and <a class="el" href="nnet-component-itf_8cc_source.html#l00156">UpdatableComponent::ReadUpdatableCommon()</a>.</p>
<div class="fragment"><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;                                                           {</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#acb0dc5637f4e0fa223120cf3aee28d8c">ReadUpdatableCommon</a>(is, binary);  <span class="comment">// Read opening tag and learning rate.</span></div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;InputXDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a>);</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;InputYDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a>);</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;InputZDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>);</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;FiltXDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>);</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;FiltYDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>);</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;FiltXStep&gt;&quot;</span>);</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>);</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;FiltYStep&gt;&quot;</span>);</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>);</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;InputVectorization&gt;&quot;</span>);</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_vectorization;</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;input_vectorization);</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a><span class="keyword">&gt;</span>(input_vectorization);</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;FilterParams&gt;&quot;</span>);</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrix.html#a8e7d2790fc7e94fe9780ccc937de1270">Read</a>(is, binary);</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;BiasParams&gt;&quot;</span>);</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVector.html#a8e7d2790fc7e94fe9780ccc937de1270">Read</a>(is, binary);</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;  std::string tok;</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  <a class="code" href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">ReadToken</a>(is, binary, &amp;tok);</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;  <span class="keywordflow">if</span> (tok == <span class="stringliteral">&quot;&lt;IsGradient&gt;&quot;</span>) {</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">is_gradient_</a>);</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;/ConvolutionComponent&gt;&quot;</span>);</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">is_gradient_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(tok == <span class="stringliteral">&quot;&lt;/ConvolutionComponent&gt;&quot;</span>);</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;  }</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae5ab0056478231cd9c4427f9253802cf"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">kaldi::nnet3::ConvolutionComponent::TensorVectorizationType</a></div><div class="ttdeci">TensorVectorizationType</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01308">nnet-simple-component.h:1308</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga1bd1af0ef712b76f2332febcec8d095a"><div class="ttname"><a href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">kaldi::ReadBasicType</a></div><div class="ttdeci">void ReadBasicType(std::istream &amp;is, bool binary, T *t)</div><div class="ttdoc">ReadBasicType is the name of the read function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00054">io-funcs-inl.h:54</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_gacbf9367cd910befefa0bc98055979bea"><div class="ttname"><a href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">kaldi::ReadToken</a></div><div class="ttdeci">void ReadToken(std::istream &amp;is, bool binary, std::string *str)</div><div class="ttdoc">ReadToken gets the next token and puts it in str (exception on failure). </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00154">io-funcs.cc:154</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1UpdatableComponent_html_acb0dc5637f4e0fa223120cf3aee28d8c"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#acb0dc5637f4e0fa223120cf3aee28d8c">kaldi::nnet3::UpdatableComponent::ReadUpdatableCommon</a></div><div class="ttdeci">void ReadUpdatableCommon(std::istream &amp;is, bool binary)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8cc_source.html#l00156">nnet-component-itf.cc:156</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a41114607233f11aab89539abf08cf922"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">kaldi::nnet3::ExpectToken</a></div><div class="ttdeci">static void ExpectToken(const std::string &amp;token, const std::string &amp;what_we_are_parsing, const std::string **next_token)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-descriptor_8cc_source.html#l00045">nnet-descriptor.cc:45</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html_a8e7d2790fc7e94fe9780ccc937de1270"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html#a8e7d2790fc7e94fe9780ccc937de1270">kaldi::CuMatrix::Read</a></div><div class="ttdeci">void Read(std::istream &amp;is, bool binary)</div><div class="ttdoc">I/O functions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00444">cu-matrix.cc:444</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVector_html_a8e7d2790fc7e94fe9780ccc937de1270"><div class="ttname"><a href="classkaldi_1_1CuVector.html#a8e7d2790fc7e94fe9780ccc937de1270">kaldi::CuVector::Read</a></div><div class="ttdeci">void Read(std::istream &amp;is, bool binary)</div><div class="ttdoc">I/O. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l00811">cu-vector.cc:811</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a95a4abdec65e2b9a9dc13725b6879cb9"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">kaldi::nnet3::ConvolutionComponent::is_gradient_</a></div><div class="ttdeci">bool is_gradient_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01438">nnet-simple-component.h:1438</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6d62ac4bb7407d02d9d51a2e0163e405"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>input_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>output_dim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5a4fc4a0524ae8957baf45b8cb168843"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Scale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>scale</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function when called by. </p>
<p>by "scale" when called by an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a>. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a750ca3e44a00898afea53b54697226ba">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03194">3194</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="cu-vector_8cc_source.html#l01054">CuVectorBase&lt; Real &gt;::Scale()</a>, and <a class="el" href="cu-matrix_8cc_source.html#l00593">CuMatrixBase&lt; Real &gt;::Scale()</a>.</p>
<div class="fragment"><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                                                {</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ac54802d75d4c9025310b579e3fcea00c">Scale</a>(scale);</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#ac54802d75d4c9025310b579e3fcea00c">Scale</a>(scale);</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ac54802d75d4c9025310b579e3fcea00c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ac54802d75d4c9025310b579e3fcea00c">kaldi::CuMatrixBase::Scale</a></div><div class="ttdeci">void Scale(Real value)</div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00593">cu-matrix.cc:593</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_ac54802d75d4c9025310b579e3fcea00c"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#ac54802d75d4c9025310b579e3fcea00c">kaldi::CuVectorBase::Scale</a></div><div class="ttdeci">void Scale(Real value)</div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l01054">cu-vector.cc:1054</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5e04f6f5379b8b2dd93937913c1e183"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetParams </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03531">3531</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="cu-vector_8h_source.html#l00067">CuVectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, and <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>.</p>
<div class="fragment"><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;                                                                          {</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a> = bias;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a> = filter;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">Dim</a>() == <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>());</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_ac22929ffa93fd50a886e150013ed81fe"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">kaldi::CuVectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8h_source.html#l00067">cu-vector.h:67</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a947a5e99fe5ff5534ecfbb3f987febe1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SetZero </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>treat_as_gradient</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets parameters to zero, and if treat_as_gradient is true, sets is_gradient_ to true and sets learning_rate_ to 1, ignoring learning_rate_factor_. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#aa89881e9be0d01d34fedd82539973447">UpdatableComponent</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03437">3437</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01438">ConvolutionComponent::is_gradient_</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00409">UpdatableComponent::learning_rate_</a>, <a class="el" href="cu-vector_8cc_source.html#l00937">CuVectorBase&lt; Real &gt;::SetZero()</a>, and <a class="el" href="cu-matrix_8cc_source.html#l00459">CuMatrixBase&lt; Real &gt;::SetZero()</a>.</p>
<div class="fragment"><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;                                                         {</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;  <span class="keywordflow">if</span> (treat_as_gradient) {</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#abef30da8aa0328dd5db955ce0b2a3466">learning_rate_</a> = 1.0;  <span class="comment">// don&#39;t call SetLearningRate, that would apply the</span></div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;                           <span class="comment">// learning rate factor.</span></div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">is_gradient_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  }</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ae57e5aca5db002545e4b9335c8d9dbfa">SetZero</a>();</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#ae57e5aca5db002545e4b9335c8d9dbfa">SetZero</a>();</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_ae57e5aca5db002545e4b9335c8d9dbfa"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#ae57e5aca5db002545e4b9335c8d9dbfa">kaldi::CuVectorBase::SetZero</a></div><div class="ttdeci">void SetZero()</div><div class="ttdoc">Math operations. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l00937">cu-vector.cc:937</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ae57e5aca5db002545e4b9335c8d9dbfa"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ae57e5aca5db002545e4b9335c8d9dbfa">kaldi::CuMatrixBase::SetZero</a></div><div class="ttdeci">void SetZero()</div><div class="ttdoc">Math operations, some calling kernels. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00459">cu-matrix.cc:459</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1UpdatableComponent_html_abef30da8aa0328dd5db955ce0b2a3466"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#abef30da8aa0328dd5db955ce0b2a3466">kaldi::nnet3::UpdatableComponent::learning_rate_</a></div><div class="ttdeci">BaseFloat learning_rate_</div><div class="ttdoc">learning rate (typically 0.0..0.01) </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00409">nnet-component-itf.h:409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a95a4abdec65e2b9a9dc13725b6879cb9"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">kaldi::nnet3::ConvolutionComponent::is_gradient_</a></div><div class="ttdeci">bool is_gradient_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01438">nnet-simple-component.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7bc261b04ea91663bea36634558ed779"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string Type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string such as "SigmoidComponent", describing the type of the object. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab6b6147feb5e0688469b735a6546c222">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01331">1331</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;ConvolutionComponent&quot;</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8619ba84ef93f98fa42dbcd11011e3a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UnVectorize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the parameters from vector form. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a0d6ac2b7329981543aa1299d94c9556d">UpdatableComponent</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03548">3548</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="cu-vector_8cc_source.html#l00919">CuVectorBase&lt; Real &gt;::CopyFromVec()</a>, <a class="el" href="cu-matrix_8cc_source.html#l01905">CuMatrixBase&lt; Real &gt;::CopyRowsFromVec()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00059">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="cu-vector_8h_source.html#l00067">CuVectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03538">ConvolutionComponent::NumParameters()</a>, <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>, and <a class="el" href="kaldi-vector_8h_source.html#l00089">VectorBase&lt; Real &gt;::Range()</a>.</p>
<div class="fragment"><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;                                                                          {</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(params.<a class="code" href="classkaldi_1_1VectorBase.html#ac22929ffa93fd50a886e150013ed81fe">Dim</a>() == this-&gt;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ad8ca42ab9569d725aa8fd732ca570fbd">NumParameters</a>());</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_filter_params = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>() * <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>();</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ae2f0948568047c75ffeef9aa6ea590ac">CopyRowsFromVec</a>(params.<a class="code" href="classkaldi_1_1VectorBase.html#acb1578cb13d51c1d7456c3a59bb3b69a">Range</a>(0, num_filter_params));</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#a8c6cfcb348851f85432cee1f19d53164">CopyFromVec</a>(params.<a class="code" href="classkaldi_1_1VectorBase.html#acb1578cb13d51c1d7456c3a59bb3b69a">Range</a>(num_filter_params, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">Dim</a>()));</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_afe58124fbfb387ddc20513bf3075b16e"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">kaldi::CuMatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00196">cu-matrix.h:196</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ae2f0948568047c75ffeef9aa6ea590ac"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ae2f0948568047c75ffeef9aa6ea590ac">kaldi::CuMatrixBase::CopyRowsFromVec</a></div><div class="ttdeci">void CopyRowsFromVec(const CuVectorBase&lt; Real &gt; &amp;v)</div><div class="ttdoc">This function has two modes of operation. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l01905">cu-matrix.cc:1905</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_a8c6cfcb348851f85432cee1f19d53164"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#a8c6cfcb348851f85432cee1f19d53164">kaldi::CuVectorBase::CopyFromVec</a></div><div class="ttdeci">void CopyFromVec(const CuVectorBase&lt; Real &gt; &amp;src)</div><div class="ttdoc">Copy functions; these will crash if the dimension do not match. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l00919">cu-vector.cc:919</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ad8ca42ab9569d725aa8fd732ca570fbd"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ad8ca42ab9569d725aa8fd732ca570fbd">kaldi::nnet3::ConvolutionComponent::NumParameters</a></div><div class="ttdeci">virtual int32 NumParameters() const </div><div class="ttdoc">The following new virtual function returns the total dimension of the parameters in this class...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03538">nnet-simple-component.cc:3538</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_ac22929ffa93fd50a886e150013ed81fe"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">kaldi::CuVectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8h_source.html#l00067">cu-vector.h:67</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_ac22929ffa93fd50a886e150013ed81fe"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#ac22929ffa93fd50a886e150013ed81fe">kaldi::VectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const </div><div class="ttdoc">Returns the dimension of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8h_source.html#l00059">kaldi-vector.h:59</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_acb1578cb13d51c1d7456c3a59bb3b69a"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#acb1578cb13d51c1d7456c3a59bb3b69a">kaldi::VectorBase::Range</a></div><div class="ttdeci">SubVector&lt; Real &gt; Range(const MatrixIndexT o, const MatrixIndexT l)</div><div class="ttdoc">Returns a sub-vector of a vector (a range of elements). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8h_source.html#l00089">kaldi-vector.h:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae4edfd7adc60a9dffa4daee54378eb56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Update </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>debug_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_deriv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classkaldi_1_1CuSubMatrix.html">CuSubMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; * &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_deriv_batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03362">3362</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="cu-matrix_8cc_source.html#l00881">CuMatrixBase&lt; Real &gt;::AddMat()</a>, <a class="el" href="cu-matrix_8cc_source.html#l00912">CuMatrixBase&lt; Real &gt;::AddMatBlocks()</a>, <a class="el" href="cu-vector_8cc_source.html#l01115">CuVectorBase&lt; Real &gt;::AddRowSumMat()</a>, <a class="el" href="cu-vector_8cc_source.html#l01075">CuVectorBase&lt; Real &gt;::AddVec()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="cu-matrix_8h_source.html#l00492">CuMatrixBase&lt; Real &gt;::ColRange()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="matrix-common_8h_source.html#l00032">kaldi::kNoTrans</a>, <a class="el" href="matrix-common_8h_source.html#l00036">kaldi::kSetZero</a>, <a class="el" href="matrix-common_8h_source.html#l00031">kaldi::kTrans</a>, <a class="el" href="matrix-common_8h_source.html#l00037">kaldi::kUndefined</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00409">UpdatableComponent::learning_rate_</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="cu-vector_8cc_source.html#l00841">CuVector&lt; Real &gt;::Resize()</a>, and <a class="el" href="cu-matrix_8cc_source.html#l00048">CuMatrix&lt; Real &gt;::Resize()</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03295">ConvolutionComponent::Backprop()</a>.</p>
<div class="fragment"><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;                                                                                              {</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;  <span class="comment">// useful dims</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_x_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>),</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;              num_y_steps = (1 + (<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a> - <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>) / <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>),</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;              num_filters = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(),</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;              num_frames = out_deriv.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(),</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;              filter_dim = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>();</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(out_deriv.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>() == num_frames &amp;&amp;</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;               out_deriv.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>() ==</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;               (num_filters * num_x_steps * num_y_steps));</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;  CuMatrix&lt;BaseFloat&gt; filters_grad;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  CuVector&lt;BaseFloat&gt; bias_grad;</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;  CuMatrix&lt;BaseFloat&gt; input_patches(num_frames,</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                                    filter_dim * num_x_steps * num_y_steps,</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                                    <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kUndefined</a>);</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a00cd0b6391af77bdad08d605fe5692d6">InputToInputPatches</a>(in_value, &amp;input_patches);</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;  filters_grad.Resize(num_filters, filter_dim, <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112">kSetZero</a>); <span class="comment">// reset</span></div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;  bias_grad.Resize(num_filters, <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112">kSetZero</a>); <span class="comment">// reset</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;  <span class="comment">// create a single large matrix holding the smaller matrices</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;  <span class="comment">// from the vector container filters_grad_batch along the rows</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;  CuMatrix&lt;BaseFloat&gt; filters_grad_blocks_batch(</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;      num_x_steps * num_y_steps * filters_grad.NumRows(),</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;      filters_grad.NumCols());</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;  std::vector&lt;CuSubMatrix&lt;BaseFloat&gt;* &gt; filters_grad_batch, input_patch_batch;</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> x_step = 0; x_step &lt; num_x_steps; x_step++)  {</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> y_step = 0; y_step &lt; num_y_steps; y_step++)  {</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> patch_number = x_step * num_y_steps + y_step;</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;      filters_grad_batch.push_back(<span class="keyword">new</span> CuSubMatrix&lt;BaseFloat&gt;(</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;              filters_grad_blocks_batch.RowRange(</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                                      patch_number * filters_grad.NumRows(),</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;                                    filters_grad.NumRows())));</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      input_patch_batch.push_back(<span class="keyword">new</span> CuSubMatrix&lt;BaseFloat&gt;(</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;              input_patches.ColRange(patch_number * filter_dim, filter_dim)));</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    }</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;  }</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;  AddMatMatBatched&lt;BaseFloat&gt;(1.0, filters_grad_batch, out_deriv_batch, <a class="code" href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa538d6ef272b2ad113f1860fccbc2c3e2">kTrans</a>,</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;                              input_patch_batch, <a class="code" href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d">kNoTrans</a>, 1.0);</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;  <span class="comment">// add the row blocks together to filters_grad</span></div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  filters_grad.AddMatBlocks(1.0, filters_grad_blocks_batch);</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;  <span class="comment">// create a matrix holding the col blocks sum of out_deriv</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;  CuMatrix&lt;BaseFloat&gt; out_deriv_col_blocks_sum(out_deriv.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(),</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;                                               num_filters);</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;  <span class="comment">// add the col blocks together to out_deriv_col_blocks_sum</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  out_deriv_col_blocks_sum.AddMatBlocks(1.0, out_deriv);</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;  bias_grad.AddRowSumMat(1.0, out_deriv_col_blocks_sum, 1.0);</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;  <span class="comment">// release memory</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> p = 0; p &lt; input_patch_batch.size(); p++) {</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    <span class="keyword">delete</span> filters_grad_batch[p];</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    <span class="keyword">delete</span> input_patch_batch[p];</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  }</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;  <span class="comment">// update</span></div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#a4bce9eaec860cf9d9a8aee7e440b976b">AddMat</a>(<a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#abef30da8aa0328dd5db955ce0b2a3466">learning_rate_</a>, filters_grad);</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#a542693f72b8f09d0271f3c3873b6a852">AddVec</a>(<a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#abef30da8aa0328dd5db955ce0b2a3466">learning_rate_</a>, bias_grad);</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kaldi::kUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00037">matrix-common.h:37</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_afe58124fbfb387ddc20513bf3075b16e"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">kaldi::CuMatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00196">cu-matrix.h:196</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a4bce9eaec860cf9d9a8aee7e440b976b"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a4bce9eaec860cf9d9a8aee7e440b976b">kaldi::CuMatrixBase::AddMat</a></div><div class="ttdeci">void AddMat(Real alpha, const CuMatrixBase&lt; Real &gt; &amp;A, MatrixTransposeType trans=kNoTrans)</div><div class="ttdoc">*this += alpha * A </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00881">cu-matrix.cc:881</a></div></div>
<div class="ttc" id="namespacekaldi_html_a610f4f6c3c8fe58b76713f593b9d724fa538d6ef272b2ad113f1860fccbc2c3e2"><div class="ttname"><a href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa538d6ef272b2ad113f1860fccbc2c3e2">kaldi::kTrans</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00031">matrix-common.h:31</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1UpdatableComponent_html_abef30da8aa0328dd5db955ce0b2a3466"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#abef30da8aa0328dd5db955ce0b2a3466">kaldi::nnet3::UpdatableComponent::learning_rate_</a></div><div class="ttdeci">BaseFloat learning_rate_</div><div class="ttdoc">learning rate (typically 0.0..0.01) </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00409">nnet-component-itf.h:409</a></div></div>
<div class="ttc" id="namespacekaldi_html_a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d"><div class="ttname"><a href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d">kaldi::kNoTrans</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00032">matrix-common.h:32</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_a542693f72b8f09d0271f3c3873b6a852"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#a542693f72b8f09d0271f3c3873b6a852">kaldi::CuVectorBase::AddVec</a></div><div class="ttdeci">void AddVec(Real alpha, const CuVectorBase&lt; Real &gt; &amp;vec, Real beta=1.0)</div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l01075">cu-vector.cc:1075</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a00cd0b6391af77bdad08d605fe5692d6"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a00cd0b6391af77bdad08d605fe5692d6">kaldi::nnet3::ConvolutionComponent::InputToInputPatches</a></div><div class="ttdeci">void InputToInputPatches(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *patches) const </div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03102">nnet-simple-component.cc:3102</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112">kaldi::kSetZero</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00036">matrix-common.h:36</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae734e1ec782b67512b1e8181f089e0fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Update </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>debug_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_deriv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a257c67539de2d1f79531cc6c681ef149"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Vectorize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turns the parameters into vector form. </p>
<p>We put the vector form on the CPU, because in the kinds of situations where we do this, we'll tend to use too much memory for the GPU. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a9deca2646415c089df8ba0db9387c83b">UpdatableComponent</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03542">3542</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="kaldi-vector_8h_source.html#l00059">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="cu-vector_8h_source.html#l00067">CuVectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03538">ConvolutionComponent::NumParameters()</a>, <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>, and <a class="el" href="kaldi-vector_8h_source.html#l00089">VectorBase&lt; Real &gt;::Range()</a>.</p>
<div class="fragment"><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;                                                                        {</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(params-&gt;<a class="code" href="classkaldi_1_1VectorBase.html#ac22929ffa93fd50a886e150013ed81fe">Dim</a>() == this-&gt;<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ad8ca42ab9569d725aa8fd732ca570fbd">NumParameters</a>());</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_filter_params = <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">NumCols</a>() * <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>();</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;  params-&gt;<a class="code" href="classkaldi_1_1VectorBase.html#acb1578cb13d51c1d7456c3a59bb3b69a">Range</a>(0, num_filter_params).CopyRowsFromMat(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>);</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;  params-&gt;<a class="code" href="classkaldi_1_1VectorBase.html#acb1578cb13d51c1d7456c3a59bb3b69a">Range</a>(num_filter_params, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">Dim</a>()).CopyFromVec(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>);</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_afe58124fbfb387ddc20513bf3075b16e"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#afe58124fbfb387ddc20513bf3075b16e">kaldi::CuMatrixBase::NumCols</a></div><div class="ttdeci">MatrixIndexT NumCols() const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00196">cu-matrix.h:196</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ad8ca42ab9569d725aa8fd732ca570fbd"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ad8ca42ab9569d725aa8fd732ca570fbd">kaldi::nnet3::ConvolutionComponent::NumParameters</a></div><div class="ttdeci">virtual int32 NumParameters() const </div><div class="ttdoc">The following new virtual function returns the total dimension of the parameters in this class...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l03538">nnet-simple-component.cc:3538</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_ac22929ffa93fd50a886e150013ed81fe"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">kaldi::CuVectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8h_source.html#l00067">cu-vector.h:67</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_ac22929ffa93fd50a886e150013ed81fe"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#ac22929ffa93fd50a886e150013ed81fe">kaldi::VectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const </div><div class="ttdoc">Returns the dimension of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8h_source.html#l00059">kaldi-vector.h:59</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_acb1578cb13d51c1d7456c3a59bb3b69a"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#acb1578cb13d51c1d7456c3a59bb3b69a">kaldi::VectorBase::Range</a></div><div class="ttdeci">SubVector&lt; Real &gt; Range(const MatrixIndexT o, const MatrixIndexT l)</div><div class="ttdoc">Returns a sub-vector of a vector (a range of elements). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8h_source.html#l00089">kaldi-vector.h:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5da0494b3a3f4bc33ff83c9b5ff5b40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Write </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write component to stream. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a852bc7306aaa45b284f662f1ddb1a3d5">Component</a>.</p>

<p>Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l03482">3482</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p>References <a class="el" href="nnet-simple-component_8h_source.html#l01435">ConvolutionComponent::bias_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01407">ConvolutionComponent::filt_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01414">ConvolutionComponent::filt_x_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01409">ConvolutionComponent::filt_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01418">ConvolutionComponent::filt_y_step_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01427">ConvolutionComponent::filter_params_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01424">ConvolutionComponent::input_vectorization_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01397">ConvolutionComponent::input_x_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01400">ConvolutionComponent::input_y_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01403">ConvolutionComponent::input_z_dim_</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01438">ConvolutionComponent::is_gradient_</a>, <a class="el" href="cu-vector_8cc_source.html#l00821">CuVector&lt; Real &gt;::Write()</a>, <a class="el" href="cu-matrix_8cc_source.html#l00452">CuMatrixBase&lt; Real &gt;::Write()</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00033">kaldi::WriteBasicType()</a>, <a class="el" href="io-funcs_8cc_source.html#l00134">kaldi::WriteToken()</a>, and <a class="el" href="nnet-component-itf_8cc_source.html#l00186">UpdatableComponent::WriteUpdatableCommon()</a>.</p>
<div class="fragment"><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;                                                                  {</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a5c0a99fb02944dd2ea12d8297a25ddb4">WriteUpdatableCommon</a>(os, binary);  <span class="comment">// write opening tag and learning rate.</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;InputXDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">input_x_dim_</a>);</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;InputYDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">input_y_dim_</a>);</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;InputZDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">input_z_dim_</a>);</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;FiltXDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">filt_x_dim_</a>);</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;FiltYDim&gt;&quot;</span>);</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">filt_y_dim_</a>);</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;FiltXStep&gt;&quot;</span>);</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">filt_x_step_</a>);</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;FiltYStep&gt;&quot;</span>);</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">filt_y_step_</a>);</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;InputVectorization&gt;&quot;</span>);</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, static_cast&lt;int32&gt;(<a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">input_vectorization_</a>));</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;FilterParams&gt;&quot;</span>);</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">filter_params_</a>.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ad5da0494b3a3f4bc33ff83c9b5ff5b40">Write</a>(os, binary);</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;BiasParams&gt;&quot;</span>);</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">bias_params_</a>.<a class="code" href="classkaldi_1_1CuVector.html#aed2ece5b241cb3af0f360b6e4c74a03c">Write</a>(os, binary);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;IsGradient&gt;&quot;</span>);</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">is_gradient_</a>);</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;/ConvolutionComponent&gt;&quot;</span>);</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ad5da0494b3a3f4bc33ff83c9b5ff5b40"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ad5da0494b3a3f4bc33ff83c9b5ff5b40">kaldi::CuMatrixBase::Write</a></div><div class="ttdeci">void Write(std::ostream &amp;os, bool binary) const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00452">cu-matrix.cc:452</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a26d0a96ad479ba4b60fcca168f9816d7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a26d0a96ad479ba4b60fcca168f9816d7">kaldi::nnet3::ConvolutionComponent::filt_y_step_</a></div><div class="ttdeci">int32 filt_y_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01418">nnet-simple-component.h:1418</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0614fe903c64bcd3222fadad48a918bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0614fe903c64bcd3222fadad48a918bc">kaldi::nnet3::ConvolutionComponent::input_vectorization_</a></div><div class="ttdeci">TensorVectorizationType input_vectorization_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01424">nnet-simple-component.h:1424</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVector_html_aed2ece5b241cb3af0f360b6e4c74a03c"><div class="ttname"><a href="classkaldi_1_1CuVector.html#aed2ece5b241cb3af0f360b6e4c74a03c">kaldi::CuVector::Write</a></div><div class="ttdeci">void Write(std::ostream &amp;is, bool binary) const </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l00821">cu-vector.cc:821</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1UpdatableComponent_html_a5c0a99fb02944dd2ea12d8297a25ddb4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a5c0a99fb02944dd2ea12d8297a25ddb4">kaldi::nnet3::UpdatableComponent::WriteUpdatableCommon</a></div><div class="ttdeci">void WriteUpdatableCommon(std::ostream &amp;is, bool binary) const </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8cc_source.html#l00186">nnet-component-itf.cc:186</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a80919dec61ec4f145d2b70cca6d2c306"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a80919dec61ec4f145d2b70cca6d2c306">kaldi::nnet3::ConvolutionComponent::bias_params_</a></div><div class="ttdeci">CuVector&lt; BaseFloat &gt; bias_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01435">nnet-simple-component.h:1435</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a0b9960b51716b06421895f9b61d7b08f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a0b9960b51716b06421895f9b61d7b08f">kaldi::nnet3::ConvolutionComponent::filter_params_</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; filter_params_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01427">nnet-simple-component.h:1427</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga87f1638ef3c0a3ee117178b202c2d02a"><div class="ttname"><a href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">kaldi::WriteToken</a></div><div class="ttdeci">void WriteToken(std::ostream &amp;os, bool binary, const char *token)</div><div class="ttdoc">The WriteToken functions are for writing nonempty sequences of non-space characters. </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00134">io-funcs.cc:134</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a507fba3861be442c60611c7db823295d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a507fba3861be442c60611c7db823295d">kaldi::nnet3::ConvolutionComponent::input_y_dim_</a></div><div class="ttdeci">int32 input_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01400">nnet-simple-component.h:1400</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a9ef2b253af7d9e9e961a847957056380"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a9ef2b253af7d9e9e961a847957056380">kaldi::nnet3::ConvolutionComponent::filt_x_step_</a></div><div class="ttdeci">int32 filt_x_step_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01414">nnet-simple-component.h:1414</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a5a0a6b466026b3460aef532060e629b4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a0a6b466026b3460aef532060e629b4">kaldi::nnet3::ConvolutionComponent::filt_y_dim_</a></div><div class="ttdeci">int32 filt_y_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01409">nnet-simple-component.h:1409</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a430e10426232f72d82183bdb3bd6c10e"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a430e10426232f72d82183bdb3bd6c10e">kaldi::nnet3::ConvolutionComponent::input_z_dim_</a></div><div class="ttdeci">int32 input_z_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01403">nnet-simple-component.h:1403</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga108506a9aabafd9006926aa1b47617da"><div class="ttname"><a href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">kaldi::WriteBasicType</a></div><div class="ttdeci">void WriteBasicType(std::ostream &amp;os, bool binary, T t)</div><div class="ttdoc">WriteBasicType is the name of the write function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00033">io-funcs-inl.h:33</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a95a4abdec65e2b9a9dc13725b6879cb9"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a95a4abdec65e2b9a9dc13725b6879cb9">kaldi::nnet3::ConvolutionComponent::is_gradient_</a></div><div class="ttdeci">bool is_gradient_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01438">nnet-simple-component.h:1438</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_ae75132bd24e9fc5a957ad8b21f37b979"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae75132bd24e9fc5a957ad8b21f37b979">kaldi::nnet3::ConvolutionComponent::filt_x_dim_</a></div><div class="ttdeci">int32 filt_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01407">nnet-simple-component.h:1407</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1ConvolutionComponent_html_a4b6b79096bf11c47196f4ddbf83a0004"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4b6b79096bf11c47196f4ddbf83a0004">kaldi::nnet3::ConvolutionComponent::input_x_dim_</a></div><div class="ttdeci">int32 input_x_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l01397">nnet-simple-component.h:1397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a80919dec61ec4f145d2b70cca6d2c306"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1CuVector.html">CuVector</a>&lt;<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&gt; bias_params_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01435">1435</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03200">ConvolutionComponent::Add()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01372">ConvolutionComponent::BiasParams()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03509">ConvolutionComponent::DotProduct()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03521">ConvolutionComponent::PerturbParams()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03149">ConvolutionComponent::Propagate()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03194">ConvolutionComponent::Scale()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03531">ConvolutionComponent::SetParams()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03437">ConvolutionComponent::SetZero()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03548">ConvolutionComponent::UnVectorize()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03542">ConvolutionComponent::Vectorize()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="ae75132bd24e9fc5a957ad8b21f37b979"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_x_dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01407">1407</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03295">ConvolutionComponent::Backprop()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02943">ConvolutionComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03149">ConvolutionComponent::Propagate()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="a9ef2b253af7d9e9e961a847957056380"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_x_step_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01414">1414</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03295">ConvolutionComponent::Backprop()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02943">ConvolutionComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03149">ConvolutionComponent::Propagate()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a0a6b466026b3460aef532060e629b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_y_dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01409">1409</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03295">ConvolutionComponent::Backprop()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02943">ConvolutionComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03149">ConvolutionComponent::Propagate()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="a26d0a96ad479ba4b60fcca168f9816d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> filt_y_step_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01418">1418</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03295">ConvolutionComponent::Backprop()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02943">ConvolutionComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03149">ConvolutionComponent::Propagate()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b9960b51716b06421895f9b61d7b08f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt;<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&gt; filter_params_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01427">1427</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03200">ConvolutionComponent::Add()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03295">ConvolutionComponent::Backprop()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03509">ConvolutionComponent::DotProduct()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01373">ConvolutionComponent::LinearParams()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03538">ConvolutionComponent::NumParameters()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02943">ConvolutionComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03521">ConvolutionComponent::PerturbParams()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03149">ConvolutionComponent::Propagate()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03194">ConvolutionComponent::Scale()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03531">ConvolutionComponent::SetParams()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03437">ConvolutionComponent::SetZero()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03548">ConvolutionComponent::UnVectorize()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03542">ConvolutionComponent::Vectorize()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="a0614fe903c64bcd3222fadad48a918bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ae5ab0056478231cd9c4427f9253802cf">TensorVectorizationType</a> input_vectorization_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01424">1424</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b6b79096bf11c47196f4ddbf83a0004"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_x_dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01397">1397</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03295">ConvolutionComponent::Backprop()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02938">ConvolutionComponent::InputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02943">ConvolutionComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03149">ConvolutionComponent::Propagate()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="a507fba3861be442c60611c7db823295d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_y_dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01400">1400</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03295">ConvolutionComponent::Backprop()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02938">ConvolutionComponent::InputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02943">ConvolutionComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03149">ConvolutionComponent::Propagate()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03362">ConvolutionComponent::Update()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="a430e10426232f72d82183bdb3bd6c10e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> input_z_dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01403">1403</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l03239">ConvolutionComponent::InderivPatchesToInderiv()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03004">ConvolutionComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02951">ConvolutionComponent::Init()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l02938">ConvolutionComponent::InputDim()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03102">ConvolutionComponent::InputToInputPatches()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="a95a4abdec65e2b9a9dc13725b6879cb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool is_gradient_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l01438">1438</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l02912">ConvolutionComponent::ConvolutionComponent()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03447">ConvolutionComponent::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03437">ConvolutionComponent::SetZero()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l03482">ConvolutionComponent::Write()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>nnet3/<a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a></li>
<li>nnet3/<a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="namespacekaldi_1_1nnet3.html">nnet3</a></li><li class="navelem"><a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html">ConvolutionComponent</a></li>
    <li class="footer">Generated on Thu Apr 28 2016 15:42:49 for Kaldi by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
