<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: NnetTrainer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1nnet3_1_1NnetTrainer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classkaldi_1_1nnet3_1_1NnetTrainer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NnetTrainer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is for single-threaded training of neural nets using standard objective functions such as cross-entropy (implemented with logsoftmax nonlinearity and a linear objective function) and quadratic loss.  
 <a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="nnet-training_8h_source.html">nnet-training.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for NnetTrainer:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1nnet3_1_1NnetTrainer__coll__graph.png" border="0" usemap="#NnetTrainer_coll__map" alt="Collaboration graph"/></div>
<map name="NnetTrainer_coll__map" id="NnetTrainer_coll__map">
<area shape="rect" id="node2" href="classkaldi_1_1nnet3_1_1CachingOptimizingCompiler.html" title="This class enables you to do the compilation and optimization in one call, and also ensures that if t..." alt="" coords="963,285,1162,312"/><area shape="rect" id="node6" href="structkaldi_1_1nnet3_1_1NnetOptimizeOptions.html" title="NnetOptimizeOptions" alt="" coords="470,463,629,489"/><area shape="rect" id="node13" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html" title="NnetTrainerOptions" alt="" coords="991,565,1135,592"/><area shape="rect" id="node14" href="structkaldi_1_1nnet3_1_1NnetComputeOptions.html" title="NnetComputeOptions" alt="" coords="469,715,630,741"/><area shape="rect" id="node8" href="classkaldi_1_1nnet3_1_1Nnet.html" title="Nnet" alt="" coords="523,104,576,131"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1d0f95070c4d8a7a24351463507b5dc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a1d0f95070c4d8a7a24351463507b5dc2">NnetTrainer</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html">NnetTrainerOptions</a> &amp;config, <a class="el" href="classkaldi_1_1nnet3_1_1Nnet.html">Nnet</a> *nnet)</td></tr>
<tr class="separator:a1d0f95070c4d8a7a24351463507b5dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987bc9ce40e66b7efc8b4321eedc8ded"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a987bc9ce40e66b7efc8b4321eedc8ded">Train</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1NnetExample.html">NnetExample</a> &amp;eg)</td></tr>
<tr class="separator:a987bc9ce40e66b7efc8b4321eedc8ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2f4eae9620b3be5a2a54492e311cca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a1a2f4eae9620b3be5a2a54492e311cca">PrintTotalStats</a> () const </td></tr>
<tr class="separator:a1a2f4eae9620b3be5a2a54492e311cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c0d9a92b9c3873022401a5fb69013e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#af5c0d9a92b9c3873022401a5fb69013e">~NnetTrainer</a> ()</td></tr>
<tr class="separator:af5c0d9a92b9c3873022401a5fb69013e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abccaaf5192152d7028c38cf8f1cf54bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#abccaaf5192152d7028c38cf8f1cf54bc">ProcessOutputs</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1NnetExample.html">NnetExample</a> &amp;eg, <a class="el" href="classkaldi_1_1nnet3_1_1NnetComputer.html">NnetComputer</a> *computer)</td></tr>
<tr class="separator:abccaaf5192152d7028c38cf8f1cf54bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a70dbc9bfde10a7aa389b8a8114e41e74"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html">NnetTrainerOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a></td></tr>
<tr class="separator:a70dbc9bfde10a7aa389b8a8114e41e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b2732bea7ce47719f18ad2b06d81d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1nnet3_1_1Nnet.html">Nnet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a></td></tr>
<tr class="separator:ae6b2732bea7ce47719f18ad2b06d81d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066d19bab97676c8c6910e9c98d8008b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1nnet3_1_1Nnet.html">Nnet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a></td></tr>
<tr class="separator:a066d19bab97676c8c6910e9c98d8008b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc1c4c518295918abed6546cfd7f065f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1nnet3_1_1CachingOptimizingCompiler.html">CachingOptimizingCompiler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#acc1c4c518295918abed6546cfd7f065f">compiler_</a></td></tr>
<tr class="separator:acc1c4c518295918abed6546cfd7f065f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af676d295ba780873405747474e9f28aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#af676d295ba780873405747474e9f28aa">num_minibatches_processed_</a></td></tr>
<tr class="separator:af676d295ba780873405747474e9f28aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855a05d0c2cac564dba34eb4ed0b6c75"><td class="memItemLeft" align="right" valign="top">unordered_map&lt; std::string, <br class="typebreak"/>
<a class="el" href="structkaldi_1_1nnet3_1_1ObjectiveFunctionInfo.html">ObjectiveFunctionInfo</a>, <br class="typebreak"/>
<a class="el" href="structkaldi_1_1StringHasher.html">StringHasher</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a855a05d0c2cac564dba34eb4ed0b6c75">objf_info_</a></td></tr>
<tr class="separator:a855a05d0c2cac564dba34eb4ed0b6c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is for single-threaded training of neural nets using standard objective functions such as cross-entropy (implemented with logsoftmax nonlinearity and a linear objective function) and quadratic loss. </p>
<p>Something that we should do in the future is to make it possible to have two different threads, one for the compilation, and one for the computation. This would only improve efficiency in the cases where the structure of the input example was different each time, which isn't what we expect to see in speech-recognition training. (If the structure is the same each time, the <a class="el" href="classkaldi_1_1nnet3_1_1CachingOptimizingCompiler.html" title="This class enables you to do the compilation and optimization in one call, and also ensures that if t...">CachingOptimizingCompiler</a> notices this and uses the computation from last time). </p>

<p>Definition at line <a class="el" href="nnet-training_8h_source.html#l00126">126</a> of file <a class="el" href="nnet-training_8h_source.html">nnet-training.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1d0f95070c4d8a7a24351463507b5dc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html">NnetTrainer</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html">NnetTrainerOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1Nnet.html">Nnet</a> *&#160;</td>
          <td class="paramname"><em>nnet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8cc_source.html#l00026">26</a> of file <a class="el" href="nnet-training_8cc_source.html">nnet-training.cc</a>.</p>

<p>References <a class="el" href="_2nnet-nnet_8h_source.html#l00225">Nnet::Copy()</a>, <a class="el" href="nnet-training_8h_source.html#l00144">NnetTrainer::delta_nnet_</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="nnet-training_8h_source.html#l00038">NnetTrainerOptions::max_param_change</a>, <a class="el" href="nnet-training_8h_source.html#l00037">NnetTrainerOptions::momentum</a>, <a class="el" href="nnet-training_8h_source.html#l00143">NnetTrainer::nnet_</a>, <a class="el" href="nnet-utils_8cc_source.html#l00162">kaldi::nnet3::SetZero()</a>, <a class="el" href="nnet-training_8h_source.html#l00033">NnetTrainerOptions::zero_component_stats</a>, and <a class="el" href="nnet-utils_8cc_source.html#l00244">kaldi::nnet3::ZeroComponentStats()</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                                    :</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>(config),</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a>(nnet),</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#acc1c4c518295918abed6546cfd7f065f">compiler_</a>(*nnet, <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#af7eb9009a775319c96e30d19bb9f329f">optimize_config</a>),</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#af676d295ba780873405747474e9f28aa">num_minibatches_processed_</a>(0) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keywordflow">if</span> (config.zero_component_stats)</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet3.html#aca9d819d3ed85b506db090905d4c1cea">ZeroComponentStats</a>(nnet);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordflow">if</span> (config.momentum == 0.0 &amp;&amp; config.max_param_change == 0.0) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a>= NULL;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(config.momentum &gt;= 0.0 &amp;&amp;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                 config.max_param_change &gt;= 0.0);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a> = <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a>-&gt;<a class="code" href="classkaldi_1_1nnet3_1_1Nnet.html#a30dda4c48658481c1f0a45bff50cad53">Copy</a>();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordtype">bool</span> is_gradient = <span class="keyword">false</span>;  <span class="comment">// setting this to true would disable the</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                               <span class="comment">// natural-gradient updates.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet3.html#a9f63e4d60600b08466b42e409dd6253d">SetZero</a>(is_gradient, <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_ae6b2732bea7ce47719f18ad2b06d81d2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">kaldi::nnet3::NnetTrainer::nnet_</a></div><div class="ttdeci">Nnet * nnet_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00143">nnet-training.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_a066d19bab97676c8c6910e9c98d8008b"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">kaldi::nnet3::NnetTrainer::delta_nnet_</a></div><div class="ttdeci">Nnet * delta_nnet_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00144">nnet-training.h:144</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetTrainerOptions_html_af7eb9009a775319c96e30d19bb9f329f"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#af7eb9009a775319c96e30d19bb9f329f">kaldi::nnet3::NnetTrainerOptions::optimize_config</a></div><div class="ttdeci">NnetOptimizeOptions optimize_config</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00039">nnet-training.h:39</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_acc1c4c518295918abed6546cfd7f065f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#acc1c4c518295918abed6546cfd7f065f">kaldi::nnet3::NnetTrainer::compiler_</a></div><div class="ttdeci">CachingOptimizingCompiler compiler_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00148">nnet-training.h:148</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_aca9d819d3ed85b506db090905d4c1cea"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#aca9d819d3ed85b506db090905d4c1cea">kaldi::nnet3::ZeroComponentStats</a></div><div class="ttdeci">void ZeroComponentStats(Nnet *nnet)</div><div class="ttdoc">Zeroes the component stats in all nonlinear components in the nnet. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-utils_8cc_source.html#l00244">nnet-utils.cc:244</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_a70dbc9bfde10a7aa389b8a8114e41e74"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">kaldi::nnet3::NnetTrainer::config_</a></div><div class="ttdeci">const NnetTrainerOptions config_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00142">nnet-training.h:142</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a9f63e4d60600b08466b42e409dd6253d"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a9f63e4d60600b08466b42e409dd6253d">kaldi::nnet3::SetZero</a></div><div class="ttdeci">void SetZero(bool is_gradient, Nnet *nnet)</div><div class="ttdoc">Calls SetZero (with the given is_gradient parameter) on all updatable components of the nnet...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-utils_8cc_source.html#l00162">nnet-utils.cc:162</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_af676d295ba780873405747474e9f28aa"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#af676d295ba780873405747474e9f28aa">kaldi::nnet3::NnetTrainer::num_minibatches_processed_</a></div><div class="ttdeci">int32 num_minibatches_processed_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00153">nnet-training.h:153</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1Nnet_html_a30dda4c48658481c1f0a45bff50cad53"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Nnet.html#a30dda4c48658481c1f0a45bff50cad53">kaldi::nnet3::Nnet::Copy</a></div><div class="ttdeci">Nnet * Copy() const </div><div class="ttdef"><b>Definition:</b> <a href="_2nnet-nnet_8h_source.html#l00225">nnet-nnet.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5c0d9a92b9c3873022401a5fb69013e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html">NnetTrainer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8cc_source.html#l00163">163</a> of file <a class="el" href="nnet-training_8cc_source.html">nnet-training.cc</a>.</p>

<p>References <a class="el" href="nnet-training_8h_source.html#l00144">NnetTrainer::delta_nnet_</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                          {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_a066d19bab97676c8c6910e9c98d8008b"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">kaldi::nnet3::NnetTrainer::delta_nnet_</a></div><div class="ttdeci">Nnet * delta_nnet_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00144">nnet-training.h:144</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1a2f4eae9620b3be5a2a54492e311cca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PrintTotalStats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8cc_source.html#l00109">109</a> of file <a class="el" href="nnet-training_8cc_source.html">nnet-training.cc</a>.</p>

<p>References <a class="el" href="nnet-training_8h_source.html#l00155">NnetTrainer::objf_info_</a>, and <a class="el" href="nnet-training_8cc_source.html#l00154">ObjectiveFunctionInfo::PrintTotalStats()</a>.</p>

<p>Referenced by <a class="el" href="nnet3-train_8cc_source.html#l00025">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                        {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  unordered_map&lt;std::string, ObjectiveFunctionInfo&gt;::const_iterator</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      iter = <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a855a05d0c2cac564dba34eb4ed0b6c75">objf_info_</a>.begin(),</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      end = <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a855a05d0c2cac564dba34eb4ed0b6c75">objf_info_</a>.end();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordtype">bool</span> ans = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">for</span> (; iter != end; ++iter) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keyword">const</span> std::string &amp;name = iter-&gt;first;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keyword">const</span> ObjectiveFunctionInfo &amp;info = iter-&gt;second;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    ans = ans || info.PrintTotalStats(name);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_a855a05d0c2cac564dba34eb4ed0b6c75"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a855a05d0c2cac564dba34eb4ed0b6c75">kaldi::nnet3::NnetTrainer::objf_info_</a></div><div class="ttdeci">unordered_map&lt; std::string, ObjectiveFunctionInfo, StringHasher &gt; objf_info_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00155">nnet-training.h:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abccaaf5192152d7028c38cf8f1cf54bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ProcessOutputs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1NnetExample.html">NnetExample</a> &amp;&#160;</td>
          <td class="paramname"><em>eg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1NnetComputer.html">NnetComputer</a> *&#160;</td>
          <td class="paramname"><em>computer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8cc_source.html#l00087">87</a> of file <a class="el" href="nnet-training_8cc_source.html">nnet-training.cc</a>.</p>

<p>References <a class="el" href="nnet-training_8cc_source.html#l00167">kaldi::nnet3::ComputeObjectiveFunction()</a>, <a class="el" href="nnet-training_8h_source.html#l00142">NnetTrainer::config_</a>, <a class="el" href="nnet3_2nnet-example_8h_source.html#l00046">NnetIo::features</a>, <a class="el" href="_2nnet-nnet_8h_source.html#l00135">Nnet::GetNode()</a>, <a class="el" href="_2nnet-nnet_8cc_source.html#l00444">Nnet::GetNodeIndex()</a>, <a class="el" href="nnet3_2nnet-example_8h_source.html#l00087">NnetExample::io</a>, <a class="el" href="_2nnet-nnet_8cc_source.html#l00099">Nnet::IsOutputNode()</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="nnet3_2nnet-example_8h_source.html#l00036">NnetIo::name</a>, <a class="el" href="nnet-training_8h_source.html#l00143">NnetTrainer::nnet_</a>, <a class="el" href="nnet-training_8h_source.html#l00153">NnetTrainer::num_minibatches_processed_</a>, <a class="el" href="_2nnet-nnet_8h_source.html#l00097">NetworkNode::objective_type</a>, <a class="el" href="nnet-training_8h_source.html#l00155">NnetTrainer::objf_info_</a>, <a class="el" href="nnet-training_8h_source.html#l00035">NnetTrainerOptions::print_interval</a>, and <a class="el" href="structkaldi_1_1nnet3_1_1NetworkNode.html#a59b26a99fb5f5a9a7dfdcf5b50bf86c7">NetworkNode::u</a>.</p>

<p>Referenced by <a class="el" href="nnet-training_8cc_source.html#l00047">NnetTrainer::Train()</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                                         {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  std::vector&lt;NnetIo&gt;::const_iterator iter = eg.io.begin(),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      end = eg.io.end();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">for</span> (; iter != end; ++iter) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keyword">const</span> NnetIo &amp;io = *iter;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> node_index = <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a>-&gt;<a class="code" href="classkaldi_1_1nnet3_1_1Nnet.html#a9c3ab694a70c4c9811128077258fd020">GetNodeIndex</a>(io.name);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(node_index &gt;= 0);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a>-&gt;<a class="code" href="classkaldi_1_1nnet3_1_1Nnet.html#a617c90f8771161f35aa864269860c957">IsOutputNode</a>(node_index)) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="namespacekaldi_1_1nnet3.html#a45660f9909187129a953fa05e664576e">ObjectiveType</a> obj_type = <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a>-&gt;<a class="code" href="classkaldi_1_1nnet3_1_1Nnet.html#ad19e91d521688189d0841977907dc19b">GetNode</a>(node_index).<a class="code" href="structkaldi_1_1nnet3_1_1NetworkNode.html#a59b26a99fb5f5a9a7dfdcf5b50bf86c7">u</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NetworkNode.html#ae3e6a612d02a63dd4e56b23d35463a44">objective_type</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> tot_weight, tot_objf;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="keywordtype">bool</span> supply_deriv = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <a class="code" href="namespacekaldi_1_1nnet3.html#a2f2fefdb7c8c1cc2fd30b5e102e8e979">ComputeObjectiveFunction</a>(io.features, obj_type, io.name,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                               supply_deriv, computer,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                               &amp;tot_weight, &amp;tot_objf);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a855a05d0c2cac564dba34eb4ed0b6c75">objf_info_</a>[io.name].UpdateStats(io.name, <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#ab4d457269a5f2b6987167cfeebea78e4">print_interval</a>,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                      <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#af676d295ba780873405747474e9f28aa">num_minibatches_processed_</a>++,</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                      tot_weight, tot_objf);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_ae6b2732bea7ce47719f18ad2b06d81d2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">kaldi::nnet3::NnetTrainer::nnet_</a></div><div class="ttdeci">Nnet * nnet_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00143">nnet-training.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1Nnet_html_a617c90f8771161f35aa864269860c957"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Nnet.html#a617c90f8771161f35aa864269860c957">kaldi::nnet3::Nnet::IsOutputNode</a></div><div class="ttdeci">bool IsOutputNode(int32 node) const </div><div class="ttdoc">Returns true if this is an output node, meaning that it is of type kDescriptor and is not directly fo...</div><div class="ttdef"><b>Definition:</b> <a href="_2nnet-nnet_8cc_source.html#l00099">nnet-nnet.cc:99</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a2f2fefdb7c8c1cc2fd30b5e102e8e979"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a2f2fefdb7c8c1cc2fd30b5e102e8e979">kaldi::nnet3::ComputeObjectiveFunction</a></div><div class="ttdeci">void ComputeObjectiveFunction(const GeneralMatrix &amp;supervision, ObjectiveType objective_type, const std::string &amp;output_name, bool supply_deriv, NnetComputer *computer, BaseFloat *tot_weight, BaseFloat *tot_objf)</div><div class="ttdoc">This function computes the objective function, and if supply_deriv = true, supplies its derivative to...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8cc_source.html#l00167">nnet-training.cc:167</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NetworkNode_html_a59b26a99fb5f5a9a7dfdcf5b50bf86c7"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NetworkNode.html#a59b26a99fb5f5a9a7dfdcf5b50bf86c7">kaldi::nnet3::NetworkNode::u</a></div><div class="ttdeci">union kaldi::nnet3::NetworkNode::@12 u</div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NetworkNode_html_ae3e6a612d02a63dd4e56b23d35463a44"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NetworkNode.html#ae3e6a612d02a63dd4e56b23d35463a44">kaldi::nnet3::NetworkNode::objective_type</a></div><div class="ttdeci">ObjectiveType objective_type</div><div class="ttdef"><b>Definition:</b> <a href="_2nnet-nnet_8h_source.html#l00097">nnet-nnet.h:97</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetTrainerOptions_html_ab4d457269a5f2b6987167cfeebea78e4"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#ab4d457269a5f2b6987167cfeebea78e4">kaldi::nnet3::NnetTrainerOptions::print_interval</a></div><div class="ttdeci">int32 print_interval</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00035">nnet-training.h:35</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1Nnet_html_ad19e91d521688189d0841977907dc19b"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Nnet.html#ad19e91d521688189d0841977907dc19b">kaldi::nnet3::Nnet::GetNode</a></div><div class="ttdeci">const NetworkNode &amp; GetNode(int32 node) const </div><div class="ttdoc">returns const reference to a particular numbered network node. </div><div class="ttdef"><b>Definition:</b> <a href="_2nnet-nnet_8h_source.html#l00135">nnet-nnet.h:135</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_a855a05d0c2cac564dba34eb4ed0b6c75"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a855a05d0c2cac564dba34eb4ed0b6c75">kaldi::nnet3::NnetTrainer::objf_info_</a></div><div class="ttdeci">unordered_map&lt; std::string, ObjectiveFunctionInfo, StringHasher &gt; objf_info_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00155">nnet-training.h:155</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_a70dbc9bfde10a7aa389b8a8114e41e74"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">kaldi::nnet3::NnetTrainer::config_</a></div><div class="ttdeci">const NnetTrainerOptions config_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00142">nnet-training.h:142</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a45660f9909187129a953fa05e664576e"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a45660f9909187129a953fa05e664576e">kaldi::nnet3::ObjectiveType</a></div><div class="ttdeci">ObjectiveType</div><div class="ttdoc">This enum is for a kind of annotation we associate with output nodes of the network; it&#39;s for the con...</div><div class="ttdef"><b>Definition:</b> <a href="_2nnet-nnet_8h_source.html#l00052">nnet-nnet.h:52</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_af676d295ba780873405747474e9f28aa"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#af676d295ba780873405747474e9f28aa">kaldi::nnet3::NnetTrainer::num_minibatches_processed_</a></div><div class="ttdeci">int32 num_minibatches_processed_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00153">nnet-training.h:153</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1Nnet_html_a9c3ab694a70c4c9811128077258fd020"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Nnet.html#a9c3ab694a70c4c9811128077258fd020">kaldi::nnet3::Nnet::GetNodeIndex</a></div><div class="ttdeci">int32 GetNodeIndex(const std::string &amp;node_name) const </div><div class="ttdoc">returns index associated with this node name, or -1 if no such index. </div><div class="ttdef"><b>Definition:</b> <a href="_2nnet-nnet_8cc_source.html#l00444">nnet-nnet.cc:444</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a987bc9ce40e66b7efc8b4321eedc8ded"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Train </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1NnetExample.html">NnetExample</a> &amp;&#160;</td>
          <td class="paramname"><em>eg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8cc_source.html#l00047">47</a> of file <a class="el" href="nnet-training_8cc_source.html">nnet-training.cc</a>.</p>

<p>References <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00515">NnetComputer::AcceptInputs()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00279">kaldi::nnet3::AddNnet()</a>, <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00369">NnetComputer::Backward()</a>, <a class="el" href="nnet-optimize_8cc_source.html#l00448">CachingOptimizingCompiler::Compile()</a>, <a class="el" href="nnet-training_8h_source.html#l00148">NnetTrainer::compiler_</a>, <a class="el" href="nnet-training_8h_source.html#l00040">NnetTrainerOptions::compute_config</a>, <a class="el" href="nnet-training_8h_source.html#l00142">NnetTrainer::config_</a>, <a class="el" href="nnet-training_8h_source.html#l00144">NnetTrainer::delta_nnet_</a>, <a class="el" href="nnet-utils_8cc_source.html#l00225">kaldi::nnet3::DotProduct()</a>, <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00351">NnetComputer::Forward()</a>, <a class="el" href="nnet-example-utils_8cc_source.html#l00187">kaldi::nnet3::GetComputationRequest()</a>, <a class="el" href="nnet3_2nnet-example_8h_source.html#l00087">NnetExample::io</a>, <a class="el" href="kaldi-error_8h_source.html#l00164">KALDI_LOG</a>, <a class="el" href="kaldi-error_8h_source.html#l00162">KALDI_WARN</a>, <a class="el" href="nnet-training_8h_source.html#l00038">NnetTrainerOptions::max_param_change</a>, <a class="el" href="nnet-training_8h_source.html#l00037">NnetTrainerOptions::momentum</a>, <a class="el" href="nnet-training_8h_source.html#l00143">NnetTrainer::nnet_</a>, <a class="el" href="nnet-training_8cc_source.html#l00087">NnetTrainer::ProcessOutputs()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00267">kaldi::nnet3::ScaleNnet()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00162">kaldi::nnet3::SetZero()</a>, and <a class="el" href="nnet-training_8h_source.html#l00034">NnetTrainerOptions::store_component_stats</a>.</p>

<p>Referenced by <a class="el" href="nnet3-train_8cc_source.html#l00025">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                             {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordtype">bool</span> need_model_derivative = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  ComputationRequest request;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a66f879097cf9cba7482bad03a4030f72">GetComputationRequest</a>(*<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a>, eg, need_model_derivative,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                        <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#a5c5011f4cb4b2fc21775a3308c9cecda">store_component_stats</a>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                        &amp;request);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacekaldi_1_1nnet2.html#a3c83004137bb16a4090ff862f0aceed4">NnetComputation</a> *computation = <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#acc1c4c518295918abed6546cfd7f065f">compiler_</a>.<a class="code" href="classkaldi_1_1nnet3_1_1CachingOptimizingCompiler.html#a7362ae7f2c28fa8d444163e567802f7c">Compile</a>(request);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  NnetComputer computer(<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#a4493f40ffdbde20bcfbf81716ae74d01">compute_config</a>, *computation,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                        *<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a>,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                        (<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a> == NULL ? <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a> : <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a>));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// give the inputs to the computer object.</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  computer.AcceptInputs(*<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a>, eg.io);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  computer.Forward();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  this-&gt;<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#abccaaf5192152d7028c38cf8f1cf54bc">ProcessOutputs</a>(eg, &amp;computer);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  computer.Backward();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a> != NULL) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> scale = (1.0 - <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#aefc49bfa70545c9f199ef57bad5ef3c9">momentum</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#aa308f26d8c7993f163da1c6d4159e86f">max_param_change</a> != 0.0) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> param_delta =</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          std::sqrt(<a class="code" href="namespacekaldi_1_1nnet3.html#a4dc8f245e845514d33d24ecf1a054406">DotProduct</a>(*<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a>, *<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a>)) * scale;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keywordflow">if</span> (param_delta &gt; <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#aa308f26d8c7993f163da1c6d4159e86f">max_param_change</a>) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">if</span> (param_delta - param_delta != 0.0) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;          <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Infinite parameter change, will not apply.&quot;</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;          <a class="code" href="namespacekaldi_1_1nnet3.html#a9f63e4d60600b08466b42e409dd6253d">SetZero</a>(<span class="keyword">false</span>, <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;          scale *= <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#aa308f26d8c7993f163da1c6d4159e86f">max_param_change</a> / param_delta;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;          <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;Parameter change too big: &quot;</span> &lt;&lt; param_delta &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;--max-param-change=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#aa308f26d8c7993f163da1c6d4159e86f">max_param_change</a></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, scaling by &quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#aa308f26d8c7993f163da1c6d4159e86f">max_param_change</a> / param_delta;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet3.html#ac9680bf4ad4dd4fd305f913ff398c14e">AddNnet</a>(*<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a>, scale, <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">nnet_</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet3.html#a62b3a3e7be6ebc2a2af34bdb347ec76a">ScaleNnet</a>(<a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">config_</a>.<a class="code" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#aefc49bfa70545c9f199ef57bad5ef3c9">momentum</a>, <a class="code" href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">delta_nnet_</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a62b3a3e7be6ebc2a2af34bdb347ec76a"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a62b3a3e7be6ebc2a2af34bdb347ec76a">kaldi::nnet3::ScaleNnet</a></div><div class="ttdeci">void ScaleNnet(BaseFloat scale, Nnet *nnet)</div><div class="ttdoc">Scales the nnet parameters and stats by this scale. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-utils_8cc_source.html#l00267">nnet-utils.cc:267</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1CachingOptimizingCompiler_html_a7362ae7f2c28fa8d444163e567802f7c"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1CachingOptimizingCompiler.html#a7362ae7f2c28fa8d444163e567802f7c">kaldi::nnet3::CachingOptimizingCompiler::Compile</a></div><div class="ttdeci">const NnetComputation * Compile(const ComputationRequest &amp;request)</div><div class="ttdoc">Does the compilation and returns a const pointer to the result, which is owned by this class...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-optimize_8cc_source.html#l00448">nnet-optimize.cc:448</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_ae6b2732bea7ce47719f18ad2b06d81d2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#ae6b2732bea7ce47719f18ad2b06d81d2">kaldi::nnet3::NnetTrainer::nnet_</a></div><div class="ttdeci">Nnet * nnet_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00143">nnet-training.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_a066d19bab97676c8c6910e9c98d8008b"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a066d19bab97676c8c6910e9c98d8008b">kaldi::nnet3::NnetTrainer::delta_nnet_</a></div><div class="ttdeci">Nnet * delta_nnet_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00144">nnet-training.h:144</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetTrainerOptions_html_aefc49bfa70545c9f199ef57bad5ef3c9"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#aefc49bfa70545c9f199ef57bad5ef3c9">kaldi::nnet3::NnetTrainerOptions::momentum</a></div><div class="ttdeci">BaseFloat momentum</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00037">nnet-training.h:37</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetTrainerOptions_html_a5c5011f4cb4b2fc21775a3308c9cecda"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#a5c5011f4cb4b2fc21775a3308c9cecda">kaldi::nnet3::NnetTrainerOptions::store_component_stats</a></div><div class="ttdeci">bool store_component_stats</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00034">nnet-training.h:34</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_acc1c4c518295918abed6546cfd7f065f"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#acc1c4c518295918abed6546cfd7f065f">kaldi::nnet3::NnetTrainer::compiler_</a></div><div class="ttdeci">CachingOptimizingCompiler compiler_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00148">nnet-training.h:148</a></div></div>
<div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00162">kaldi-error.h:162</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a4dc8f245e845514d33d24ecf1a054406"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a4dc8f245e845514d33d24ecf1a054406">kaldi::nnet3::DotProduct</a></div><div class="ttdeci">BaseFloat DotProduct(const Nnet &amp;nnet1, const Nnet &amp;nnet2)</div><div class="ttdoc">Returns dot product between two networks of the same structure (calls the DotProduct functions of the...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-utils_8cc_source.html#l00225">nnet-utils.cc:225</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_a70dbc9bfde10a7aa389b8a8114e41e74"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#a70dbc9bfde10a7aa389b8a8114e41e74">kaldi::nnet3::NnetTrainer::config_</a></div><div class="ttdeci">const NnetTrainerOptions config_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00142">nnet-training.h:142</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetTrainerOptions_html_aa308f26d8c7993f163da1c6d4159e86f"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#aa308f26d8c7993f163da1c6d4159e86f">kaldi::nnet3::NnetTrainerOptions::max_param_change</a></div><div class="ttdeci">BaseFloat max_param_change</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00038">nnet-training.h:38</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a9f63e4d60600b08466b42e409dd6253d"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a9f63e4d60600b08466b42e409dd6253d">kaldi::nnet3::SetZero</a></div><div class="ttdeci">void SetZero(bool is_gradient, Nnet *nnet)</div><div class="ttdoc">Calls SetZero (with the given is_gradient parameter) on all updatable components of the nnet...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-utils_8cc_source.html#l00162">nnet-utils.cc:162</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetTrainerOptions_html_a4493f40ffdbde20bcfbf81716ae74d01"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html#a4493f40ffdbde20bcfbf81716ae74d01">kaldi::nnet3::NnetTrainerOptions::compute_config</a></div><div class="ttdeci">NnetComputeOptions compute_config</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8h_source.html#l00040">nnet-training.h:40</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet2_html_a3c83004137bb16a4090ff862f0aceed4"><div class="ttname"><a href="namespacekaldi_1_1nnet2.html#a3c83004137bb16a4090ff862f0aceed4">kaldi::nnet2::NnetComputation</a></div><div class="ttdeci">void NnetComputation(const Nnet &amp;nnet, const CuMatrixBase&lt; BaseFloat &gt; &amp;input, bool pad_input, CuMatrixBase&lt; BaseFloat &gt; *output)</div><div class="ttdoc">Does the basic neural net computation, on a sequence of data (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-compute_8cc_source.html#l00160">nnet-compute.cc:160</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00164">kaldi-error.h:164</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NnetTrainer_html_abccaaf5192152d7028c38cf8f1cf54bc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NnetTrainer.html#abccaaf5192152d7028c38cf8f1cf54bc">kaldi::nnet3::NnetTrainer::ProcessOutputs</a></div><div class="ttdeci">void ProcessOutputs(const NnetExample &amp;eg, NnetComputer *computer)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-training_8cc_source.html#l00087">nnet-training.cc:87</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_ac9680bf4ad4dd4fd305f913ff398c14e"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#ac9680bf4ad4dd4fd305f913ff398c14e">kaldi::nnet3::AddNnet</a></div><div class="ttdeci">void AddNnet(const Nnet &amp;src, BaseFloat alpha, Nnet *dest)</div><div class="ttdoc">Does *dest += alpha * src (affects nnet parameters and stored stats). </div><div class="ttdef"><b>Definition:</b> <a href="nnet-utils_8cc_source.html#l00279">nnet-utils.cc:279</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a66f879097cf9cba7482bad03a4030f72"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a66f879097cf9cba7482bad03a4030f72">kaldi::nnet3::GetComputationRequest</a></div><div class="ttdeci">void GetComputationRequest(const Nnet &amp;nnet, const NnetExample &amp;eg, bool need_model_derivative, bool store_component_stats, ComputationRequest *request)</div><div class="ttdoc">This function takes a NnetExample (which should already have been frame-selected, if desired...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-example-utils_8cc_source.html#l00187">nnet-example-utils.cc:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="acc1c4c518295918abed6546cfd7f065f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1CachingOptimizingCompiler.html">CachingOptimizingCompiler</a> compiler_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8h_source.html#l00148">148</a> of file <a class="el" href="nnet-training_8h_source.html">nnet-training.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-training_8cc_source.html#l00047">NnetTrainer::Train()</a>.</p>

</div>
</div>
<a class="anchor" id="a70dbc9bfde10a7aa389b8a8114e41e74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structkaldi_1_1nnet3_1_1NnetTrainerOptions.html">NnetTrainerOptions</a> config_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8h_source.html#l00142">142</a> of file <a class="el" href="nnet-training_8h_source.html">nnet-training.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-training_8cc_source.html#l00087">NnetTrainer::ProcessOutputs()</a>, and <a class="el" href="nnet-training_8cc_source.html#l00047">NnetTrainer::Train()</a>.</p>

</div>
</div>
<a class="anchor" id="a066d19bab97676c8c6910e9c98d8008b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1Nnet.html">Nnet</a>* delta_nnet_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8h_source.html#l00144">144</a> of file <a class="el" href="nnet-training_8h_source.html">nnet-training.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-training_8cc_source.html#l00026">NnetTrainer::NnetTrainer()</a>, <a class="el" href="nnet-training_8cc_source.html#l00047">NnetTrainer::Train()</a>, and <a class="el" href="nnet-training_8cc_source.html#l00163">NnetTrainer::~NnetTrainer()</a>.</p>

</div>
</div>
<a class="anchor" id="ae6b2732bea7ce47719f18ad2b06d81d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1Nnet.html">Nnet</a>* nnet_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8h_source.html#l00143">143</a> of file <a class="el" href="nnet-training_8h_source.html">nnet-training.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-training_8cc_source.html#l00026">NnetTrainer::NnetTrainer()</a>, <a class="el" href="nnet-training_8cc_source.html#l00087">NnetTrainer::ProcessOutputs()</a>, and <a class="el" href="nnet-training_8cc_source.html#l00047">NnetTrainer::Train()</a>.</p>

</div>
</div>
<a class="anchor" id="af676d295ba780873405747474e9f28aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_minibatches_processed_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8h_source.html#l00153">153</a> of file <a class="el" href="nnet-training_8h_source.html">nnet-training.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-training_8cc_source.html#l00087">NnetTrainer::ProcessOutputs()</a>.</p>

</div>
</div>
<a class="anchor" id="a855a05d0c2cac564dba34eb4ed0b6c75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unordered_map&lt;std::string, <a class="el" href="structkaldi_1_1nnet3_1_1ObjectiveFunctionInfo.html">ObjectiveFunctionInfo</a>, <a class="el" href="structkaldi_1_1StringHasher.html">StringHasher</a>&gt; objf_info_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-training_8h_source.html#l00155">155</a> of file <a class="el" href="nnet-training_8h_source.html">nnet-training.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-training_8cc_source.html#l00109">NnetTrainer::PrintTotalStats()</a>, and <a class="el" href="nnet-training_8cc_source.html#l00087">NnetTrainer::ProcessOutputs()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>nnet3/<a class="el" href="nnet-training_8h_source.html">nnet-training.h</a></li>
<li>nnet3/<a class="el" href="nnet-training_8cc_source.html">nnet-training.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="namespacekaldi_1_1nnet3.html">nnet3</a></li><li class="navelem"><a class="el" href="classkaldi_1_1nnet3_1_1NnetTrainer.html">NnetTrainer</a></li>
    <li class="footer">Generated on Tue Apr 26 2016 14:54:56 for Kaldi by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
