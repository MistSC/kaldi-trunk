<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: Low-level functions for manipulating statistics and event-maps</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__tree__group__lower.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Low-level functions for manipulating statistics and event-maps<div class="ingroups"><a class="el" href="group__tree__group.html">Modules involved in tree building</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>See <a class="el" href="tree_internals.html">Decision tree internals</a> and specifically <a class="el" href="tree_internals.html#treei_func">Classes and functions involved in tree-building</a> for context.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Low-level functions for manipulating statistics and event-maps:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__tree__group__lower.png" border="0" alt="" usemap="#group____tree____group____lower"/>
<map name="group____tree____group____lower" id="group____tree____group____lower">
<area shape="rect" id="node2" href="group__tree__group.html" title="See. " alt="" coords="5,11,152,53"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga33e6c91c3ab79436fae03a307d89fa5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#ga33e6c91c3ab79436fae03a307d89fa5d">DeleteBuildTreeStats</a> (BuildTreeStatsType *stats)</td></tr>
<tr class="memdesc:ga33e6c91c3ab79436fae03a307d89fa5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This frees the Clusterable* pointers in "stats", where non-NULL, and sets them to NULL.  <a href="#ga33e6c91c3ab79436fae03a307d89fa5d">More...</a><br/></td></tr>
<tr class="separator:ga33e6c91c3ab79436fae03a307d89fa5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a15a2d49fdd5c582a8cf297d318bba9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#ga9a15a2d49fdd5c582a8cf297d318bba9">WriteBuildTreeStats</a> (std::ostream &amp;os, bool binary, const BuildTreeStatsType &amp;stats)</td></tr>
<tr class="memdesc:ga9a15a2d49fdd5c582a8cf297d318bba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes BuildTreeStats object. This works even if pointers are NULL.  <a href="#ga9a15a2d49fdd5c582a8cf297d318bba9">More...</a><br/></td></tr>
<tr class="separator:ga9a15a2d49fdd5c582a8cf297d318bba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade1498f052d23c6b9ce3af76deb4f870"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#gade1498f052d23c6b9ce3af76deb4f870">ReadBuildTreeStats</a> (std::istream &amp;is, bool binary, const Clusterable &amp;example, BuildTreeStatsType *stats)</td></tr>
<tr class="memdesc:gade1498f052d23c6b9ce3af76deb4f870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads BuildTreeStats object.  <a href="#gade1498f052d23c6b9ce3af76deb4f870">More...</a><br/></td></tr>
<tr class="separator:gade1498f052d23c6b9ce3af76deb4f870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga173f643fb842958832b4b40edce2eb69"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#ga173f643fb842958832b4b40edce2eb69">PossibleValues</a> (EventKeyType key, const BuildTreeStatsType &amp;stats, std::vector&lt; EventValueType &gt; *ans)</td></tr>
<tr class="memdesc:ga173f643fb842958832b4b40edce2eb69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function e.g.  <a href="#ga173f643fb842958832b4b40edce2eb69">More...</a><br/></td></tr>
<tr class="separator:ga173f643fb842958832b4b40edce2eb69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c608e9645daa472fc1dfbdebae86254"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#ga7c608e9645daa472fc1dfbdebae86254">SplitStatsByMap</a> (const BuildTreeStatsType &amp;stats_in, const EventMap &amp;e, std::vector&lt; BuildTreeStatsType &gt; *stats_out)</td></tr>
<tr class="memdesc:ga7c608e9645daa472fc1dfbdebae86254"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits stats according to the <a class="el" href="classkaldi_1_1EventMap.html" title="A class that is capable of representing a generic mapping from EventType (which is a vector of (key...">EventMap</a>, indexing them at output by the leaf type.  <a href="#ga7c608e9645daa472fc1dfbdebae86254">More...</a><br/></td></tr>
<tr class="separator:ga7c608e9645daa472fc1dfbdebae86254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec24b5b9b04af079fd741a4c262fc654"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#gaec24b5b9b04af079fd741a4c262fc654">SplitStatsByKey</a> (const BuildTreeStatsType &amp;stats_in, EventKeyType key, std::vector&lt; BuildTreeStatsType &gt; *stats_out)</td></tr>
<tr class="memdesc:gaec24b5b9b04af079fd741a4c262fc654"><td class="mdescLeft">&#160;</td><td class="mdescRight">SplitStatsByKey splits stats up according to the value of a particular key, which must be always defined and nonnegative.  <a href="#gaec24b5b9b04af079fd741a4c262fc654">More...</a><br/></td></tr>
<tr class="separator:gaec24b5b9b04af079fd741a4c262fc654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga977b418f93bb1c8384ebaebedd0be0f0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#ga977b418f93bb1c8384ebaebedd0be0f0">ConvertStats</a> (int32 oldN, int32 oldP, int32 newN, int32 newP, BuildTreeStatsType *stats)</td></tr>
<tr class="memdesc:ga977b418f93bb1c8384ebaebedd0be0f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts stats from a given context-window (N) and central-position (P) to a different N and P, by possibly reducing context.  <a href="#ga977b418f93bb1c8384ebaebedd0be0f0">More...</a><br/></td></tr>
<tr class="separator:ga977b418f93bb1c8384ebaebedd0be0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaa380f37e7d222293ac4d6663bdc531"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#gafaa380f37e7d222293ac4d6663bdc531">FilterStatsByKey</a> (const BuildTreeStatsType &amp;stats_in, EventKeyType key, std::vector&lt; EventValueType &gt; &amp;values, bool include_if_present,BuildTreeStatsType *stats_out)</td></tr>
<tr class="memdesc:gafaa380f37e7d222293ac4d6663bdc531"><td class="mdescLeft">&#160;</td><td class="mdescRight">FilterStatsByKey filters the stats according the value of a specified key.  <a href="#gafaa380f37e7d222293ac4d6663bdc531">More...</a><br/></td></tr>
<tr class="separator:gafaa380f37e7d222293ac4d6663bdc531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70816f7f5e5240ac2f61e70c8d6a9640"><td class="memItemLeft" align="right" valign="top">Clusterable *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#ga70816f7f5e5240ac2f61e70c8d6a9640">SumStats</a> (const BuildTreeStatsType &amp;stats_in)</td></tr>
<tr class="memdesc:ga70816f7f5e5240ac2f61e70c8d6a9640"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sums stats, or returns NULL stats_in has no non-NULL stats.  <a href="#ga70816f7f5e5240ac2f61e70c8d6a9640">More...</a><br/></td></tr>
<tr class="separator:ga70816f7f5e5240ac2f61e70c8d6a9640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91fda4544d5d5c48363da2bd214c981b"><td class="memItemLeft" align="right" valign="top">BaseFloat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#ga91fda4544d5d5c48363da2bd214c981b">SumNormalizer</a> (const BuildTreeStatsType &amp;stats_in)</td></tr>
<tr class="memdesc:ga91fda4544d5d5c48363da2bd214c981b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sums the normalizer [typically, data-count] over the stats.  <a href="#ga91fda4544d5d5c48363da2bd214c981b">More...</a><br/></td></tr>
<tr class="separator:ga91fda4544d5d5c48363da2bd214c981b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8ac2c0b76208d3af53275dde8981725"><td class="memItemLeft" align="right" valign="top">BaseFloat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#gad8ac2c0b76208d3af53275dde8981725">SumObjf</a> (const BuildTreeStatsType &amp;stats_in)</td></tr>
<tr class="memdesc:gad8ac2c0b76208d3af53275dde8981725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sums the objective function over the stats.  <a href="#gad8ac2c0b76208d3af53275dde8981725">More...</a><br/></td></tr>
<tr class="separator:gad8ac2c0b76208d3af53275dde8981725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c594556191d0401cf83ebab7bebf068"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#ga8c594556191d0401cf83ebab7bebf068">SumStatsVec</a> (const std::vector&lt; BuildTreeStatsType &gt; &amp;stats_in, std::vector&lt; Clusterable * &gt; *stats_out)</td></tr>
<tr class="memdesc:ga8c594556191d0401cf83ebab7bebf068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sum a vector of stats.  <a href="#ga8c594556191d0401cf83ebab7bebf068">More...</a><br/></td></tr>
<tr class="separator:ga8c594556191d0401cf83ebab7bebf068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d8695592350c5d11ae73317d261cd1d"><td class="memItemLeft" align="right" valign="top">BaseFloat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#ga9d8695592350c5d11ae73317d261cd1d">ObjfGivenMap</a> (const BuildTreeStatsType &amp;stats_in, const EventMap &amp;e)</td></tr>
<tr class="memdesc:ga9d8695592350c5d11ae73317d261cd1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cluster the stats given the event map return the total objf given those clusters.  <a href="#ga9d8695592350c5d11ae73317d261cd1d">More...</a><br/></td></tr>
<tr class="separator:ga9d8695592350c5d11ae73317d261cd1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb5056f250693994d84f68ae6b07e8e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tree__group__lower.html#gafb5056f250693994d84f68ae6b07e8e3">FindAllKeys</a> (const BuildTreeStatsType &amp;stats, AllKeysType keys_type, std::vector&lt; EventKeyType &gt; *keys)</td></tr>
<tr class="memdesc:gafb5056f250693994d84f68ae6b07e8e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">FindAllKeys puts in *keys the (sorted, unique) list of all key identities in the stats.  <a href="#gafb5056f250693994d84f68ae6b07e8e3">More...</a><br/></td></tr>
<tr class="separator:gafb5056f250693994d84f68ae6b07e8e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>See <a class="el" href="tree_internals.html">Decision tree internals</a> and specifically <a class="el" href="tree_internals.html#treei_func">Classes and functions involved in tree-building</a> for context. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga977b418f93bb1c8384ebaebedd0be0f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ConvertStats </td>
          <td>(</td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>oldN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>oldP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>newN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>newP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BuildTreeStatsType *&#160;</td>
          <td class="paramname"><em>stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts stats from a given context-window (N) and central-position (P) to a different N and P, by possibly reducing context. </p>
<p>This function does a job that's quite specific to the "normal" stats format we use. See <a class="el" href="tree_externals.html#tree_window">Phonetic context windows</a> for background. This function may delete some keys and change others, depending on the N and P values. It expects that at input, all keys will either be -1 or lie between 0 and oldN-1. At output, keys will be either -1 or between 0 and newN-1. Returns false if we could not convert the stats (e.g. because newN is larger than oldN). </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00967">967</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::j</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, and <a class="el" href="kaldi-error_8h_source.html#l00162">KALDI_WARN</a>.</p>

<p>Referenced by <a class="el" href="gmm-init-model_8cc_source.html#l00116">kaldi::InitAmGmmFromOld()</a>, and <a class="el" href="build-tree-utils-test_8cc_source.html#l00072">kaldi::TestConvertStats()</a>.</p>
<div class="fragment"><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                                             {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordtype">bool</span> warned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(stats != NULL &amp;&amp; oldN &gt; 0 &amp;&amp; newN &gt; 0 &amp;&amp; oldP &gt;= 0</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;               &amp;&amp; newP &gt;= 0 &amp;&amp; newP &lt; newN &amp;&amp; oldP &lt; oldN);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordflow">if</span> (newN &gt; oldN) {  <span class="comment">// can&#39;t add unseen context.</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Cannot convert stats to larger context: &quot;</span> &lt;&lt; newN</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span> &lt;&lt; oldN;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordflow">if</span> (newP &gt; oldP) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Cannot convert stats to have more left-context: &quot;</span> &lt;&lt; newP</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span> &lt;&lt; oldP;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordflow">if</span> (newN-newP-1 &gt; oldN-oldP-1) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Cannot convert stats to have more right-context: &quot;</span> &lt;&lt; (newN-newP-1)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span> &lt;&lt; (oldN-oldP-1);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="comment">// if shift &lt; 0, this is by how much we &quot;shift down&quot; key</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="comment">// values.</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> shift = newP - oldP;  <span class="comment">// shift &lt;= 0.</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; stats-&gt;size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <a class="code" href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">EventType</a> &amp;evec = (*stats)[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].first;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <a class="code" href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">EventType</a> evec_new;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> &lt; evec.size(); <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>++) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <a class="code" href="namespacekaldi.html#aecf39f5f52172bb00dbbe738ca2d7d51">EventKeyType</a> key = evec[<a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>].first;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="keywordflow">if</span> (key &gt;= 0 &amp;&amp; key &lt; oldN) {  <span class="comment">//</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        key += shift;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">if</span> (key &gt;= 0 &amp;&amp; key &lt; newN) <span class="comment">// within new context window...</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;          evec_new.push_back(std::make_pair(key, evec[<a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>].second));</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">if</span> (key != -1) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;          <span class="comment">// don&#39;t understand this key value but assume for now</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;          <span class="comment">// it&#39;s something that doesn&#39;t interact with the context window.</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;          <span class="keywordflow">if</span> (!warned) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Stats had keys defined that we cannot interpret&quot;</span>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            warned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;          }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        evec_new.push_back(evec[<a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>]);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    evec = evec_new;  <span class="comment">// Assign the modified EventVector with possibly</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">// deleted keys.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div>
<div class="ttc" id="namespacernnlm_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">rnnlm::j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="namespacekaldi_html_ad52ff1019e01de1ec06a179d33d3768a"><div class="ttname"><a href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">kaldi::EventType</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; EventKeyType, EventValueType &gt; &gt; EventType</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8h_source.html#l00058">event-map.h:58</a></div></div>
<div class="ttc" id="namespacekaldi_html_aecf39f5f52172bb00dbbe738ca2d7d51"><div class="ttname"><a href="namespacekaldi.html#aecf39f5f52172bb00dbbe738ca2d7d51">kaldi::EventKeyType</a></div><div class="ttdeci">int32 EventKeyType</div><div class="ttdoc">Things of type EventKeyType can take any value. </div><div class="ttdef"><b>Definition:</b> <a href="event-map_8h_source.html#l00045">event-map.h:45</a></div></div>
<div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00162">kaldi-error.h:162</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga33e6c91c3ab79436fae03a307d89fa5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DeleteBuildTreeStats </td>
          <td>(</td>
          <td class="paramtype">BuildTreeStatsType *&#160;</td>
          <td class="paramname"><em>stats</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This frees the Clusterable* pointers in "stats", where non-NULL, and sets them to NULL. </p>
<p>Does not delete the pointer "stats" itself. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00754">754</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>.</p>

<p>Referenced by <a class="el" href="context-dep_8cc_source.html#l00046">kaldi::GenRandContextDependency()</a>, <a class="el" href="context-dep_8cc_source.html#l00097">kaldi::GenRandContextDependencyLarge()</a>, <a class="el" href="acc-tree-stats_8cc_source.html#l00034">main()</a>, <a class="el" href="build-tree-test_8cc_source.html#l00090">kaldi::TestBuildTree()</a>, <a class="el" href="build-tree-utils-test_8cc_source.html#l00376">kaldi::TestClusterEventMap()</a>, <a class="el" href="build-tree-utils-test_8cc_source.html#l00256">kaldi::TestClusterEventMapGetMappingAndRenumberEventMap()</a>, <a class="el" href="build-tree-utils-test_8cc_source.html#l00315">kaldi::TestClusterEventMapGetMappingAndRenumberEventMap2()</a>, <a class="el" href="build-tree-utils-test_8cc_source.html#l00437">kaldi::TestClusterEventMapRestricted()</a>, <a class="el" href="build-tree-test_8cc_source.html#l00025">kaldi::TestGenRandStats()</a>, <a class="el" href="build-tree-utils-test_8cc_source.html#l00535">kaldi::TestShareEventMapLeaves()</a>, and <a class="el" href="build-tree-utils-test_8cc_source.html#l00730">kaldi::TestSplitDecisionTree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                                                     {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(stats != NULL);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  BuildTreeStatsType::iterator iter = stats-&gt;begin(), end = stats-&gt;end();</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">for</span> (; iter!= end; ++iter) <span class="keywordflow">if</span> (iter-&gt;second != NULL) { <span class="keyword">delete</span> iter-&gt;second; iter-&gt;second = NULL; } <span class="comment">// set to NULL for extra safety.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gafaa380f37e7d222293ac4d6663bdc531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FilterStatsByKey </td>
          <td>(</td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EventKeyType&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; EventValueType &gt; &amp;&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_if_present</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BuildTreeStatsType *&#160;</td>
          <td class="paramname"><em>stats_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FilterStatsByKey filters the stats according the value of a specified key. </p>
<p>If include_if_present == true, it only outputs the stats whose key is in "values"; otherwise it only outputs the stats whose key is not in "values". At input, "values" must be sorted and unique, and all stats in "stats_in" must have "key" defined. At output, pointers to Clusterable* in stats_out are not newly allocated&ndash; they are the same as the ones in stats_in. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00222">222</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="event-map_8cc_source.html#l00253">kaldi::EventTypeToString()</a>, <a class="el" href="stl-utils_8h_source.html#l00075">kaldi::IsSortedAndUniq()</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, and <a class="el" href="event-map_8cc_source.html#l00290">EventMap::Lookup()</a>.</p>

<p>Referenced by <a class="el" href="tree_2build-tree_8cc_source.html#l00541">kaldi::AutomaticallyObtainQuestions()</a>, <a class="el" href="tree_2build-tree_8cc_source.html#l00135">kaldi::BuildTree()</a>, <a class="el" href="tree_2build-tree_8cc_source.html#l00313">kaldi::BuildTreeTwoLevel()</a>, and <a class="el" href="tree_2build-tree_8cc_source.html#l00674">kaldi::KMeansClusterPhones()</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                                     {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="namespacekaldi.html#a81dfa76eeac63eba502e32ee58e37d57">IsSortedAndUniq</a>(values));</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  BuildTreeStatsType::const_iterator iter, end = stats_in.end();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(stats_out != NULL);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  stats_out-&gt;clear();</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">for</span> (iter = stats_in.begin(); iter != end; ++iter) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">EventType</a> &amp;evec = iter-&gt;first;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="namespacekaldi.html#a568b789a0df90eb2b79de13c95133b1b">EventValueType</a> val;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (! EventMap::Lookup(evec, key, &amp;val)) <span class="comment">// no such key. // HERE.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;SplitStats: key &quot;</span>&lt;&lt; key &lt;&lt; <span class="stringliteral">&quot; is not present in event vector &quot;</span> &lt;&lt; <a class="code" href="extract-ctx_8cc.html#a84653e2ee89daae8c348b685e3588cf6">EventTypeToString</a>(evec);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">bool</span> in_values = std::binary_search(values.begin(), values.end(), val);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (in_values == include_if_present)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      stats_out-&gt;push_back(*iter);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="ttc" id="extract-ctx_8cc_html_a84653e2ee89daae8c348b685e3588cf6"><div class="ttname"><a href="extract-ctx_8cc.html#a84653e2ee89daae8c348b685e3588cf6">EventTypeToString</a></div><div class="ttdeci">static std::string EventTypeToString(EventType &amp;e, fst::SymbolTable *phones_symtab, bool addpos)</div><div class="ttdef"><b>Definition:</b> <a href="extract-ctx_8cc_source.html#l00039">extract-ctx.cc:39</a></div></div>
<div class="ttc" id="namespacekaldi_html_ad52ff1019e01de1ec06a179d33d3768a"><div class="ttname"><a href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">kaldi::EventType</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; EventKeyType, EventValueType &gt; &gt; EventType</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8h_source.html#l00058">event-map.h:58</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="namespacekaldi_html_a568b789a0df90eb2b79de13c95133b1b"><div class="ttname"><a href="namespacekaldi.html#a568b789a0df90eb2b79de13c95133b1b">kaldi::EventValueType</a></div><div class="ttdeci">int32 EventValueType</div><div class="ttdoc">Given current code, things of type EventValueType should generally be nonnegative and in a reasonably...</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8h_source.html#l00051">event-map.h:51</a></div></div>
<div class="ttc" id="namespacekaldi_html_a81dfa76eeac63eba502e32ee58e37d57"><div class="ttname"><a href="namespacekaldi.html#a81dfa76eeac63eba502e32ee58e37d57">kaldi::IsSortedAndUniq</a></div><div class="ttdeci">bool IsSortedAndUniq(const std::vector&lt; T &gt; &amp;vec)</div><div class="ttdoc">Returns true if the vector is sorted and contains each element only once. </div><div class="ttdef"><b>Definition:</b> <a href="stl-utils_8h_source.html#l00075">stl-utils.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gafb5056f250693994d84f68ae6b07e8e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FindAllKeys </td>
          <td>(</td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AllKeysType&#160;</td>
          <td class="paramname"><em>keys_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; EventKeyType &gt; *&#160;</td>
          <td class="paramname"><em>keys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FindAllKeys puts in *keys the (sorted, unique) list of all key identities in the stats. </p>
<p>If type == kAllKeysInsistIdentical, it will insist that this set of keys is the same for all the stats (else exception is thrown). if type == kAllKeysIntersection, it will return the smallest common set of keys present in the set of stats if type== kAllKeysUnion (currently probably not so useful since maps will return "undefined" if key is not present), it will return the union of all the keys present in the stats. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00092">92</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="build-tree-utils_8cc_source.html#l00081">kaldi::GetEventKeys()</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, <a class="el" href="build-tree-questions_8h_source.html#l00036">kaldi::kAllKeysInsistIdentical</a>, <a class="el" href="build-tree-questions_8h_source.html#l00036">kaldi::kAllKeysIntersection</a>, and <a class="el" href="build-tree-questions_8h_source.html#l00036">kaldi::kAllKeysUnion</a>.</p>

<p>Referenced by <a class="el" href="build-tree-questions_8cc_source.html#l00089">Questions::InitRand()</a>, and <a class="el" href="build-tree-utils-test_8cc_source.html#l00148">kaldi::TestFindAllKeys()</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                                                                                            {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(keys_out != NULL);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  BuildTreeStatsType::const_iterator iter = stats.begin(), end = stats.end();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (iter == end) <span class="keywordflow">return</span>;  <span class="comment">// empty set of keys.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  std::vector&lt;EventKeyType&gt; keys;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="namespacekaldi.html#a67da729f4d8fc428dc70de31f8fa93ea">GetEventKeys</a>(iter-&gt;first, &amp;keys);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  ++iter;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">for</span> (; iter!= end; ++iter) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    std::vector&lt;EventKeyType&gt; keys2;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="namespacekaldi.html#a67da729f4d8fc428dc70de31f8fa93ea">GetEventKeys</a>(iter-&gt;first, &amp;keys2);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> (keys_type == <a class="code" href="group__tree__group.html#gga472c2928225ff382ad1c926e5725b135ae5f2cfee5e2c5b5348dd9a342f105b13">kAllKeysInsistIdentical</a>) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordflow">if</span> (keys2 != keys)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;AllKeys: keys in events are not all the same [called with kAllKeysInsistIdentical and all are not identical.&quot;</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (keys_type == <a class="code" href="group__tree__group.html#gga472c2928225ff382ad1c926e5725b135ab49bc120db461f0adf092224504e05f7">kAllKeysIntersection</a>) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      std::vector&lt;EventKeyType&gt; new_keys(std::max(keys.size(), keys2.size()));</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="comment">// following line relies on sorted order of event keys.</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      std::vector&lt;EventKeyType&gt;::iterator end_iter =</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          std::set_intersection(keys.begin(), keys.end(), keys2.begin(), keys2.end(), new_keys.begin());</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      new_keys.erase(end_iter, new_keys.end());</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      keys = new_keys;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    } <span class="keywordflow">else</span> {  <span class="comment">// union.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(keys_type == <a class="code" href="group__tree__group.html#gga472c2928225ff382ad1c926e5725b135a9df3783a2ff6ff99cbd351d79acb295e">kAllKeysUnion</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      std::vector&lt;EventKeyType&gt; new_keys(keys.size()+keys2.size());</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="comment">// following line relies on sorted order of event keys.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      std::vector&lt;EventKeyType&gt;::iterator end_iter =</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          std::set_union(keys.begin(), keys.end(), keys2.begin(), keys2.end(), new_keys.begin());</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      new_keys.erase(end_iter, new_keys.end());</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      keys = new_keys;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  *keys_out = keys;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_a67da729f4d8fc428dc70de31f8fa93ea"><div class="ttname"><a href="namespacekaldi.html#a67da729f4d8fc428dc70de31f8fa93ea">kaldi::GetEventKeys</a></div><div class="ttdeci">static void GetEventKeys(const EventType &amp;vec, std::vector&lt; EventKeyType &gt; *keys)</div><div class="ttdef"><b>Definition:</b> <a href="build-tree-utils_8cc_source.html#l00081">build-tree-utils.cc:81</a></div></div>
<div class="ttc" id="group__tree__group_html_gga472c2928225ff382ad1c926e5725b135ae5f2cfee5e2c5b5348dd9a342f105b13"><div class="ttname"><a href="group__tree__group.html#gga472c2928225ff382ad1c926e5725b135ae5f2cfee5e2c5b5348dd9a342f105b13">kaldi::kAllKeysInsistIdentical</a></div><div class="ttdef"><b>Definition:</b> <a href="build-tree-questions_8h_source.html#l00036">build-tree-questions.h:36</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="group__tree__group_html_gga472c2928225ff382ad1c926e5725b135ab49bc120db461f0adf092224504e05f7"><div class="ttname"><a href="group__tree__group.html#gga472c2928225ff382ad1c926e5725b135ab49bc120db461f0adf092224504e05f7">kaldi::kAllKeysIntersection</a></div><div class="ttdef"><b>Definition:</b> <a href="build-tree-questions_8h_source.html#l00036">build-tree-questions.h:36</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="group__tree__group_html_gga472c2928225ff382ad1c926e5725b135a9df3783a2ff6ff99cbd351d79acb295e"><div class="ttname"><a href="group__tree__group.html#gga472c2928225ff382ad1c926e5725b135a9df3783a2ff6ff99cbd351d79acb295e">kaldi::kAllKeysUnion</a></div><div class="ttdef"><b>Definition:</b> <a href="build-tree-questions_8h_source.html#l00036">build-tree-questions.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga9d8695592350c5d11ae73317d261cd1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseFloat ObjfGivenMap </td>
          <td>(</td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const EventMap &amp;&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cluster the stats given the event map return the total objf given those clusters. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00285">285</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="stl-utils_8h_source.html#l00198">kaldi::DeletePointers()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00172">kaldi::SplitStatsByMap()</a>, <a class="el" href="cluster-utils_8cc_source.html#l00039">kaldi::SumClusterableObjf()</a>, and <a class="el" href="build-tree-utils_8cc_source.html#l00279">kaldi::SumStatsVec()</a>.</p>

<p>Referenced by <a class="el" href="tree_2build-tree_8cc_source.html#l00135">kaldi::BuildTree()</a>, <a class="el" href="tree_2build-tree_8cc_source.html#l00313">kaldi::BuildTreeTwoLevel()</a>, and <a class="el" href="build-tree-utils-test_8cc_source.html#l00730">kaldi::TestSplitDecisionTree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                                                              {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  std::vector&lt;BuildTreeStatsType&gt; split_stats;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="group__tree__group__lower.html#ga7c608e9645daa472fc1dfbdebae86254">SplitStatsByMap</a>(stats_in, e, &amp;split_stats);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  std::vector&lt;Clusterable*&gt; summed_stats;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="group__tree__group__lower.html#ga8c594556191d0401cf83ebab7bebf068">SumStatsVec</a>(split_stats, &amp;summed_stats);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> ans = <a class="code" href="group__clustering__group__simple.html#ga5b94b852abd3cba4d27c0a93d9fb6636">SumClusterableObjf</a>(summed_stats);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="namespacekaldi.html#a93a4038983f8cd71e343b85f1d117cac">DeletePointers</a>(&amp;summed_stats);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="ttc" id="group__tree__group__lower_html_ga7c608e9645daa472fc1dfbdebae86254"><div class="ttname"><a href="group__tree__group__lower.html#ga7c608e9645daa472fc1dfbdebae86254">kaldi::SplitStatsByMap</a></div><div class="ttdeci">void SplitStatsByMap(const BuildTreeStatsType &amp;stats, const EventMap &amp;e, std::vector&lt; BuildTreeStatsType &gt; *stats_out)</div><div class="ttdoc">Splits stats according to the EventMap, indexing them at output by the leaf type. ...</div><div class="ttdef"><b>Definition:</b> <a href="build-tree-utils_8cc_source.html#l00172">build-tree-utils.cc:172</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="group__tree__group__lower_html_ga8c594556191d0401cf83ebab7bebf068"><div class="ttname"><a href="group__tree__group__lower.html#ga8c594556191d0401cf83ebab7bebf068">kaldi::SumStatsVec</a></div><div class="ttdeci">void SumStatsVec(const std::vector&lt; BuildTreeStatsType &gt; &amp;stats_in, std::vector&lt; Clusterable * &gt; *stats_out)</div><div class="ttdoc">Sum a vector of stats. </div><div class="ttdef"><b>Definition:</b> <a href="build-tree-utils_8cc_source.html#l00279">build-tree-utils.cc:279</a></div></div>
<div class="ttc" id="group__clustering__group__simple_html_ga5b94b852abd3cba4d27c0a93d9fb6636"><div class="ttname"><a href="group__clustering__group__simple.html#ga5b94b852abd3cba4d27c0a93d9fb6636">kaldi::SumClusterableObjf</a></div><div class="ttdeci">BaseFloat SumClusterableObjf(const std::vector&lt; Clusterable * &gt; &amp;vec)</div><div class="ttdoc">Returns the total objective function after adding up all the statistics in the vector (pointers may b...</div><div class="ttdef"><b>Definition:</b> <a href="cluster-utils_8cc_source.html#l00039">cluster-utils.cc:39</a></div></div>
<div class="ttc" id="namespacekaldi_html_a93a4038983f8cd71e343b85f1d117cac"><div class="ttname"><a href="namespacekaldi.html#a93a4038983f8cd71e343b85f1d117cac">kaldi::DeletePointers</a></div><div class="ttdeci">void DeletePointers(std::vector&lt; A * &gt; *v)</div><div class="ttdoc">Deletes any non-NULL pointers in the vector v, and sets the corresponding entries of v to NULL...</div><div class="ttdef"><b>Definition:</b> <a href="stl-utils_8h_source.html#l00198">stl-utils.h:198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga173f643fb842958832b4b40edce2eb69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PossibleValues </td>
          <td>(</td>
          <td class="paramtype">EventKeyType&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; EventValueType &gt; *&#160;</td>
          <td class="paramname"><em>ans</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience function e.g. </p>
<p>to work out possible values of the phones from just the stats. Returns true if key was always defined inside the stats. May be used with and == NULL to find out of key was always defined. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00063">63</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="stl-utils_8h_source.html#l00098">kaldi::CopySetToVector()</a>, and <a class="el" href="event-map_8cc_source.html#l00290">EventMap::Lookup()</a>.</p>

<p>Referenced by <a class="el" href="build-tree-utils_8cc_source.html#l00126">kaldi::DoTableSplit()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00348">kaldi::FindBestSplitForKey()</a>, <a class="el" href="build-tree-questions_8cc_source.html#l00089">Questions::InitRand()</a>, <a class="el" href="sgmm-build-tree_8cc_source.html#l00032">main()</a>, <a class="el" href="build-tree-utils-test_8cc_source.html#l00038">kaldi::TestPossibleValues()</a>, and <a class="el" href="build-tree-utils-test_8cc_source.html#l00535">kaldi::TestShareEventMapLeaves()</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                                    {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordtype">bool</span> all_present = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  std::set&lt;EventValueType&gt; values;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  BuildTreeStatsType::const_iterator iter = stats.begin(), end = stats.end();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">for</span> (; iter != end; ++iter) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="namespacekaldi.html#a568b789a0df90eb2b79de13c95133b1b">EventValueType</a> val;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (EventMap::Lookup(iter-&gt;first, key, &amp;val))</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      values.insert(val);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      all_present = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (ans)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="namespacekaldi.html#afaa2d6854352e931e19778f6f8608f2a">CopySetToVector</a>(values, ans);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">return</span> all_present;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_afaa2d6854352e931e19778f6f8608f2a"><div class="ttname"><a href="namespacekaldi.html#afaa2d6854352e931e19778f6f8608f2a">kaldi::CopySetToVector</a></div><div class="ttdeci">void CopySetToVector(const std::set&lt; T &gt; &amp;s, std::vector&lt; T &gt; *v)</div><div class="ttdoc">Copies the elements of a set to a vector. </div><div class="ttdef"><b>Definition:</b> <a href="stl-utils_8h_source.html#l00098">stl-utils.h:98</a></div></div>
<div class="ttc" id="namespacekaldi_html_a568b789a0df90eb2b79de13c95133b1b"><div class="ttname"><a href="namespacekaldi.html#a568b789a0df90eb2b79de13c95133b1b">kaldi::EventValueType</a></div><div class="ttdeci">int32 EventValueType</div><div class="ttdoc">Given current code, things of type EventValueType should generally be nonnegative and in a reasonably...</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8h_source.html#l00051">event-map.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gade1498f052d23c6b9ce3af76deb4f870"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReadBuildTreeStats </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>binary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Clusterable &amp;&#160;</td>
          <td class="paramname"><em>example</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BuildTreeStatsType *&#160;</td>
          <td class="paramname"><em>stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads BuildTreeStats object. </p>
<p>The "example" argument must be of the same type as the stats on disk, and is needed for access to the correct "Read" function. It was organized this way for easier extensibility (so adding new <a class="el" href="classkaldi_1_1Clusterable.html">Clusterable</a> derived classes isn't painful) </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00046">46</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="io-funcs_8cc_source.html#l00188">kaldi::ExpectToken()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00054">kaldi::ReadBasicType()</a>, <a class="el" href="event-map_8cc_source.html#l00239">kaldi::ReadEventType()</a>, and <a class="el" href="classkaldi_1_1Clusterable.html#adfa0e5a1c194b35f1a1b87e7cc9d179c">Clusterable::ReadNew()</a>.</p>

<p>Referenced by <a class="el" href="build-tree-two-level_8cc_source.html#l00053">main()</a>, and <a class="el" href="build-tree-utils-test_8cc_source.html#l00838">kaldi::TestBuildTreeStatsIo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                                                                                            {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(stats != NULL);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(stats-&gt;empty());</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;BTS&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="namespacekaldi.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> size;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;size);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  stats-&gt;resize(size);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; size; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="namespacekaldi.html#aba26b24a623816430db4444ff7d857aa">ReadEventType</a>(is, binary, &amp;((*stats)[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].first));</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">bool</span> nonNull;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;nonNull);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (nonNull) (*stats)[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].second = example.ReadNew(is, binary);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">else</span> (*stats)[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].second = NULL;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="ttc" id="group__io__funcs__basic_html_ga1bd1af0ef712b76f2332febcec8d095a"><div class="ttname"><a href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">kaldi::ReadBasicType</a></div><div class="ttdeci">void ReadBasicType(std::istream &amp;is, bool binary, T *t)</div><div class="ttdoc">ReadBasicType is the name of the read function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00054">io-funcs-inl.h:54</a></div></div>
<div class="ttc" id="namespacekaldi_html_acbd4acd0d29e2d6c43104827f77d9cd2"><div class="ttname"><a href="namespacekaldi.html#acbd4acd0d29e2d6c43104827f77d9cd2">kaldi::uint32</a></div><div class="ttdeci">uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00044">kaldi-types.h:44</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga4c7a80f758e878578e78b667f62463a5"><div class="ttname"><a href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">kaldi::ExpectToken</a></div><div class="ttdeci">void ExpectToken(std::istream &amp;is, bool binary, const char *token)</div><div class="ttdoc">ExpectToken tries to read in the given token, and throws an exception on failure. ...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00188">io-funcs.cc:188</a></div></div>
<div class="ttc" id="namespacekaldi_html_aba26b24a623816430db4444ff7d857aa"><div class="ttname"><a href="namespacekaldi.html#aba26b24a623816430db4444ff7d857aa">kaldi::ReadEventType</a></div><div class="ttdeci">void ReadEventType(std::istream &amp;is, bool binary, EventType *evec)</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8cc_source.html#l00239">event-map.cc:239</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaec24b5b9b04af079fd741a4c262fc654"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SplitStatsByKey </td>
          <td>(</td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EventKeyType&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; BuildTreeStatsType &gt; *&#160;</td>
          <td class="paramname"><em>stats_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SplitStatsByKey splits stats up according to the value of a particular key, which must be always defined and nonnegative. </p>
<p>Like MapStats. Pointers to Clusterable* in stats_out are not newly allocated&ndash; they are the same as the ones in stats_in. Generally they will still be owned at stats_in (user can decide where to allocate ownership). </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00198">198</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="event-map_8cc_source.html#l00253">kaldi::EventTypeToString()</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, and <a class="el" href="event-map_8cc_source.html#l00290">EventMap::Lookup()</a>.</p>

<p>Referenced by <a class="el" href="tree_2build-tree_8cc_source.html#l00541">kaldi::AutomaticallyObtainQuestions()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00805">kaldi::ClusterEventMapRestrictedHelper()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00348">kaldi::FindBestSplitForKey()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00760">kaldi::GetToLengthMap()</a>, <a class="el" href="tree_2build-tree_8cc_source.html#l00674">kaldi::KMeansClusterPhones()</a>, and <a class="el" href="build-tree-utils-test_8cc_source.html#l00123">kaldi::TestSplitStatsByKey()</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                                                                                                     {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  BuildTreeStatsType::const_iterator iter, end = stats_in.end();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(stats_out != NULL);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  stats_out-&gt;clear();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordtype">size_t</span> size = 0;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// This loop works out size of output vector.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">for</span> (iter = stats_in.begin(); iter != end; ++iter) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">EventType</a> &amp;evec = iter-&gt;first;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="namespacekaldi.html#a568b789a0df90eb2b79de13c95133b1b">EventValueType</a> val;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (! EventMap::Lookup(evec, key, &amp;val)) <span class="comment">// no such key.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;SplitStats: key &quot;</span>&lt;&lt; key &lt;&lt; <span class="stringliteral">&quot; is not present in event vector &quot;</span> &lt;&lt; <a class="code" href="extract-ctx_8cc.html#a84653e2ee89daae8c348b685e3588cf6">EventTypeToString</a>(evec);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    size = std::max(size, (<span class="keywordtype">size_t</span>)(val+1));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  stats_out-&gt;resize(size);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// This loop splits up the stats.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">for</span> (iter = stats_in.begin(); iter != end; ++iter) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">EventType</a> &amp;evec = iter-&gt;first;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="namespacekaldi.html#a568b789a0df90eb2b79de13c95133b1b">EventValueType</a> val;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    EventMap::Lookup(evec, key, &amp;val);  <span class="comment">// will not fail.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    (*stats_out)[val].push_back(*iter);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="ttc" id="extract-ctx_8cc_html_a84653e2ee89daae8c348b685e3588cf6"><div class="ttname"><a href="extract-ctx_8cc.html#a84653e2ee89daae8c348b685e3588cf6">EventTypeToString</a></div><div class="ttdeci">static std::string EventTypeToString(EventType &amp;e, fst::SymbolTable *phones_symtab, bool addpos)</div><div class="ttdef"><b>Definition:</b> <a href="extract-ctx_8cc_source.html#l00039">extract-ctx.cc:39</a></div></div>
<div class="ttc" id="namespacekaldi_html_ad52ff1019e01de1ec06a179d33d3768a"><div class="ttname"><a href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">kaldi::EventType</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; EventKeyType, EventValueType &gt; &gt; EventType</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8h_source.html#l00058">event-map.h:58</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="namespacekaldi_html_a568b789a0df90eb2b79de13c95133b1b"><div class="ttname"><a href="namespacekaldi.html#a568b789a0df90eb2b79de13c95133b1b">kaldi::EventValueType</a></div><div class="ttdeci">int32 EventValueType</div><div class="ttdoc">Given current code, things of type EventValueType should generally be nonnegative and in a reasonably...</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8h_source.html#l00051">event-map.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7c608e9645daa472fc1dfbdebae86254"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SplitStatsByMap </td>
          <td>(</td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const EventMap &amp;&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; BuildTreeStatsType &gt; *&#160;</td>
          <td class="paramname"><em>stats_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Splits stats according to the <a class="el" href="classkaldi_1_1EventMap.html" title="A class that is capable of representing a generic mapping from EventType (which is a vector of (key...">EventMap</a>, indexing them at output by the leaf type. </p>
<p>A utility function. NOTE&ndash; pointers in stats_out point to the same memory location as those in stats. No copying of Clusterable* objects happens. Will add to stats in stats_out if non-empty at input. This function may increase the size of vector stats_out as necessary to accommodate stats, but will never decrease the size. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00172">172</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="event-map_8cc_source.html#l00253">kaldi::EventTypeToString()</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, and <a class="el" href="classkaldi_1_1EventMap.html#ab9622897fd6f8cb26fe2d5846416ed3f">EventMap::Map()</a>.</p>

<p>Referenced by <a class="el" href="build-tree-utils_8cc_source.html#l00599">kaldi::ClusterEventMapGetMapping()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00840">kaldi::ClusterEventMapRestrictedByMap()</a>, <a class="el" href="tree_2build-tree_8cc_source.html#l00246">kaldi::ComputeTreeMapping()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00126">kaldi::DoTableSplit()</a>, <a class="el" href="gmm-init-model_8cc_source.html#l00092">kaldi::GetOccs()</a>, <a class="el" href="gmm-init-model_8cc_source.html#l00035">kaldi::InitAmGmm()</a>, <a class="el" href="gmm-init-model_8cc_source.html#l00116">kaldi::InitAmGmmFromOld()</a>, <a class="el" href="sgmm-init-from-tree-stats_8cc_source.html#l00033">kaldi::InitAndOutputSgmm()</a>, <a class="el" href="sgmm-build-tree_8cc_source.html#l00032">main()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00285">kaldi::ObjfGivenMap()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00532">kaldi::SplitDecisionTree()</a>, and <a class="el" href="build-tree-utils-test_8cc_source.html#l00730">kaldi::TestSplitDecisionTree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                                                                                                   {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  BuildTreeStatsType::const_iterator iter, end = stats.end();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(stats_out != NULL);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  stats_out-&gt;clear();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordtype">size_t</span> size = 0;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">for</span> (iter = stats.begin(); iter != end; ++iter) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">EventType</a> &amp;evec = iter-&gt;first;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="namespacekaldi.html#acd9d0bb620ecb065a310cc0b42ea736f">EventAnswerType</a> ans;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (!e.Map(evec, &amp;ans)) <span class="comment">// this is an error--could not map it.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;SplitStatsByMap: could not map event vector &quot;</span> &lt;&lt; <a class="code" href="extract-ctx_8cc.html#a84653e2ee89daae8c348b685e3588cf6">EventTypeToString</a>(evec)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;if error seen during tree-building, check that &quot;</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;--context-width and --central-position match stats, &quot;</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;and that phones that are context-independent (CI) during &quot;</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;stats accumulation do not share roots with non-CI phones.&quot;</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    size = std::max(size, (<span class="keywordtype">size_t</span>)(ans+1));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  stats_out-&gt;resize(size);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">for</span> (iter = stats.begin(); iter != end; ++iter) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">EventType</a> &amp;evec = iter-&gt;first;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="namespacekaldi.html#acd9d0bb620ecb065a310cc0b42ea736f">EventAnswerType</a> ans;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">bool</span> b = e.Map(evec, &amp;ans);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(b);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    (*stats_out)[ans].push_back(*iter);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="ttc" id="extract-ctx_8cc_html_a84653e2ee89daae8c348b685e3588cf6"><div class="ttname"><a href="extract-ctx_8cc.html#a84653e2ee89daae8c348b685e3588cf6">EventTypeToString</a></div><div class="ttdeci">static std::string EventTypeToString(EventType &amp;e, fst::SymbolTable *phones_symtab, bool addpos)</div><div class="ttdef"><b>Definition:</b> <a href="extract-ctx_8cc_source.html#l00039">extract-ctx.cc:39</a></div></div>
<div class="ttc" id="namespacekaldi_html_ad52ff1019e01de1ec06a179d33d3768a"><div class="ttname"><a href="namespacekaldi.html#ad52ff1019e01de1ec06a179d33d3768a">kaldi::EventType</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; EventKeyType, EventValueType &gt; &gt; EventType</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8h_source.html#l00058">event-map.h:58</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="namespacekaldi_html_acd9d0bb620ecb065a310cc0b42ea736f"><div class="ttname"><a href="namespacekaldi.html#acd9d0bb620ecb065a310cc0b42ea736f">kaldi::EventAnswerType</a></div><div class="ttdeci">int32 EventAnswerType</div><div class="ttdoc">As far as the event-map code itself is concerned, things of type EventAnswerType may take any value e...</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8h_source.html#l00056">event-map.h:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga91fda4544d5d5c48363da2bd214c981b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseFloat SumNormalizer </td>
          <td>(</td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sums the normalizer [typically, data-count] over the stats. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00258">258</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="classkaldi_1_1Clusterable.html#a5154f568aaaa47b82b942be87c514e47">Clusterable::Normalizer()</a>.</p>

<p>Referenced by <a class="el" href="tree_2build-tree_8cc_source.html#l00135">kaldi::BuildTree()</a>, <a class="el" href="tree_2build-tree_8cc_source.html#l00313">kaldi::BuildTreeTwoLevel()</a>, <a class="el" href="gmm-init-model_8cc_source.html#l00092">kaldi::GetOccs()</a>, and <a class="el" href="sgmm-build-tree_8cc_source.html#l00032">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                                            {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> ans = 0.0;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  BuildTreeStatsType::const_iterator iter = stats_in.begin(), end = stats_in.end();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">for</span> (; iter != end; ++iter) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    Clusterable *cl = iter-&gt;second;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (cl != NULL) ans += cl-&gt;Normalizer();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad8ac2c0b76208d3af53275dde8981725"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseFloat SumObjf </td>
          <td>(</td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sums the objective function over the stats. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00268">268</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="classkaldi_1_1Clusterable.html#af85242c6aed23bf36f9335cd27cf301c">Clusterable::Objf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                                      {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> ans = 0.0;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  BuildTreeStatsType::const_iterator iter = stats_in.begin(), end = stats_in.end();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">for</span> (; iter != end; ++iter) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    Clusterable *cl = iter-&gt;second;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (cl != NULL) ans += cl-&gt;Objf();</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga70816f7f5e5240ac2f61e70c8d6a9640"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Clusterable * SumStats </td>
          <td>(</td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sums stats, or returns NULL stats_in has no non-NULL stats. </p>
<p>Stats are newly allocated, owned by caller. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00245">245</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="classkaldi_1_1Clusterable.html#a41426cead312448b077daa7364d6bc2c">Clusterable::Add()</a>, and <a class="el" href="classkaldi_1_1Clusterable.html#a8d12da01efa84708312b960e15109f14">Clusterable::Copy()</a>.</p>

<p>Referenced by <a class="el" href="build-tree-utils_8cc_source.html#l00457">DecisionTreeSplitter::DoSplitInternal()</a>, <a class="el" href="gmm-init-model_8cc_source.html#l00116">kaldi::InitAmGmmFromOld()</a>, and <a class="el" href="build-tree-utils_8cc_source.html#l00279">kaldi::SumStatsVec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                                          {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  Clusterable *ans = NULL;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  BuildTreeStatsType::const_iterator iter = stats_in.begin(), end = stats_in.end();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">for</span> (; iter != end; ++iter) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    Clusterable *cl = iter-&gt;second;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (cl != NULL) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">if</span> (!ans)  ans = cl-&gt;Copy();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">else</span> ans-&gt;Add(*cl);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga8c594556191d0401cf83ebab7bebf068"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SumStatsVec </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; BuildTreeStatsType &gt; &amp;&#160;</td>
          <td class="paramname"><em>stats_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; Clusterable * &gt; *&#160;</td>
          <td class="paramname"><em>stats_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sum a vector of stats. </p>
<p>Leaves NULL as pointer if no stats available. The pointers in stats_out are owned by caller. At output, there may be NULLs in the vector stats_out. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00279">279</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, and <a class="el" href="build-tree-utils_8cc_source.html#l00245">kaldi::SumStats()</a>.</p>

<p>Referenced by <a class="el" href="tree_2build-tree_8cc_source.html#l00541">kaldi::AutomaticallyObtainQuestions()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00599">kaldi::ClusterEventMapGetMapping()</a>, <a class="el" href="build-tree-utils_8cc_source.html#l00348">kaldi::FindBestSplitForKey()</a>, <a class="el" href="gmm-init-model_8cc_source.html#l00035">kaldi::InitAmGmm()</a>, <a class="el" href="sgmm-init-from-tree-stats_8cc_source.html#l00033">kaldi::InitAndOutputSgmm()</a>, <a class="el" href="tree_2build-tree_8cc_source.html#l00674">kaldi::KMeansClusterPhones()</a>, and <a class="el" href="build-tree-utils_8cc_source.html#l00285">kaldi::ObjfGivenMap()</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                                                                                    {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(stats_out != NULL &amp;&amp; stats_out-&gt;empty());</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  stats_out-&gt;resize(stats_in.size(), NULL);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; stats_in.size();<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) (*stats_out)[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="group__tree__group__lower.html#ga70816f7f5e5240ac2f61e70c8d6a9640">SumStats</a>(stats_in[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="ttc" id="group__tree__group__lower_html_ga70816f7f5e5240ac2f61e70c8d6a9640"><div class="ttname"><a href="group__tree__group__lower.html#ga70816f7f5e5240ac2f61e70c8d6a9640">kaldi::SumStats</a></div><div class="ttdeci">Clusterable * SumStats(const BuildTreeStatsType &amp;stats_in)</div><div class="ttdoc">Sums stats, or returns NULL stats_in has no non-NULL stats. </div><div class="ttdef"><b>Definition:</b> <a href="build-tree-utils_8cc_source.html#l00245">build-tree-utils.cc:245</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga9a15a2d49fdd5c582a8cf297d318bba9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteBuildTreeStats </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>binary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BuildTreeStatsType &amp;&#160;</td>
          <td class="paramname"><em>stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes BuildTreeStats object. This works even if pointers are NULL. </p>

<p>Definition at line <a class="el" href="build-tree-utils_8cc_source.html#l00029">29</a> of file <a class="el" href="build-tree-utils_8cc_source.html">build-tree-utils.cc</a>.</p>

<p>References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00033">kaldi::WriteBasicType()</a>, <a class="el" href="event-map_8cc_source.html#l00228">kaldi::WriteEventType()</a>, and <a class="el" href="io-funcs_8cc_source.html#l00134">kaldi::WriteToken()</a>.</p>

<p>Referenced by <a class="el" href="acc-tree-stats_8cc_source.html#l00034">main()</a>, <a class="el" href="build-tree-test_8cc_source.html#l00090">kaldi::TestBuildTree()</a>, <a class="el" href="build-tree-utils-test_8cc_source.html#l00838">kaldi::TestBuildTreeStatsIo()</a>, and <a class="el" href="build-tree-test_8cc_source.html#l00025">kaldi::TestGenRandStats()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                                                                       {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;BTS&quot;</span>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <a class="code" href="namespacekaldi.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> size = stats.size();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, size);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; size; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="namespacekaldi.html#aaa04279b89296d51279a0683789957d3">WriteEventType</a>(os, binary, stats[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].first);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordtype">bool</span> nonNull = (stats[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].second != NULL);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, nonNull);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">if</span> (nonNull) stats[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].second-&gt;Write(os, binary);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordflow">if</span> (os.fail()) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;WriteBuildTreeStats: write failed.&quot;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">if</span> (!binary) os &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_aaa04279b89296d51279a0683789957d3"><div class="ttname"><a href="namespacekaldi.html#aaa04279b89296d51279a0683789957d3">kaldi::WriteEventType</a></div><div class="ttdeci">void WriteEventType(std::ostream &amp;os, bool binary, const EventType &amp;evec)</div><div class="ttdef"><b>Definition:</b> <a href="event-map_8cc_source.html#l00228">event-map.cc:228</a></div></div>
<div class="ttc" id="namespacekaldi_html_acbd4acd0d29e2d6c43104827f77d9cd2"><div class="ttname"><a href="namespacekaldi.html#acbd4acd0d29e2d6c43104827f77d9cd2">kaldi::uint32</a></div><div class="ttdeci">uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00044">kaldi-types.h:44</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga87f1638ef3c0a3ee117178b202c2d02a"><div class="ttname"><a href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">kaldi::WriteToken</a></div><div class="ttdeci">void WriteToken(std::ostream &amp;os, bool binary, const char *token)</div><div class="ttdoc">The WriteToken functions are for writing nonempty sequences of non-space characters. </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00134">io-funcs.cc:134</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga108506a9aabafd9006926aa1b47617da"><div class="ttname"><a href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">kaldi::WriteBasicType</a></div><div class="ttdeci">void WriteBasicType(std::ostream &amp;os, bool binary, T t)</div><div class="ttdoc">WriteBasicType is the name of the write function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00033">io-funcs-inl.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Apr 26 2016 14:54:46 for Kaldi by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
