<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: kaldi::nnet1 Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacekaldi_1_1nnet1.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">kaldi::nnet1 Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Softmax.html">Softmax</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1BlockSoftmax.html">BlockSoftmax</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Sigmoid.html">Sigmoid</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Tanh.html">Tanh</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Dropout.html">Dropout</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1AffineTransform.html">AffineTransform</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1AveragePooling2DComponent.html">AveragePooling2DComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1AveragePoolingComponent.html" title="AveragePoolingComponent : The input/output matrices are split to submatrices with width &#39;pool_stride_...">AveragePoolingComponent</a> : The input/output matrices are split to submatrices with width 'pool_stride_'.  <a href="classkaldi_1_1nnet1_1_1AveragePooling2DComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1AveragePoolingComponent.html">AveragePoolingComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1AveragePoolingComponent.html" title="AveragePoolingComponent : The input/output matrices are split to submatrices with width &#39;pool_stride_...">AveragePoolingComponent</a> : The input/output matrices are split to submatrices with width 'pool_stride_'.  <a href="classkaldi_1_1nnet1_1_1AveragePoolingComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1BLstmProjectedStreams.html">BLstmProjectedStreams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet1_1_1Component.html">Component</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract class, building block of the network.  <a href="structkaldi_1_1nnet1_1_1Component.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1UpdatableComponent.html">UpdatableComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class <a class="el" href="classkaldi_1_1nnet1_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters, contains SGD training hyper-p...">UpdatableComponent</a> is a <a class="el" href="structkaldi_1_1nnet1_1_1Component.html" title="Abstract class, building block of the network. ">Component</a> which has trainable parameters, contains SGD training hyper-parameters in <a class="el" href="structkaldi_1_1nnet1_1_1NnetTrainOptions.html">NnetTrainOptions</a>.  <a href="classkaldi_1_1nnet1_1_1UpdatableComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Convolutional2DComponent.html">Convolutional2DComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1Convolutional2DComponent.html" title="Convolutional2DComponent implements convolution over 2-axis (frequency and temporal) (i...">Convolutional2DComponent</a> implements convolution over 2-axis (frequency and temporal) (i.e.  <a href="classkaldi_1_1nnet1_1_1Convolutional2DComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1ConvolutionalComponent.html">ConvolutionalComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1ConvolutionalComponent.html" title="ConvolutionalComponent implements convolution over single axis (i.e. ">ConvolutionalComponent</a> implements convolution over single axis (i.e.  <a href="classkaldi_1_1nnet1_1_1ConvolutionalComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1FramePoolingComponent.html">FramePoolingComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1FramePoolingComponent.html" title="FramePoolingComponent : The input/output matrices are split to frames of width &#39;feature_dim_&#39;. ">FramePoolingComponent</a> : The input/output matrices are split to frames of width 'feature_dim_'.  <a href="classkaldi_1_1nnet1_1_1FramePoolingComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1KlHmm.html">KlHmm</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1LinearTransform.html">LinearTransform</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1LossItf.html">LossItf</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Xent.html">Xent</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Mse.html">Mse</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1MultiTaskLoss.html">MultiTaskLoss</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1LstmProjectedStreams.html">LstmProjectedStreams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1MaxPooling2DComponent.html">MaxPooling2DComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1MaxPoolingComponent.html" title="MaxPoolingComponent : The input/output matrices are split to submatrices with width &#39;pool_stride_&#39;...">MaxPoolingComponent</a> : The input/output matrices are split to submatrices with width 'pool_stride_'.  <a href="classkaldi_1_1nnet1_1_1MaxPooling2DComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1MaxPoolingComponent.html">MaxPoolingComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1MaxPoolingComponent.html" title="MaxPoolingComponent : The input/output matrices are split to submatrices with width &#39;pool_stride_&#39;...">MaxPoolingComponent</a> : The input/output matrices are split to submatrices with width 'pool_stride_'.  <a href="classkaldi_1_1nnet1_1_1MaxPoolingComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Nnet.html">Nnet</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1ParallelComponent.html">ParallelComponent</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet1_1_1PdfPriorOptions.html">PdfPriorOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1PdfPrior.html">PdfPrior</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet1_1_1NnetDataRandomizerOptions.html">NnetDataRandomizerOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration variables that affect how frame-level shuffling is done.  <a href="structkaldi_1_1nnet1_1_1NnetDataRandomizerOptions.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1RandomizerMask.html">RandomizerMask</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates index-mask, which is used to randomize order of datapoints (speech frames)  <a href="classkaldi_1_1nnet1_1_1RandomizerMask.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1MatrixRandomizer.html">MatrixRandomizer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomizes rows of a matrix according to a mask.  <a href="classkaldi_1_1nnet1_1_1MatrixRandomizer.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1VectorRandomizer.html">VectorRandomizer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomizes elements of a vector according to a mask.  <a href="classkaldi_1_1nnet1_1_1VectorRandomizer.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1StdVectorRandomizer.html">StdVectorRandomizer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomizes elements of a vector according to a mask.  <a href="classkaldi_1_1nnet1_1_1StdVectorRandomizer.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1RbmBase.html">RbmBase</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Rbm.html">Rbm</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1SimpleSentenceAveragingComponent.html">SimpleSentenceAveragingComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1SimpleSentenceAveragingComponent.html" title="SimpleSentenceAveragingComponent does not have nested network, it is intended to be used inside of a ...">SimpleSentenceAveragingComponent</a> does not have nested network, it is intended to be used inside of a &lt;ParallelComponent&gt;.  <a href="classkaldi_1_1nnet1_1_1SimpleSentenceAveragingComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1SentenceAveragingComponent.html">SentenceAveragingComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deprecated, keeping it as Katka Zmolikova used it in JSALT 2015.  <a href="classkaldi_1_1nnet1_1_1SentenceAveragingComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1TCNComponent.html">TCNComponent</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1TCNProjectionComponent.html">TCNProjectionComponent</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet1_1_1NnetTrainOptions.html">NnetTrainOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet1_1_1RbmTrainOptions.html">RbmTrainOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Splice.html">Splice</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splices the time context of the input features in N, out k*N, FrameOffset o_1,o_2,...,o_k FrameOffset example 11frames: -5 -4 -3 -2 -1 0 1 2 3 4 5.  <a href="classkaldi_1_1nnet1_1_1Splice.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1CopyComponent.html">CopyComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rearrange the matrix columns according to the indices in copy_from_indices_.  <a href="classkaldi_1_1nnet1_1_1CopyComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1LengthNormComponent.html">LengthNormComponent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1Rescale.html" title="Rescale the data column-wise by a vector (can be used for global variance normalization) ...">Rescale</a> the matrix-rows to have unit length (L2-norm).  <a href="classkaldi_1_1nnet1_1_1LengthNormComponent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1AddShift.html">AddShift</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds shift to all the lines of the matrix (can be used for global mean normalization)  <a href="classkaldi_1_1nnet1_1_1AddShift.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet1_1_1Rescale.html">Rescale</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1nnet1_1_1Rescale.html" title="Rescale the data column-wise by a vector (can be used for global variance normalization) ...">Rescale</a> the data column-wise by a vector (can be used for global variance normalization)  <a href="classkaldi_1_1nnet1_1_1Rescale.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a16398eb7d132a1866bfbbee32338022b"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classkaldi_1_1nnet1_1_1StdVectorRandomizer.html">StdVectorRandomizer</a><br class="typebreak"/>
&lt; <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a16398eb7d132a1866bfbbee32338022b">Int32VectorRandomizer</a></td></tr>
<tr class="separator:a16398eb7d132a1866bfbbee32338022b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9265be359f089f328191cd213c57e6"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classkaldi_1_1nnet1_1_1StdVectorRandomizer.html">StdVectorRandomizer</a><br class="typebreak"/>
&lt; std::vector&lt; std::pair<br class="typebreak"/>
&lt; <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a6d9265be359f089f328191cd213c57e6">PosteriorRandomizer</a></td></tr>
<tr class="separator:a6d9265be359f089f328191cd213c57e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6ef4f68255ad8358483efbaa40699291"><td class="memTemplParams" colspan="2">template&lt;typename Real &gt; </td></tr>
<tr class="memitem:a6ef4f68255ad8358483efbaa40699291"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a> (const std::string &amp;s, <a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; Real &gt; *m)</td></tr>
<tr class="separator:a6ef4f68255ad8358483efbaa40699291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e553e0c26ad5fde7fef7d48ed5110c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structkaldi_1_1nnet1_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">ReadComponentFromString</a> (const std::string &amp;s)</td></tr>
<tr class="separator:a2e553e0c26ad5fde7fef7d48ed5110c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4899f1f41590d4bea3458e0b3d2fb2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#af4899f1f41590d4bea3458e0b3d2fb2c">UnitTestLengthNorm</a> ()</td></tr>
<tr class="separator:af4899f1f41590d4bea3458e0b3d2fb2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a45ebc694c25541b89a6f0588ec5a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#aa7a45ebc694c25541b89a6f0588ec5a6">UnitTestSimpleSentenceAveragingComponent</a> ()</td></tr>
<tr class="separator:aa7a45ebc694c25541b89a6f0588ec5a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75205c73ff44b4cb018f774dfda2d73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#ad75205c73ff44b4cb018f774dfda2d73">UnitTestConvolutionalComponentUnity</a> ()</td></tr>
<tr class="separator:ad75205c73ff44b4cb018f774dfda2d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eadc8ee4e77ebcee5ace87f7f9d9b5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a7eadc8ee4e77ebcee5ace87f7f9d9b5d">UnitTestConvolutionalComponent3x3</a> ()</td></tr>
<tr class="separator:a7eadc8ee4e77ebcee5ace87f7f9d9b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a6f835cff5791aefaf8d6dfb64c6cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a72a6f835cff5791aefaf8d6dfb64c6cb">UnitTestMaxPoolingComponent</a> ()</td></tr>
<tr class="separator:a72a6f835cff5791aefaf8d6dfb64c6cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2138c171d2469d51120c8b10ea07e8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#ae2138c171d2469d51120c8b10ea07e8d">UnitTestMaxPooling2DComponent</a> ()</td></tr>
<tr class="separator:ae2138c171d2469d51120c8b10ea07e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab23b9582e2a7ecfb4b70b3b00266e4cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#ab23b9582e2a7ecfb4b70b3b00266e4cf">UnitTestAveragePooling2DComponent</a> ()</td></tr>
<tr class="separator:ab23b9582e2a7ecfb4b70b3b00266e4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237d8dd66935ec58b5e4efad982d6c98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a237d8dd66935ec58b5e4efad982d6c98">UnitTestConvolutional2DComponent</a> ()</td></tr>
<tr class="separator:a237d8dd66935ec58b5e4efad982d6c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7643fa731715a21ca427c207b35d975b"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a7643fa731715a21ca427c207b35d975b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a7643fa731715a21ca427c207b35d975b">CountCorrectFramesWeighted</a> (const <a class="el" href="classkaldi_1_1CuArray.html">CuArray</a>&lt; T &gt; &amp;v1, const <a class="el" href="classkaldi_1_1CuArray.html">CuArray</a>&lt; T &gt; &amp;v2, const <a class="el" href="classkaldi_1_1CuVectorBase.html">CuVectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;weights, double *correct)</td></tr>
<tr class="memdesc:a7643fa731715a21ca427c207b35d975b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function of <a class="el" href="classkaldi_1_1nnet1_1_1Xent.html#a4896a87d2350b5de43ccc68d3ffa4469" title="Evaluate cross entropy using target-matrix (supports soft labels),. ">Xent::Eval</a>, calculates number of matching elemente in 'v1', 'v2' weighted by 'weights'.  <a href="#a7643fa731715a21ca427c207b35d975b">More...</a><br/></td></tr>
<tr class="separator:a7643fa731715a21ca427c207b35d975b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f4a6c939d031e062f8cc42787f2241"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a86f4a6c939d031e062f8cc42787f2241"><td class="memTemplItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a86f4a6c939d031e062f8cc42787f2241">operator&lt;&lt;</a> (std::ostream &amp;os, const std::vector&lt; T &gt; &amp;v)</td></tr>
<tr class="memdesc:a86f4a6c939d031e062f8cc42787f2241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define stream insertion opeartor for 'std::vector', useful for log-prints,.  <a href="#a86f4a6c939d031e062f8cc42787f2241">More...</a><br/></td></tr>
<tr class="separator:a86f4a6c939d031e062f8cc42787f2241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb69139bf1620fc048e9e535671035f"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a7eb69139bf1620fc048e9e535671035f"><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a7eb69139bf1620fc048e9e535671035f">ToString</a> (const T &amp;t)</td></tr>
<tr class="memdesc:a7eb69139bf1620fc048e9e535671035f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert basic type to string (try not to overuse as ostringstream creation is slow)  <a href="#a7eb69139bf1620fc048e9e535671035f">More...</a><br/></td></tr>
<tr class="separator:a7eb69139bf1620fc048e9e535671035f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52409ffa7f7c4a2bebcb5778f0813734"><td class="memTemplParams" colspan="2">template&lt;typename Real &gt; </td></tr>
<tr class="memitem:a52409ffa7f7c4a2bebcb5778f0813734"><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a52409ffa7f7c4a2bebcb5778f0813734">MomentStatistics</a> (const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; Real &gt; &amp;vec)</td></tr>
<tr class="memdesc:a52409ffa7f7c4a2bebcb5778f0813734"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a string with statistics of the data in a vector, so we can print them easily.  <a href="#a52409ffa7f7c4a2bebcb5778f0813734">More...</a><br/></td></tr>
<tr class="separator:a52409ffa7f7c4a2bebcb5778f0813734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20c2cd798c7c772687e3c0c4cbaf770f"><td class="memTemplParams" colspan="2">template&lt;typename Real &gt; </td></tr>
<tr class="memitem:a20c2cd798c7c772687e3c0c4cbaf770f"><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a20c2cd798c7c772687e3c0c4cbaf770f">MomentStatistics</a> (const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; Real &gt; &amp;mat)</td></tr>
<tr class="memdesc:a20c2cd798c7c772687e3c0c4cbaf770f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overload MomentStatistics to MatrixBase&lt;Real&gt;  <a href="#a20c2cd798c7c772687e3c0c4cbaf770f">More...</a><br/></td></tr>
<tr class="separator:a20c2cd798c7c772687e3c0c4cbaf770f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8340a7ea28a908745f0e0e4d1308d7e"><td class="memTemplParams" colspan="2">template&lt;typename Real &gt; </td></tr>
<tr class="memitem:ac8340a7ea28a908745f0e0e4d1308d7e"><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#ac8340a7ea28a908745f0e0e4d1308d7e">MomentStatistics</a> (const <a class="el" href="classkaldi_1_1CuVectorBase.html">CuVectorBase</a>&lt; Real &gt; &amp;vec)</td></tr>
<tr class="memdesc:ac8340a7ea28a908745f0e0e4d1308d7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overload MomentStatistics to CuVectorBase&lt;Real&gt;  <a href="#ac8340a7ea28a908745f0e0e4d1308d7e">More...</a><br/></td></tr>
<tr class="separator:ac8340a7ea28a908745f0e0e4d1308d7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11b857ee60ed2aff529ebd164e5c6eb"><td class="memTemplParams" colspan="2">template&lt;typename Real &gt; </td></tr>
<tr class="memitem:ae11b857ee60ed2aff529ebd164e5c6eb"><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#ae11b857ee60ed2aff529ebd164e5c6eb">MomentStatistics</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; Real &gt; &amp;mat)</td></tr>
<tr class="memdesc:ae11b857ee60ed2aff529ebd164e5c6eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overload MomentStatistics to CuMatrix&lt;Real&gt;  <a href="#ae11b857ee60ed2aff529ebd164e5c6eb">More...</a><br/></td></tr>
<tr class="separator:ae11b857ee60ed2aff529ebd164e5c6eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a50d65a8afcd02aee53382bad03eae"><td class="memTemplParams" colspan="2">template&lt;typename Real &gt; </td></tr>
<tr class="memitem:a42a50d65a8afcd02aee53382bad03eae"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a42a50d65a8afcd02aee53382bad03eae">CheckNanInf</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; Real &gt; &amp;mat, const char *msg=&quot;&quot;)</td></tr>
<tr class="memdesc:a42a50d65a8afcd02aee53382bad03eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that matrix contains no nan or inf.  <a href="#a42a50d65a8afcd02aee53382bad03eae">More...</a><br/></td></tr>
<tr class="separator:a42a50d65a8afcd02aee53382bad03eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406409bed66cb497779a7928fc59fc0a"><td class="memTemplParams" colspan="2">template&lt;typename Real &gt; </td></tr>
<tr class="memitem:a406409bed66cb497779a7928fc59fc0a"><td class="memTemplItemLeft" align="right" valign="top">Real&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a406409bed66cb497779a7928fc59fc0a">ComputeStdDev</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; Real &gt; &amp;mat)</td></tr>
<tr class="memdesc:a406409bed66cb497779a7928fc59fc0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the standard deviation of values in the matrix.  <a href="#a406409bed66cb497779a7928fc59fc0a">More...</a><br/></td></tr>
<tr class="separator:a406409bed66cb497779a7928fc59fc0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcea97a21c293225ede9f149bb9e454a"><td class="memTemplParams" colspan="2">template&lt;typename Real &gt; </td></tr>
<tr class="memitem:abcea97a21c293225ede9f149bb9e454a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#abcea97a21c293225ede9f149bb9e454a">PosteriorToMatrix</a> (const <a class="el" href="group__posterior__group.html#ga5c99e6141a5a3b3c5d424e99ffbd1ac6">Posterior</a> &amp;post, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_cols, <a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; Real &gt; *mat)</td></tr>
<tr class="memdesc:abcea97a21c293225ede9f149bb9e454a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Posterior to <a class="el" href="classkaldi_1_1CuMatrix.html" title="This class represents a matrix that&#39;s stored on the GPU if we have one, and in memory if not...">CuMatrix</a>, the Posterior outer-dim defines number of matrix-rows, number of matrix-colmuns is set by 'num_cols'.  <a href="#abcea97a21c293225ede9f149bb9e454a">More...</a><br/></td></tr>
<tr class="separator:abcea97a21c293225ede9f149bb9e454a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61bd48fe82a87145d57f1de090b187ab"><td class="memTemplParams" colspan="2">template&lt;typename Real &gt; </td></tr>
<tr class="memitem:a61bd48fe82a87145d57f1de090b187ab"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a61bd48fe82a87145d57f1de090b187ab">PosteriorToMatrixMapped</a> (const <a class="el" href="group__posterior__group.html#ga5c99e6141a5a3b3c5d424e99ffbd1ac6">Posterior</a> &amp;post, const <a class="el" href="classkaldi_1_1TransitionModel.html">TransitionModel</a> &amp;model, <a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; Real &gt; *mat)</td></tr>
<tr class="memdesc:a61bd48fe82a87145d57f1de090b187ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Posterior to <a class="el" href="classkaldi_1_1CuMatrix.html" title="This class represents a matrix that&#39;s stored on the GPU if we have one, and in memory if not...">CuMatrix</a>, while mapping to PDFs.  <a href="#a61bd48fe82a87145d57f1de090b187ab">More...</a><br/></td></tr>
<tr class="separator:a61bd48fe82a87145d57f1de090b187ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c1b5b346f9d158cf6c4a4319b88dd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet1.html#a00c1b5b346f9d158cf6c4a4319b88dd0">LatticeAcousticRescore</a> (const <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;log_like, const <a class="el" href="classkaldi_1_1TransitionModel.html">TransitionModel</a> &amp;trans_model, const std::vector&lt; <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> &gt; &amp;state_times, <a class="el" href="namespacekaldi.html#a4c9e4132556649881ca6f29dd13e2742">Lattice</a> *lat)</td></tr>
<tr class="separator:a00c1b5b346f9d158cf6c4a4319b88dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a16398eb7d132a1866bfbbee32338022b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classkaldi_1_1nnet1_1_1StdVectorRandomizer.html">StdVectorRandomizer</a>&lt;<a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&gt; <a class="el" href="namespacekaldi_1_1nnet1.html#a16398eb7d132a1866bfbbee32338022b">Int32VectorRandomizer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-randomizer_8h_source.html#l00177">177</a> of file <a class="el" href="nnet-randomizer_8h_source.html">nnet-randomizer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6d9265be359f089f328191cd213c57e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classkaldi_1_1nnet1_1_1StdVectorRandomizer.html">StdVectorRandomizer</a>&lt;std::vector&lt;std::pair&lt;<a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&gt; &gt; &gt; <a class="el" href="namespacekaldi_1_1nnet1.html#a6d9265be359f089f328191cd213c57e6">PosteriorRandomizer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-randomizer_8h_source.html#l00178">178</a> of file <a class="el" href="nnet-randomizer_8h_source.html">nnet-randomizer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a42a50d65a8afcd02aee53382bad03eae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::CheckNanInf </td>
          <td>(</td>
          <td class="paramtype">const CuMatrixBase&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that matrix contains no nan or inf. </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00130">130</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>

<p>References <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, <a class="el" href="kaldi-math_8h_source.html#l00073">KALDI_ISINF</a>, <a class="el" href="kaldi-math_8h_source.html#l00072">KALDI_ISNAN</a>, and <a class="el" href="cu-matrix_8cc_source.html#l02434">CuMatrixBase&lt; Real &gt;::Sum()</a>.</p>

<p>Referenced by <a class="el" href="nnet-rbm_8h_source.html#l00254">Rbm::RbmUpdate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                                                      {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  Real sum = mat.Sum();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="kaldi-math_8h.html#a413ed0dfd2a3120883355aa486da3742">KALDI_ISINF</a>(sum)) { <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;&#39;inf&#39; in &quot;</span> &lt;&lt; msg; }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="kaldi-math_8h.html#a784e8ae012c86a36a1f764b8ed829746">KALDI_ISNAN</a>(sum)) { <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;&#39;nan&#39; in &quot;</span> &lt;&lt; msg; }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="ttc" id="kaldi-math_8h_html_a413ed0dfd2a3120883355aa486da3742"><div class="ttname"><a href="kaldi-math_8h.html#a413ed0dfd2a3120883355aa486da3742">KALDI_ISINF</a></div><div class="ttdeci">#define KALDI_ISINF</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00073">kaldi-math.h:73</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="kaldi-math_8h_html_a784e8ae012c86a36a1f764b8ed829746"><div class="ttname"><a href="kaldi-math_8h.html#a784e8ae012c86a36a1f764b8ed829746">KALDI_ISNAN</a></div><div class="ttdeci">#define KALDI_ISNAN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00072">kaldi-math.h:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a406409bed66cb497779a7928fc59fc0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Real kaldi::nnet1::ComputeStdDev </td>
          <td>(</td>
          <td class="paramtype">const CuMatrixBase&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the standard deviation of values in the matrix. </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00140">140</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>

<p>References <a class="el" href="kaldi-error_8h_source.html#l00162">KALDI_WARN</a>, <a class="el" href="cu-matrix_8cc_source.html#l00637">CuMatrixBase&lt; Real &gt;::MulElements()</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>, and <a class="el" href="cu-matrix_8cc_source.html#l02434">CuMatrixBase&lt; Real &gt;::Sum()</a>.</p>

<p>Referenced by <a class="el" href="nnet-rbm_8h_source.html#l00254">Rbm::RbmUpdate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                                  {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> N = mat.NumRows() * mat.NumCols();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  Real mean = mat.Sum() / N;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  CuMatrix&lt;Real&gt; pow_2(mat);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  pow_2.MulElements(mat);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  Real var = pow_2.Sum() / N - mean * mean;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (var &lt; 0.0) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Forcing the variance to be non-negative! &quot;</span> &lt;&lt; var &lt;&lt; <span class="stringliteral">&quot;-&gt;0.0&quot;</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    var = 0.0;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">return</span> sqrt(var);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00162">kaldi-error.h:162</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7643fa731715a21ca427c207b35d975b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::CountCorrectFramesWeighted </td>
          <td>(</td>
          <td class="paramtype">const CuArray&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CuArray&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>v2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CuVectorBase&lt; BaseFloat &gt; &amp;&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>correct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function of <a class="el" href="classkaldi_1_1nnet1_1_1Xent.html#a4896a87d2350b5de43ccc68d3ffa4469" title="Evaluate cross entropy using target-matrix (supports soft labels),. ">Xent::Eval</a>, calculates number of matching elemente in 'v1', 'v2' weighted by 'weights'. </p>

<p>Definition at line <a class="el" href="nnet-loss_8cc_source.html#l00039">39</a> of file <a class="el" href="nnet-loss_8cc_source.html">nnet-loss.cc</a>.</p>

<p>References <a class="el" href="cu-vector_8cc_source.html#l00788">CuVectorBase&lt; Real &gt;::CopyToVec()</a>, <a class="el" href="cu-array-inl_8h_source.html#l00114">CuArray&lt; T &gt;::CopyToVec()</a>, <a class="el" href="cu-array_8h_source.html#l00062">CuArray&lt; T &gt;::Dim()</a>, <a class="el" href="cu-vector_8h_source.html#l00067">CuVectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, and <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>.</p>

<p>Referenced by <a class="el" href="nnet-loss_8cc_source.html#l00062">Xent::Eval()</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                                        {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(v1.Dim() == v2.Dim());</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(v1.Dim() == weights.<a class="code" href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">Dim</a>());</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> dim = v1.Dim();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// Get GPU data to host,</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  std::vector&lt;T&gt; v1_h(dim), v2_h(dim);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  v1.CopyToVec(&amp;v1_h);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  v2.CopyToVec(&amp;v2_h);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  Vector&lt;BaseFloat&gt; w(dim);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  weights.<a class="code" href="classkaldi_1_1CuVectorBase.html#a0b75ed3a4714a5ca46c09929a197d49b">CopyToVec</a>(&amp;w);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="comment">// Get correct frame count (weighted),</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordtype">double</span> corr = 0.0;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;dim; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   corr += w(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) * (v1_h[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] == v2_h[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] ? 1.0 : 0.0);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">// Return,</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  (*correct) = corr;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_a0b75ed3a4714a5ca46c09929a197d49b"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#a0b75ed3a4714a5ca46c09929a197d49b">kaldi::CuVectorBase::CopyToVec</a></div><div class="ttdeci">void CopyToVec(VectorBase&lt; OtherReal &gt; *dst) const </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8cc_source.html#l00788">cu-vector.cc:788</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_ac22929ffa93fd50a886e150013ed81fe"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#ac22929ffa93fd50a886e150013ed81fe">kaldi::CuVectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8h_source.html#l00067">cu-vector.h:67</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a00c1b5b346f9d158cf6c4a4319b88dd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LatticeAcousticRescore </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; BaseFloat &gt; &amp;&#160;</td>
          <td class="paramname"><em>log_like</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1TransitionModel.html">TransitionModel</a> &amp;&#160;</td>
          <td class="paramname"><em>trans_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int32 &gt; &amp;&#160;</td>
          <td class="paramname"><em>state_times</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#a4c9e4132556649881ca6f29dd13e2742">Lattice</a> *&#160;</td>
          <td class="paramname"><em>lat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-train-mmi-sequential_8cc_source.html#l00046">46</a> of file <a class="el" href="nnet-train-mmi-sequential_8cc_source.html">nnet-train-mmi-sequential.cc</a>.</p>

<p>References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00058">MatrixBase&lt; Real &gt;::NumRows()</a>, and <a class="el" href="transition-model_8h_source.html#l00312">TransitionModel::TransitionIdToPdf()</a>.</p>

<p>Referenced by <a class="el" href="nnet-train-mmi-sequential_8cc_source.html#l00086">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                          {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="namespacekaldi.html#abc0f5bc07737e498f287334775dff2b6">kaldi::uint64</a> props = lat-&gt;Properties(fst::kFstProperties, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">if</span> (!(props &amp; fst::kTopSorted))</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Input lattice must be topologically sorted.&quot;</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(!state_times.empty());</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  std::vector&lt;std::vector&lt;int32&gt; &gt; time_to_state(log_like.<a class="code" href="classkaldi_1_1MatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>());</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; state_times.size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(state_times[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= 0);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span> (state_times[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; log_like.<a class="code" href="classkaldi_1_1MatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>())  <span class="comment">// end state may be past this..</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      time_to_state[state_times[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>]].push_back(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(state_times[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] == log_like.<a class="code" href="classkaldi_1_1MatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>()</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                   &amp;&amp; <span class="stringliteral">&quot;There appears to be lattice/feature mismatch.&quot;</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> t = 0; t &lt; log_like.<a class="code" href="classkaldi_1_1MatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(); t++) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; time_to_state[t].size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> state = time_to_state[t][<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keywordflow">for</span> (fst::MutableArcIterator&lt;Lattice&gt; aiter(lat, state); !aiter.Done();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;           aiter.Next()) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="namespacekaldi.html#a417e37822095c5adb9680fa07dffea8d">LatticeArc</a> arc = aiter.Value();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> trans_id = arc.ilabel;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> (trans_id != 0) {  <span class="comment">// Non-epsilon input label on arc</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;          <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> pdf_id = trans_model.<a class="code" href="group__hmm__group.html#ga1fb8326e780cac6c317f7e8dd2bc14dc">TransitionIdToPdf</a>(trans_id);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;          arc.weight.SetValue2(-log_like(t, pdf_id) + arc.weight.Value2());</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;          aiter.SetValue(arc);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_a417e37822095c5adb9680fa07dffea8d"><div class="ttname"><a href="namespacekaldi.html#a417e37822095c5adb9680fa07dffea8d">kaldi::LatticeArc</a></div><div class="ttdeci">fst::ArcTpl&lt; LatticeWeight &gt; LatticeArc</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-lattice_8h_source.html#l00040">kaldi-lattice.h:40</a></div></div>
<div class="ttc" id="group__hmm__group_html_ga1fb8326e780cac6c317f7e8dd2bc14dc"><div class="ttname"><a href="group__hmm__group.html#ga1fb8326e780cac6c317f7e8dd2bc14dc">kaldi::TransitionModel::TransitionIdToPdf</a></div><div class="ttdeci">int32 TransitionIdToPdf(int32 trans_id) const </div><div class="ttdef"><b>Definition:</b> <a href="transition-model_8h_source.html#l00312">transition-model.h:312</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1MatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1MatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::MatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Returns number of rows (or zero for emtpy matrix). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8h_source.html#l00058">kaldi-matrix.h:58</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="namespacekaldi_html_abc0f5bc07737e498f287334775dff2b6"><div class="ttname"><a href="namespacekaldi.html#abc0f5bc07737e498f287334775dff2b6">kaldi::uint64</a></div><div class="ttdeci">uint64_t uint64</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00045">kaldi-types.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a52409ffa7f7c4a2bebcb5778f0813734"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string kaldi::nnet1::MomentStatistics </td>
          <td>(</td>
          <td class="paramtype">const VectorBase&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>vec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a string with statistics of the data in a vector, so we can print them easily. </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00061">61</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>

<p>References <a class="el" href="kaldi-vector_8cc_source.html#l00929">VectorBase&lt; Real &gt;::Add()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00059">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00566">VectorBase&lt; Real &gt;::Max()</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00606">VectorBase&lt; Real &gt;::Min()</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00941">VectorBase&lt; Real &gt;::MulElements()</a>, and <a class="el" href="kaldi-vector_8cc_source.html#l00680">VectorBase&lt; Real &gt;::Sum()</a>.</p>

<p>Referenced by <a class="el" href="nnet-linear-transform_8h_source.html#l00112">LinearTransform::Info()</a>, <a class="el" href="nnet-affine-transform_8h_source.html#l00132">AffineTransform::Info()</a>, <a class="el" href="nnet-tcn-projection_8h_source.html#l00177">TCNProjectionComponent::Info()</a>, <a class="el" href="nnet-tcn-3way_8h_source.html#l00214">TCNComponent::Info()</a>, <a class="el" href="nnet-lstm-projected-streams_8h_source.html#l00218">LstmProjectedStreams::Info()</a>, <a class="el" href="nnet-convolutional-component_8h_source.html#l00221">ConvolutionalComponent::Info()</a>, <a class="el" href="nnet-convolutional-2d-component_8h_source.html#l00239">Convolutional2DComponent::Info()</a>, <a class="el" href="nnet-blstm-projected-streams_8h_source.html#l00326">BLstmProjectedStreams::Info()</a>, <a class="el" href="nnet-various_8h_source.html#l00392">AddShift::Info()</a>, <a class="el" href="nnet-various_8h_source.html#l00499">Rescale::Info()</a>, <a class="el" href="nnet-nnet_8cc_source.html#l00685">Nnet::InfoBackPropagate()</a>, <a class="el" href="nnet-linear-transform_8h_source.html#l00115">LinearTransform::InfoGradient()</a>, <a class="el" href="nnet-affine-transform_8h_source.html#l00136">AffineTransform::InfoGradient()</a>, <a class="el" href="nnet-tcn-projection_8h_source.html#l00182">TCNProjectionComponent::InfoGradient()</a>, <a class="el" href="nnet-tcn-3way_8h_source.html#l00220">TCNComponent::InfoGradient()</a>, <a class="el" href="nnet-convolutional-component_8h_source.html#l00225">ConvolutionalComponent::InfoGradient()</a>, <a class="el" href="nnet-lstm-projected-streams_8h_source.html#l00229">LstmProjectedStreams::InfoGradient()</a>, <a class="el" href="nnet-convolutional-2d-component_8h_source.html#l00243">Convolutional2DComponent::InfoGradient()</a>, <a class="el" href="nnet-blstm-projected-streams_8h_source.html#l00347">BLstmProjectedStreams::InfoGradient()</a>, <a class="el" href="nnet-various_8h_source.html#l00396">AddShift::InfoGradient()</a>, <a class="el" href="nnet-various_8h_source.html#l00503">Rescale::InfoGradient()</a>, <a class="el" href="nnet-nnet_8cc_source.html#l00668">Nnet::InfoPropagate()</a>, and <a class="el" href="nnet-utils_8h_source.html#l00100">MomentStatistics()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                        {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// we use an auxiliary vector for the higher order powers</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  Vector&lt;Real&gt; vec_aux(vec);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  Vector&lt;Real&gt; vec_no_mean(vec); <span class="comment">// vec with mean subtracted</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// mean</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  Real mean = vec.Sum() / vec.Dim();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// variance</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  vec_aux.Add(-mean); vec_no_mean = vec_aux;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  vec_aux.MulElements(vec_no_mean); <span class="comment">// (vec-mean)^2</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  Real variance = vec_aux.Sum() / vec.Dim();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// skewness </span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// - negative : left tail is longer, </span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// - positive : right tail is longer, </span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// - zero : symmetric</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  vec_aux.MulElements(vec_no_mean); <span class="comment">// (vec-mean)^3</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  Real skewness = vec_aux.Sum() / pow(variance, 3.0/2.0) / vec.Dim();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// kurtosis (peakedness)</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// - makes sense for symmetric distributions (skewness is zero)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// - positive : &#39;sharper peak&#39; than Normal distribution</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// - negative : &#39;heavier tails&#39; than Normal distribution</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// - zero : same peakedness as the Normal distribution</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  vec_aux.MulElements(vec_no_mean); <span class="comment">// (vec-mean)^4</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  Real kurtosis = vec_aux.Sum() / (variance * variance) / vec.Dim() - 3.0;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// send the statistics to stream,</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  std::ostringstream ostr;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  ostr &lt;&lt; <span class="stringliteral">&quot; ( min &quot;</span> &lt;&lt; vec.Min() &lt;&lt; <span class="stringliteral">&quot;, max &quot;</span> &lt;&lt; vec.Max()</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;, mean &quot;</span> &lt;&lt; mean </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;, variance &quot;</span> &lt;&lt; variance </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;, stddev &quot;</span> &lt;&lt; sqrt(variance)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;, skewness &quot;</span> &lt;&lt; skewness</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;, kurtosis &quot;</span> &lt;&lt; kurtosis</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;       &lt;&lt; <span class="stringliteral">&quot; ) &quot;</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">return</span> ostr.str();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20c2cd798c7c772687e3c0c4cbaf770f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string kaldi::nnet1::MomentStatistics </td>
          <td>(</td>
          <td class="paramtype">const MatrixBase&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overload MomentStatistics to MatrixBase&lt;Real&gt; </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00100">100</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>

<p>References <a class="el" href="kaldi-vector_8cc_source.html#l00333">VectorBase&lt; Real &gt;::CopyRowsFromMat()</a>, <a class="el" href="nnet-utils_8h_source.html#l00061">MomentStatistics()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00061">MatrixBase&lt; Real &gt;::NumCols()</a>, and <a class="el" href="kaldi-matrix_8h_source.html#l00058">MatrixBase&lt; Real &gt;::NumRows()</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                                        {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  Vector&lt;Real&gt; vec(mat.NumRows()*mat.NumCols());</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  vec.CopyRowsFromMat(mat);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacekaldi_1_1nnet1.html#ae11b857ee60ed2aff529ebd164e5c6eb">MomentStatistics</a>(vec);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_ae11b857ee60ed2aff529ebd164e5c6eb"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#ae11b857ee60ed2aff529ebd164e5c6eb">kaldi::nnet1::MomentStatistics</a></div><div class="ttdeci">std::string MomentStatistics(const CuMatrixBase&lt; Real &gt; &amp;mat)</div><div class="ttdoc">Overload MomentStatistics to CuMatrix&lt;Real&gt; </div><div class="ttdef"><b>Definition:</b> <a href="nnet-utils_8h_source.html#l00120">nnet-utils.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac8340a7ea28a908745f0e0e4d1308d7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string kaldi::nnet1::MomentStatistics </td>
          <td>(</td>
          <td class="paramtype">const CuVectorBase&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>vec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overload MomentStatistics to CuVectorBase&lt;Real&gt; </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00110">110</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>

<p>References <a class="el" href="cu-vector_8cc_source.html#l00788">CuVectorBase&lt; Real &gt;::CopyToVec()</a>, <a class="el" href="cu-vector_8h_source.html#l00067">CuVectorBase&lt; Real &gt;::Dim()</a>, and <a class="el" href="nnet-utils_8h_source.html#l00061">MomentStatistics()</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                                          {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  Vector&lt;Real&gt; vec_host(vec.Dim());</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  vec.CopyToVec(&amp;vec_host);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacekaldi_1_1nnet1.html#ae11b857ee60ed2aff529ebd164e5c6eb">MomentStatistics</a>(vec_host);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_ae11b857ee60ed2aff529ebd164e5c6eb"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#ae11b857ee60ed2aff529ebd164e5c6eb">kaldi::nnet1::MomentStatistics</a></div><div class="ttdeci">std::string MomentStatistics(const CuMatrixBase&lt; Real &gt; &amp;mat)</div><div class="ttdoc">Overload MomentStatistics to CuMatrix&lt;Real&gt; </div><div class="ttdef"><b>Definition:</b> <a href="nnet-utils_8h_source.html#l00120">nnet-utils.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae11b857ee60ed2aff529ebd164e5c6eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string kaldi::nnet1::MomentStatistics </td>
          <td>(</td>
          <td class="paramtype">const CuMatrixBase&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overload MomentStatistics to CuMatrix&lt;Real&gt; </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00120">120</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>

<p>References <a class="el" href="cu-matrix_8cc_source.html#l00398">CuMatrixBase&lt; Real &gt;::CopyToMat()</a>, <a class="el" href="nnet-utils_8h_source.html#l00061">MomentStatistics()</a>, <a class="el" href="cu-matrix_8h_source.html#l00196">CuMatrixBase&lt; Real &gt;::NumCols()</a>, and <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                                          {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  Matrix&lt;Real&gt; mat_host(mat.NumRows(),mat.NumCols());</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  mat.CopyToMat(&amp;mat_host);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacekaldi_1_1nnet1.html#ae11b857ee60ed2aff529ebd164e5c6eb">MomentStatistics</a>(mat_host);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_ae11b857ee60ed2aff529ebd164e5c6eb"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#ae11b857ee60ed2aff529ebd164e5c6eb">kaldi::nnet1::MomentStatistics</a></div><div class="ttdeci">std::string MomentStatistics(const CuMatrixBase&lt; Real &gt; &amp;mat)</div><div class="ttdoc">Overload MomentStatistics to CuMatrix&lt;Real&gt; </div><div class="ttdef"><b>Definition:</b> <a href="nnet-utils_8h_source.html#l00120">nnet-utils.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a86f4a6c939d031e062f8cc42787f2241"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; kaldi::nnet1::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define stream insertion opeartor for 'std::vector', useful for log-prints,. </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00041">41</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                                              {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  std::copy(v.begin(), v.end(), std::ostream_iterator&lt;T&gt;(os,<span class="stringliteral">&quot; &quot;</span>));</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordflow">return</span> os;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abcea97a21c293225ede9f149bb9e454a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::PosteriorToMatrix </td>
          <td>(</td>
          <td class="paramtype">const Posterior &amp;&#160;</td>
          <td class="paramname"><em>post</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>num_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CuMatrix&lt; Real &gt; *&#160;</td>
          <td class="paramname"><em>mat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert Posterior to <a class="el" href="classkaldi_1_1CuMatrix.html" title="This class represents a matrix that&#39;s stored on the GPU if we have one, and in memory if not...">CuMatrix</a>, the Posterior outer-dim defines number of matrix-rows, number of matrix-colmuns is set by 'num_cols'. </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00159">159</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>

<p>References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, and <a class="el" href="matrix-common_8h_source.html#l00036">kaldi::kSetZero</a>.</p>

<p>Referenced by <a class="el" href="nnet-loss_8cc_source.html#l00147">Xent::Eval()</a>, <a class="el" href="nnet-loss_8cc_source.html#l00239">Mse::Eval()</a>, and <a class="el" href="nnet-loss_8cc_source.html#l00319">MultiTaskLoss::Eval()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                                                                   {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// Make a host-matrix,</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_rows = post.size();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  Matrix&lt;Real&gt; m(num_rows, num_cols, <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112">kSetZero</a>); <span class="comment">// zero-filled</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// Fill from Posterior,</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> t = 0; t &lt; post.size(); t++) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; post[t].size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> col = post[t][<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].first;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keywordflow">if</span> (col &gt;= num_cols) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Out-of-bound Posterior element with index &quot;</span> &lt;&lt; col </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;, higher than number of columns &quot;</span> &lt;&lt; num_cols;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      m(t, col) = post[t][<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].second;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// Copy to output GPU matrix,</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  (*mat) = m; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112">kaldi::kSetZero</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00036">matrix-common.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61bd48fe82a87145d57f1de090b187ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::PosteriorToMatrixMapped </td>
          <td>(</td>
          <td class="paramtype">const Posterior &amp;&#160;</td>
          <td class="paramname"><em>post</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TransitionModel &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CuMatrix&lt; Real &gt; *&#160;</td>
          <td class="paramname"><em>mat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert Posterior to <a class="el" href="classkaldi_1_1CuMatrix.html" title="This class represents a matrix that&#39;s stored on the GPU if we have one, and in memory if not...">CuMatrix</a>, while mapping to PDFs. </p>
<p>The Posterior outer-dim defines number of matrix-rows, number of matrix-colmuns is set by '<a class="el" href="classkaldi_1_1TransitionModel.html#a180f61fc479820bd993a879bb8c71341">TransitionModel::NumPdfs</a>'. </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00184">184</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>

<p>References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>, <a class="el" href="matrix-common_8h_source.html#l00036">kaldi::kSetZero</a>, <a class="el" href="transition-model_8h_source.html#l00181">TransitionModel::NumPdfs()</a>, and <a class="el" href="transition-model_8h_source.html#l00312">TransitionModel::TransitionIdToPdf()</a>.</p>

<p>Referenced by <a class="el" href="nnet-train-mpe-sequential_8cc_source.html#l00084">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                                                                       {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// Make a host-matrix,</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_rows = post.size(),</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        num_cols = model.NumPdfs();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  Matrix&lt;Real&gt; m(num_rows, num_cols, <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112">kSetZero</a>); <span class="comment">// zero-filled</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// Fill from Posterior,</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> t = 0; t &lt; post.size(); t++) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; post[t].size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> col = model.TransitionIdToPdf(post[t][<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].first);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">if</span> (col &gt;= num_cols) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Out-of-bound Posterior element with index &quot;</span> &lt;&lt; col </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;, higher than number of columns &quot;</span> &lt;&lt; num_cols;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      m(t, col) += post[t][<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].second; <span class="comment">// sum,</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// Copy to output GPU matrix,</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  (*mat) = m; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80bae9d0df3a51f0394dd8e041960265c112">kaldi::kSetZero</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00036">matrix-common.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2e553e0c26ad5fde7fef7d48ed5110c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkaldi_1_1nnet1_1_1Component.html">Component</a>* kaldi::nnet1::ReadComponentFromString </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00046">46</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="nnet-component_8cc_source.html#l00229">Component::Read()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00311">UnitTestConvolutional2DComponent()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00129">UnitTestConvolutionalComponent3x3()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00099">UnitTestConvolutionalComponentUnity()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00055">UnitTestLengthNorm()</a>, and <a class="el" href="nnet-component-test_8cc_source.html#l00073">UnitTestSimpleSentenceAveragingComponent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                                         {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    std::istringstream is(s + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">return</span> Component::Read(is, <span class="keyword">false</span>); <span class="comment">// false for ascii</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ef4f68255ad8358483efbaa40699291"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::ReadCuMatrixFromString </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; Real &gt; *&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00041">41</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="cu-matrix_8cc_source.html#l00444">CuMatrix&lt; Real &gt;::Read()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00273">UnitTestAveragePooling2DComponent()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00311">UnitTestConvolutional2DComponent()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00129">UnitTestConvolutionalComponent3x3()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00099">UnitTestConvolutionalComponentUnity()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00055">UnitTestLengthNorm()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00236">UnitTestMaxPooling2DComponent()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00171">UnitTestMaxPoolingComponent()</a>, and <a class="el" href="nnet-component-test_8cc_source.html#l00073">UnitTestSimpleSentenceAveragingComponent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                                                     {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    std::istringstream is(s + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    m-&gt;<a class="code" href="classkaldi_1_1CuMatrix.html#a8e7d2790fc7e94fe9780ccc937de1270">Read</a>(is, <span class="keyword">false</span>); <span class="comment">// false for ascii</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html_a8e7d2790fc7e94fe9780ccc937de1270"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html#a8e7d2790fc7e94fe9780ccc937de1270">kaldi::CuMatrix::Read</a></div><div class="ttdeci">void Read(std::istream &amp;is, bool binary)</div><div class="ttdoc">I/O functions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00444">cu-matrix.cc:444</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7eb69139bf1620fc048e9e535671035f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string kaldi::nnet1::ToString </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert basic type to string (try not to overuse as ostringstream creation is slow) </p>

<p>Definition at line <a class="el" href="nnet-utils_8h_source.html#l00050">50</a> of file <a class="el" href="nnet-utils_8h_source.html">nnet-utils.h</a>.</p>

<p>Referenced by <a class="el" href="nnet-sentence-averaging-component_8h_source.html#l00074">SimpleSentenceAveragingComponent::Info()</a>, <a class="el" href="nnet-activation_8h_source.html#l00140">BlockSoftmax::Info()</a>, <a class="el" href="nnet-linear-transform_8h_source.html#l00115">LinearTransform::InfoGradient()</a>, <a class="el" href="nnet-affine-transform_8h_source.html#l00136">AffineTransform::InfoGradient()</a>, <a class="el" href="nnet-frame-pooling-component_8h_source.html#l00188">FramePoolingComponent::InfoGradient()</a>, <a class="el" href="nnet-tcn-3way_8h_source.html#l00220">TCNComponent::InfoGradient()</a>, <a class="el" href="nnet-convolutional-component_8h_source.html#l00225">ConvolutionalComponent::InfoGradient()</a>, <a class="el" href="nnet-convolutional-2d-component_8h_source.html#l00243">Convolutional2DComponent::InfoGradient()</a>, <a class="el" href="nnet-various_8h_source.html#l00396">AddShift::InfoGradient()</a>, <a class="el" href="nnet-various_8h_source.html#l00503">Rescale::InfoGradient()</a>, and <a class="el" href="paste-post_8cc_source.html#l00032">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                               { </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  std::ostringstream os; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  os &lt;&lt; t; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">return</span> os.str(); </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab23b9582e2a7ecfb4b70b3b00266e4cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::UnitTestAveragePooling2DComponent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00273">273</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="kaldi-math_8h_source.html#l00273">kaldi::AssertEqual()</a>, <a class="el" href="nnet-component_8h_source.html#l00235">Component::Backpropagate()</a>, <a class="el" href="nnet-component_8cc_source.html#l00208">Component::Init()</a>, <a class="el" href="kaldi-error_8h_source.html#l00164">KALDI_LOG</a>, <a class="el" href="nnet-component_8h_source.html#l00221">Component::Propagate()</a>, and <a class="el" href="nnet-component-test_8cc_source.html#l00041">ReadCuMatrixFromString()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00346">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                           { <span class="comment">/* Implemented by Harish Mallidi */</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// make average-pooling2d component</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="structkaldi_1_1nnet1_1_1Component.html">Component</a>* c = Component::Init(<span class="stringliteral">&quot;&lt;AveragePooling2DComponent&gt; &lt;InputDim&gt; 56 &lt;OutputDim&gt; 18 \</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="stringliteral">&lt;FmapXLen&gt; 4 &lt;FmapYLen&gt; 7 &lt;PoolXLen&gt; 2 &lt;PoolYLen&gt; 3 &lt;PoolXStep&gt; 1 &lt;PoolYStep&gt; 2&quot;</span>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// input matrix,</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 9 9 10 10 11 11 12 12 13 13 14 14 15 15 16 16 17 17 18 18 19 19 20 20 21 21 22 22 23 23 24 24 25 25 26 26 27 27 ]&quot;</span>, &amp;mat_in);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// expected output (max values in the patch)</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_ref;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 4.5 4.5 6.5 6.5 8.5 8.5 11.5 11.5 13.5 13.5 15.5 15.5 18.5 18.5 20.5 20.5 22.5 22.5 ]&quot;</span>, &amp;mat_out_ref);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// propagate,</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">Propagate</a>(mat_in, &amp;mat_out);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_out&quot;</span> &lt;&lt; mat_out &lt;&lt; <span class="stringliteral">&quot;mat_out_ref&quot;</span> &lt;&lt; mat_out_ref;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_out, mat_out_ref);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// locations of max values will be shown</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_diff(mat_out);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 ]&quot;</span>, &amp;mat_out_diff);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// expected backpropagated values,</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff_ref; <span class="comment">// hand-computed back-propagated values,</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[  0 0 0 0 0.0833333 0.0833333 0.166667 0.166667 0.25 0.25 0.333333 0.333333 0.333333 0.333333 0.25 0.25 0.25 0.25 0.333333 0.333333 0.416667 0.416667 0.5 0.5 0.583333 0.583333 0.583333 0.583333 0.75 0.75 0.75 0.75 0.833333 0.833333 0.916667 0.916667 1 1 1.08333 1.08333 1.08333 1.08333 1 1 1 1 1.08333 1.08333 1.16667 1.16667 1.25 1.25 1.33333 1.33333 1.33333 1.33333 ]&quot;</span>, &amp;mat_in_diff_ref);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// backpropagate,</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">Backpropagate</a>(mat_in, mat_out, mat_out_diff, &amp;mat_in_diff);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_in_diff &quot;</span> &lt;&lt; mat_in_diff &lt;&lt; <span class="stringliteral">&quot; mat_in_diff_ref &quot;</span> &lt;&lt; mat_in_diff_ref;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_in_diff, mat_in_diff_ref);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">delete</span> c;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  }</div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_a2923db03aecf226a39705a326ab2886e"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">kaldi::nnet1::Component::Backpropagate</a></div><div class="ttdeci">void Backpropagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, const CuMatrixBase&lt; BaseFloat &gt; &amp;out, const CuMatrixBase&lt; BaseFloat &gt; &amp;out_diff, CuMatrix&lt; BaseFloat &gt; *in_diff)</div><div class="ttdoc">Perform backward pass propagation, out_diff -&gt; in_diff &#39;&amp;in&#39; and &#39;&amp;out&#39; will sometimes be unused...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00235">nnet-component.h:235</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html">kaldi::CuMatrix&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_aaa5db876de71ec16a23afbf1fbd76b43"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">kaldi::nnet1::Component::Propagate</a></div><div class="ttdeci">void Propagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *out)</div><div class="ttdoc">Perform forward pass propagation Input-&gt;Output. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00221">nnet-component.h:221</a></div></div>
<div class="ttc" id="namespacekaldi_html_aeb6ba6085493e3f15358e49751342177"><div class="ttname"><a href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">kaldi::AssertEqual</a></div><div class="ttdeci">static void AssertEqual(float a, float b, float relative_tolerance=0.001)</div><div class="ttdoc">assert abs(a - b) &lt;= relative_tolerance * (abs(a)+abs(b)) </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00273">kaldi-math.h:273</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html">kaldi::nnet1::Component</a></div><div class="ttdoc">Abstract class, building block of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8cc_source.html#l00054">nnet-component.cc:54</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00164">kaldi-error.h:164</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a6ef4f68255ad8358483efbaa40699291"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">kaldi::nnet1::ReadCuMatrixFromString</a></div><div class="ttdeci">void ReadCuMatrixFromString(const std::string &amp;s, CuMatrix&lt; Real &gt; *m)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00041">nnet-component-test.cc:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a237d8dd66935ec58b5e4efad982d6c98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::UnitTestConvolutional2DComponent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00311">311</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="kaldi-math_8h_source.html#l00273">kaldi::AssertEqual()</a>, <a class="el" href="nnet-component_8h_source.html#l00235">Component::Backpropagate()</a>, <a class="el" href="kaldi-error_8h_source.html#l00164">KALDI_LOG</a>, <a class="el" href="nnet-component_8h_source.html#l00221">Component::Propagate()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00046">ReadComponentFromString()</a>, and <a class="el" href="nnet-component-test_8cc_source.html#l00041">ReadCuMatrixFromString()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00346">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                          { <span class="comment">/* Implemented by Harish Mallidi */</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// Convolutional2D component </span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="structkaldi_1_1nnet1_1_1Component.html">Component</a>* c = <a class="code" href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">ReadComponentFromString</a>(<span class="stringliteral">&quot;&lt;Convolutional2DComponent&gt; 18 56 \</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="stringliteral">&lt;LearnRateCoef&gt; 0 &lt;BiasLearnRateCoef&gt; 0 &lt;FmapXLen&gt; 4 &lt;FmapYLen&gt; 7 &lt;FiltXLen&gt; 2 &lt;FiltYLen&gt; 3 &lt;FiltXStep&gt; 1 &lt;FiltYStep&gt; 2 &lt;ConnectFmap&gt; 1 &lt;Filters&gt; [ 0 0 1 1 2 2 3 3 4 4 5 5 ; 0 0 1 1 2 2 3 3 4 4 5 5 ] &lt;Bias&gt; [ 0 0 ]&quot;</span>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// input matrix</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 9 9 10 10 11 11 12 12 13 13 14 14 15 15 16 16 17 17 18 18 19 19 20 20 21 21 22 22 23 23 24 24 25 25 26 26 27 27 ]&quot;</span>, &amp;mat_in);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_ref;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 206 206 266 266 326 326 416 416 476 476 536 536 626 626 686 686 746 746 ]&quot;</span>, &amp;mat_out_ref);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// propagate</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">Propagate</a>(mat_in,&amp;mat_out);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_out&quot;</span> &lt;&lt; mat_out &lt;&lt; <span class="stringliteral">&quot;mat_out&quot;</span> &lt;&lt; mat_out_ref;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_out, mat_out_ref);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// prepare mat_out_diff, mat_in_diff_ref,</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_diff;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 ]&quot;</span>, &amp;mat_out_diff);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff_ref;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0 0 0 0 0 2 2 2 2 4 4 8 8 0 0 3 3 4.5 4.5 8 8 9.5 9.5 13 13 20 20 9 9 18 18 19.5 19.5 23 23 24.5 24.5 28 28 41 41 36 36 48 48 51 51 56 56 59 59 64 64 80 80 ]&quot;</span>, &amp;mat_in_diff_ref);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// backpropagate</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">Backpropagate</a>(mat_in, mat_out, mat_out_diff, &amp;mat_in_diff);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_in_diff &quot;</span> &lt;&lt; mat_in_diff &lt;&lt; <span class="stringliteral">&quot; mat_in_diff_ref &quot;</span> &lt;&lt; mat_in_diff_ref;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_in_diff, mat_in_diff_ref);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">delete</span> c;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_a2923db03aecf226a39705a326ab2886e"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">kaldi::nnet1::Component::Backpropagate</a></div><div class="ttdeci">void Backpropagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, const CuMatrixBase&lt; BaseFloat &gt; &amp;out, const CuMatrixBase&lt; BaseFloat &gt; &amp;out_diff, CuMatrix&lt; BaseFloat &gt; *in_diff)</div><div class="ttdoc">Perform backward pass propagation, out_diff -&gt; in_diff &#39;&amp;in&#39; and &#39;&amp;out&#39; will sometimes be unused...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00235">nnet-component.h:235</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html">kaldi::CuMatrix&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a2e553e0c26ad5fde7fef7d48ed5110c1"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">kaldi::nnet1::ReadComponentFromString</a></div><div class="ttdeci">Component * ReadComponentFromString(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00046">nnet-component-test.cc:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_aaa5db876de71ec16a23afbf1fbd76b43"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">kaldi::nnet1::Component::Propagate</a></div><div class="ttdeci">void Propagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *out)</div><div class="ttdoc">Perform forward pass propagation Input-&gt;Output. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00221">nnet-component.h:221</a></div></div>
<div class="ttc" id="namespacekaldi_html_aeb6ba6085493e3f15358e49751342177"><div class="ttname"><a href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">kaldi::AssertEqual</a></div><div class="ttdeci">static void AssertEqual(float a, float b, float relative_tolerance=0.001)</div><div class="ttdoc">assert abs(a - b) &lt;= relative_tolerance * (abs(a)+abs(b)) </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00273">kaldi-math.h:273</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html">kaldi::nnet1::Component</a></div><div class="ttdoc">Abstract class, building block of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8cc_source.html#l00054">nnet-component.cc:54</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00164">kaldi-error.h:164</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a6ef4f68255ad8358483efbaa40699291"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">kaldi::nnet1::ReadCuMatrixFromString</a></div><div class="ttdeci">void ReadCuMatrixFromString(const std::string &amp;s, CuMatrix&lt; Real &gt; *m)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00041">nnet-component-test.cc:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7eadc8ee4e77ebcee5ace87f7f9d9b5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::UnitTestConvolutionalComponent3x3 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00129">129</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="kaldi-math_8h_source.html#l00273">kaldi::AssertEqual()</a>, <a class="el" href="nnet-component_8h_source.html#l00235">Component::Backpropagate()</a>, <a class="el" href="kaldi-error_8h_source.html#l00164">KALDI_LOG</a>, <a class="el" href="nnet-component_8h_source.html#l00221">Component::Propagate()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00046">ReadComponentFromString()</a>, and <a class="el" href="nnet-component-test_8cc_source.html#l00041">ReadCuMatrixFromString()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00346">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                           {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// make 3x3 convolutional component, design such weights and input so output is zero,</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="structkaldi_1_1nnet1_1_1Component.html">Component</a>* c = <a class="code" href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">ReadComponentFromString</a>(<span class="stringliteral">&quot;&lt;ConvolutionalComponent&gt; 9 15 \</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="stringliteral">      &lt;PatchDim&gt; 3 &lt;PatchStep&gt; 1 &lt;PatchStride&gt; 5 \</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="stringliteral">      &lt;LearnRateCoef&gt; 1.0 &lt;BiasLearnRateCoef&gt; 1.0 \</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="stringliteral">      &lt;MaxNorm&gt; 0 \</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="stringliteral">      &lt;Filters&gt; [ -1 -2 -7   0 0 0   1 2 7 ; \</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="stringliteral">                  -1  0  1  -3 0 3  -2 2 0 ; \</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="stringliteral">                  -4  0  0  -3 0 3   4 0 0 ] \</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="stringliteral">      &lt;Bias&gt; [ -20 -20 -20 ]&quot;</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    );</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// prepare input, reference output,</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 1 3 5 7 9  2 4 6 8 10  3 5 7 9 11 ]&quot;</span>, &amp;mat_in);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_ref;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0 0  0 0 0  0 0 0 ]&quot;</span>, &amp;mat_out_ref);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// propagate,</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">Propagate</a>(mat_in, &amp;mat_out);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_in&quot;</span> &lt;&lt; mat_in &lt;&lt; <span class="stringliteral">&quot;mat_out&quot;</span> &lt;&lt; mat_out;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_out, mat_out_ref);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// prepare mat_out_diff, mat_in_diff_ref,</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_diff;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 1 0 0  1 1 0  1 1 1 ]&quot;</span>, &amp;mat_out_diff);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff_ref; <span class="comment">// hand-computed back-propagated values,</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ -1 -4 -15 -8 -6   0 -3 -6 3 6   1 1 14 11 7 ]&quot;</span>, &amp;mat_in_diff_ref);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// backpropagate,</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">Backpropagate</a>(mat_in, mat_out, mat_out_diff, &amp;mat_in_diff);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_in_diff &quot;</span> &lt;&lt; mat_in_diff &lt;&lt; <span class="stringliteral">&quot; mat_in_diff_ref &quot;</span> &lt;&lt; mat_in_diff_ref;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_in_diff, mat_in_diff_ref);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// clean,</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">delete</span> c;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_a2923db03aecf226a39705a326ab2886e"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">kaldi::nnet1::Component::Backpropagate</a></div><div class="ttdeci">void Backpropagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, const CuMatrixBase&lt; BaseFloat &gt; &amp;out, const CuMatrixBase&lt; BaseFloat &gt; &amp;out_diff, CuMatrix&lt; BaseFloat &gt; *in_diff)</div><div class="ttdoc">Perform backward pass propagation, out_diff -&gt; in_diff &#39;&amp;in&#39; and &#39;&amp;out&#39; will sometimes be unused...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00235">nnet-component.h:235</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html">kaldi::CuMatrix&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a2e553e0c26ad5fde7fef7d48ed5110c1"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">kaldi::nnet1::ReadComponentFromString</a></div><div class="ttdeci">Component * ReadComponentFromString(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00046">nnet-component-test.cc:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_aaa5db876de71ec16a23afbf1fbd76b43"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">kaldi::nnet1::Component::Propagate</a></div><div class="ttdeci">void Propagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *out)</div><div class="ttdoc">Perform forward pass propagation Input-&gt;Output. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00221">nnet-component.h:221</a></div></div>
<div class="ttc" id="namespacekaldi_html_aeb6ba6085493e3f15358e49751342177"><div class="ttname"><a href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">kaldi::AssertEqual</a></div><div class="ttdeci">static void AssertEqual(float a, float b, float relative_tolerance=0.001)</div><div class="ttdoc">assert abs(a - b) &lt;= relative_tolerance * (abs(a)+abs(b)) </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00273">kaldi-math.h:273</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html">kaldi::nnet1::Component</a></div><div class="ttdoc">Abstract class, building block of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8cc_source.html#l00054">nnet-component.cc:54</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00164">kaldi-error.h:164</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a6ef4f68255ad8358483efbaa40699291"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">kaldi::nnet1::ReadCuMatrixFromString</a></div><div class="ttdeci">void ReadCuMatrixFromString(const std::string &amp;s, CuMatrix&lt; Real &gt; *m)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00041">nnet-component-test.cc:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad75205c73ff44b4cb018f774dfda2d73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::UnitTestConvolutionalComponentUnity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00099">99</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="kaldi-math_8h_source.html#l00273">kaldi::AssertEqual()</a>, <a class="el" href="nnet-component_8h_source.html#l00235">Component::Backpropagate()</a>, <a class="el" href="kaldi-error_8h_source.html#l00164">KALDI_LOG</a>, <a class="el" href="nnet-component_8h_source.html#l00221">Component::Propagate()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00046">ReadComponentFromString()</a>, and <a class="el" href="nnet-component-test_8cc_source.html#l00041">ReadCuMatrixFromString()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00346">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                             {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// make &#39;identity&#39; convolutional component,</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="structkaldi_1_1nnet1_1_1Component.html">Component</a>* c = <a class="code" href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">ReadComponentFromString</a>(<span class="stringliteral">&quot;&lt;ConvolutionalComponent&gt; 5 5 \</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="stringliteral">      &lt;PatchDim&gt; 1 &lt;PatchStep&gt; 1 &lt;PatchStride&gt; 5 \</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="stringliteral">      &lt;LearnRateCoef&gt; 1.0 &lt;BiasLearnRateCoef&gt; 1.0 \</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="stringliteral">      &lt;MaxNorm&gt; 0 \</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="stringliteral">      &lt;Filters&gt; [ 1 \</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="stringliteral">      ] &lt;Bias&gt; [ 0 ]&quot;</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    );</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// prepare input,</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 1 2 3 4 5 ] &quot;</span>, &amp;mat_in);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// propagate,</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">Propagate</a>(mat_in,&amp;mat_out);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_in&quot;</span> &lt;&lt; mat_in &lt;&lt; <span class="stringliteral">&quot;mat_out&quot;</span> &lt;&lt; mat_out;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_in,mat_out);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// backpropagate,</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_diff(mat_in), mat_in_diff;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">Backpropagate</a>(mat_in, mat_out, mat_out_diff, &amp;mat_in_diff);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_out_diff &quot;</span> &lt;&lt; mat_out_diff &lt;&lt; <span class="stringliteral">&quot; mat_in_diff &quot;</span> &lt;&lt; mat_in_diff;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_out_diff,mat_in_diff);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// clean,</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keyword">delete</span> c;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_a2923db03aecf226a39705a326ab2886e"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">kaldi::nnet1::Component::Backpropagate</a></div><div class="ttdeci">void Backpropagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, const CuMatrixBase&lt; BaseFloat &gt; &amp;out, const CuMatrixBase&lt; BaseFloat &gt; &amp;out_diff, CuMatrix&lt; BaseFloat &gt; *in_diff)</div><div class="ttdoc">Perform backward pass propagation, out_diff -&gt; in_diff &#39;&amp;in&#39; and &#39;&amp;out&#39; will sometimes be unused...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00235">nnet-component.h:235</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html">kaldi::CuMatrix&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a2e553e0c26ad5fde7fef7d48ed5110c1"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">kaldi::nnet1::ReadComponentFromString</a></div><div class="ttdeci">Component * ReadComponentFromString(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00046">nnet-component-test.cc:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_aaa5db876de71ec16a23afbf1fbd76b43"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">kaldi::nnet1::Component::Propagate</a></div><div class="ttdeci">void Propagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *out)</div><div class="ttdoc">Perform forward pass propagation Input-&gt;Output. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00221">nnet-component.h:221</a></div></div>
<div class="ttc" id="namespacekaldi_html_aeb6ba6085493e3f15358e49751342177"><div class="ttname"><a href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">kaldi::AssertEqual</a></div><div class="ttdeci">static void AssertEqual(float a, float b, float relative_tolerance=0.001)</div><div class="ttdoc">assert abs(a - b) &lt;= relative_tolerance * (abs(a)+abs(b)) </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00273">kaldi-math.h:273</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html">kaldi::nnet1::Component</a></div><div class="ttdoc">Abstract class, building block of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8cc_source.html#l00054">nnet-component.cc:54</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00164">kaldi-error.h:164</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a6ef4f68255ad8358483efbaa40699291"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">kaldi::nnet1::ReadCuMatrixFromString</a></div><div class="ttdeci">void ReadCuMatrixFromString(const std::string &amp;s, CuMatrix&lt; Real &gt; *m)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00041">nnet-component-test.cc:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4899f1f41590d4bea3458e0b3d2fb2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::UnitTestLengthNorm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00055">55</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="cu-vector_8cc_source.html#l01128">CuVectorBase&lt; Real &gt;::AddColSumMat()</a>, <a class="el" href="cu-vector_8cc_source.html#l00367">CuVectorBase&lt; Real &gt;::ApplyPow()</a>, <a class="el" href="kaldi-math_8h_source.html#l00273">kaldi::AssertEqual()</a>, <a class="el" href="cu-matrix_8cc_source.html#l00637">CuMatrixBase&lt; Real &gt;::MulElements()</a>, <a class="el" href="nnet-component_8h_source.html#l00221">Component::Propagate()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00046">ReadComponentFromString()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00041">ReadCuMatrixFromString()</a>, and <a class="el" href="cu-vector_8cc_source.html#l00973">CuVectorBase&lt; Real &gt;::Set()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00346">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                            {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// make L2-lenght normalization component,</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="structkaldi_1_1nnet1_1_1Component.html">Component</a>* c = <a class="code" href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">ReadComponentFromString</a>(<span class="stringliteral">&quot;&lt;LengthNormComponent&gt; 5 5&quot;</span>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// prepare input,</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 1 2 3 4 5 \n 2 3 5 6 8 ] &quot;</span>, &amp;mat_in);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// propagate,</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">Propagate</a>(mat_in,&amp;mat_out);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// check the lenght,</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    mat_out.<a class="code" href="classkaldi_1_1CuMatrixBase.html#a93f1ecf679bf0ab28200c1cec33bd1ba">MulElements</a>(mat_out); <span class="comment">// ^2,</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="classkaldi_1_1CuVector.html">CuVector&lt;BaseFloat&gt;</a> check_length_is_one(2);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    check_length_is_one.AddColSumMat(1.0, mat_out, 0.0); <span class="comment">// sum_of_cols(x^2),</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    check_length_is_one.ApplyPow(0.5); <span class="comment">// L2norm = sqrt(sum_of_cols(x^2)),</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="classkaldi_1_1CuVector.html">CuVector&lt;BaseFloat&gt;</a> ones(2); ones.Set(1.0);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(check_length_is_one, ones);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  }</div>
<div class="ttc" id="classkaldi_1_1CuVector_html"><div class="ttname"><a href="classkaldi_1_1CuVector.html">kaldi::CuVector&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html">kaldi::CuMatrix&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a2e553e0c26ad5fde7fef7d48ed5110c1"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">kaldi::nnet1::ReadComponentFromString</a></div><div class="ttdeci">Component * ReadComponentFromString(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00046">nnet-component-test.cc:46</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a93f1ecf679bf0ab28200c1cec33bd1ba"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a93f1ecf679bf0ab28200c1cec33bd1ba">kaldi::CuMatrixBase::MulElements</a></div><div class="ttdeci">void MulElements(const CuMatrixBase&lt; Real &gt; &amp;A)</div><div class="ttdoc">Multiply two matrices elementwise: C = C .* A. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8cc_source.html#l00637">cu-matrix.cc:637</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_aaa5db876de71ec16a23afbf1fbd76b43"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">kaldi::nnet1::Component::Propagate</a></div><div class="ttdeci">void Propagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *out)</div><div class="ttdoc">Perform forward pass propagation Input-&gt;Output. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00221">nnet-component.h:221</a></div></div>
<div class="ttc" id="namespacekaldi_html_aeb6ba6085493e3f15358e49751342177"><div class="ttname"><a href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">kaldi::AssertEqual</a></div><div class="ttdeci">static void AssertEqual(float a, float b, float relative_tolerance=0.001)</div><div class="ttdoc">assert abs(a - b) &lt;= relative_tolerance * (abs(a)+abs(b)) </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00273">kaldi-math.h:273</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html">kaldi::nnet1::Component</a></div><div class="ttdoc">Abstract class, building block of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8cc_source.html#l00054">nnet-component.cc:54</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a6ef4f68255ad8358483efbaa40699291"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">kaldi::nnet1::ReadCuMatrixFromString</a></div><div class="ttdeci">void ReadCuMatrixFromString(const std::string &amp;s, CuMatrix&lt; Real &gt; *m)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00041">nnet-component-test.cc:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae2138c171d2469d51120c8b10ea07e8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::UnitTestMaxPooling2DComponent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00236">236</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="kaldi-math_8h_source.html#l00273">kaldi::AssertEqual()</a>, <a class="el" href="nnet-component_8h_source.html#l00235">Component::Backpropagate()</a>, <a class="el" href="nnet-component_8cc_source.html#l00208">Component::Init()</a>, <a class="el" href="kaldi-error_8h_source.html#l00164">KALDI_LOG</a>, <a class="el" href="nnet-component_8h_source.html#l00221">Component::Propagate()</a>, and <a class="el" href="nnet-component-test_8cc_source.html#l00041">ReadCuMatrixFromString()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00346">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                       { <span class="comment">/* Implemented by Harish Mallidi */</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// make max-pooling2d component</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="structkaldi_1_1nnet1_1_1Component.html">Component</a>* c = Component::Init(<span class="stringliteral">&quot;&lt;MaxPooling2DComponent&gt; &lt;InputDim&gt; 56 &lt;OutputDim&gt; 18 \</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="stringliteral">&lt;FmapXLen&gt; 4 &lt;FmapYLen&gt; 7 &lt;PoolXLen&gt; 2 &lt;PoolYLen&gt; 3 &lt;PoolXStep&gt; 1 &lt;PoolYStep&gt; 2&quot;</span>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// input matrix,</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 9 9 10 10 11 11 12 12 13 13 14 14 15 15 16 16 17 17 18 18 19 19 20 20 21 21 22 22 23 23 24 24 25 25 26 26 27 27 ]&quot;</span>, &amp;mat_in);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// expected output (max values in the patch)</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_ref;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 9 9 11 11 13 13 16 16 18 18 20 20 23 23 25 25 27 27 ]&quot;</span>, &amp;mat_out_ref);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// propagate,</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">Propagate</a>(mat_in, &amp;mat_out);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_out&quot;</span> &lt;&lt; mat_out &lt;&lt; <span class="stringliteral">&quot;mat_out_ref&quot;</span> &lt;&lt; mat_out_ref;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_out, mat_out_ref);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// locations of max values will be shown</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_diff(mat_out);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 ]&quot;</span>, &amp;mat_out_diff);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">//expected backpropagated values,</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff_ref; <span class="comment">//hand-computed back-propagated values,</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0.25 0 0 1 1 0 0 0 0 0.75 0.75 0 0 1 1 0 0 2.5 2.5 0 0 0 0 3 3 0 0 3.5 3.5 0 0 8 8 ]&quot;</span>, &amp;mat_in_diff_ref);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// backpropagate,</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">Backpropagate</a>(mat_in, mat_out, mat_out_diff, &amp;mat_in_diff);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_in_diff &quot;</span> &lt;&lt; mat_in_diff &lt;&lt; <span class="stringliteral">&quot; mat_in_diff_ref &quot;</span> &lt;&lt; mat_in_diff_ref;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_in_diff, mat_in_diff_ref);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keyword">delete</span> c;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_a2923db03aecf226a39705a326ab2886e"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">kaldi::nnet1::Component::Backpropagate</a></div><div class="ttdeci">void Backpropagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, const CuMatrixBase&lt; BaseFloat &gt; &amp;out, const CuMatrixBase&lt; BaseFloat &gt; &amp;out_diff, CuMatrix&lt; BaseFloat &gt; *in_diff)</div><div class="ttdoc">Perform backward pass propagation, out_diff -&gt; in_diff &#39;&amp;in&#39; and &#39;&amp;out&#39; will sometimes be unused...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00235">nnet-component.h:235</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html">kaldi::CuMatrix&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_aaa5db876de71ec16a23afbf1fbd76b43"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">kaldi::nnet1::Component::Propagate</a></div><div class="ttdeci">void Propagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *out)</div><div class="ttdoc">Perform forward pass propagation Input-&gt;Output. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00221">nnet-component.h:221</a></div></div>
<div class="ttc" id="namespacekaldi_html_aeb6ba6085493e3f15358e49751342177"><div class="ttname"><a href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">kaldi::AssertEqual</a></div><div class="ttdeci">static void AssertEqual(float a, float b, float relative_tolerance=0.001)</div><div class="ttdoc">assert abs(a - b) &lt;= relative_tolerance * (abs(a)+abs(b)) </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00273">kaldi-math.h:273</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html">kaldi::nnet1::Component</a></div><div class="ttdoc">Abstract class, building block of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8cc_source.html#l00054">nnet-component.cc:54</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00164">kaldi-error.h:164</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a6ef4f68255ad8358483efbaa40699291"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">kaldi::nnet1::ReadCuMatrixFromString</a></div><div class="ttdeci">void ReadCuMatrixFromString(const std::string &amp;s, CuMatrix&lt; Real &gt; *m)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00041">nnet-component-test.cc:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a72a6f835cff5791aefaf8d6dfb64c6cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::UnitTestMaxPoolingComponent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00171">171</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="kaldi-math_8h_source.html#l00273">kaldi::AssertEqual()</a>, <a class="el" href="nnet-component_8h_source.html#l00235">Component::Backpropagate()</a>, <a class="el" href="nnet-component_8cc_source.html#l00208">Component::Init()</a>, <a class="el" href="kaldi-error_8h_source.html#l00164">KALDI_LOG</a>, <a class="el" href="nnet-component_8h_source.html#l00221">Component::Propagate()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00041">ReadCuMatrixFromString()</a>, and <a class="el" href="cu-matrix_8cc_source.html#l00480">CuMatrixBase&lt; Real &gt;::Set()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00346">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                     {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// make max-pooling component, assuming 4 conv. neurons, non-overlapping pool of size 3,</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="structkaldi_1_1nnet1_1_1Component.html">Component</a>* c = Component::Init(<span class="stringliteral">&quot;&lt;MaxPoolingComponent&gt; &lt;InputDim&gt; 24 &lt;OutputDim&gt; 8 \</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="stringliteral">                     &lt;PoolSize&gt; 3 &lt;PoolStep&gt; 3 &lt;PoolStride&gt; 4&quot;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// input matrix,</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 3 8 2 9 \</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="stringliteral">                              8 3 9 3 \</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="stringliteral">                              2 4 9 6 \</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="stringliteral">                              \</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="stringliteral">                              2 4 2 0 \</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="stringliteral">                              6 4 9 4 \</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="stringliteral">                              7 3 0 3;\</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="stringliteral">                              \</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="stringliteral">                              5 4 7 8 \</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="stringliteral">                              3 9 5 6 \</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="stringliteral">                              3 4 8 9 \</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="stringliteral">                              \</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="stringliteral">                              5 4 5 6 \</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="stringliteral">                              3 1 4 5 \</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="stringliteral">                              8 2 1 7 ]&quot;</span>, &amp;mat_in);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// expected output (max values in columns),</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_ref;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 8 8 9 9 \</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="stringliteral">                              7 4 9 4;\</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="stringliteral">                              5 9 8 9 \</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="stringliteral">                              8 4 5 7 ]&quot;</span>, &amp;mat_out_ref);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// propagate,</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">Propagate</a>(mat_in,&amp;mat_out);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_out&quot;</span> &lt;&lt; mat_out &lt;&lt; <span class="stringliteral">&quot;mat_out_ref&quot;</span> &lt;&lt; mat_out_ref;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_out, mat_out_ref);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// locations of max values will be shown,</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out_diff(mat_out);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    mat_out_diff.Set(1);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// expected backpropagated values,</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff_ref; <span class="comment">// hand-computed back-propagated values,</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 1 0 1 \</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="stringliteral">                              1 0 1 0 \</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="stringliteral">                              0 0 1 0 \</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="stringliteral">                              \</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="stringliteral">                              0 1 0 0 \</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="stringliteral">                              0 1 1 1 \</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="stringliteral">                              1 0 0 0;\</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="stringliteral">                              \</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="stringliteral">                              1 0 0 0 \</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="stringliteral">                              0 1 0 0 \</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="stringliteral">                              0 0 1 1 \</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="stringliteral">                              \</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="stringliteral">                              0 1 1 0 \</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="stringliteral">                              0 0 0 0 \</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="stringliteral">                              1 0 0 1 ]&quot;</span>, &amp;mat_in_diff_ref);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// backpropagate,</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in_diff;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">Backpropagate</a>(mat_in, mat_out, mat_out_diff, &amp;mat_in_diff);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;mat_in_diff &quot;</span> &lt;&lt; mat_in_diff &lt;&lt; <span class="stringliteral">&quot; mat_in_diff_ref &quot;</span> &lt;&lt; mat_in_diff_ref;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_in_diff, mat_in_diff_ref);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keyword">delete</span> c;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_a2923db03aecf226a39705a326ab2886e"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">kaldi::nnet1::Component::Backpropagate</a></div><div class="ttdeci">void Backpropagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, const CuMatrixBase&lt; BaseFloat &gt; &amp;out, const CuMatrixBase&lt; BaseFloat &gt; &amp;out_diff, CuMatrix&lt; BaseFloat &gt; *in_diff)</div><div class="ttdoc">Perform backward pass propagation, out_diff -&gt; in_diff &#39;&amp;in&#39; and &#39;&amp;out&#39; will sometimes be unused...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00235">nnet-component.h:235</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html">kaldi::CuMatrix&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_aaa5db876de71ec16a23afbf1fbd76b43"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">kaldi::nnet1::Component::Propagate</a></div><div class="ttdeci">void Propagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *out)</div><div class="ttdoc">Perform forward pass propagation Input-&gt;Output. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00221">nnet-component.h:221</a></div></div>
<div class="ttc" id="namespacekaldi_html_aeb6ba6085493e3f15358e49751342177"><div class="ttname"><a href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">kaldi::AssertEqual</a></div><div class="ttdeci">static void AssertEqual(float a, float b, float relative_tolerance=0.001)</div><div class="ttdoc">assert abs(a - b) &lt;= relative_tolerance * (abs(a)+abs(b)) </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00273">kaldi-math.h:273</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html">kaldi::nnet1::Component</a></div><div class="ttdoc">Abstract class, building block of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8cc_source.html#l00054">nnet-component.cc:54</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00164">kaldi-error.h:164</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a6ef4f68255ad8358483efbaa40699291"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">kaldi::nnet1::ReadCuMatrixFromString</a></div><div class="ttdeci">void ReadCuMatrixFromString(const std::string &amp;s, CuMatrix&lt; Real &gt; *m)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00041">nnet-component-test.cc:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7a45ebc694c25541b89a6f0588ec5a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kaldi::nnet1::UnitTestSimpleSentenceAveragingComponent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nnet-component-test_8cc_source.html#l00073">73</a> of file <a class="el" href="nnet-component-test_8cc_source.html">nnet-component-test.cc</a>.</p>

<p>References <a class="el" href="kaldi-math_8h_source.html#l00273">kaldi::AssertEqual()</a>, <a class="el" href="nnet-component_8h_source.html#l00235">Component::Backpropagate()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="cu-matrix_8h_source.html#l00195">CuMatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="nnet-component_8h_source.html#l00221">Component::Propagate()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00046">ReadComponentFromString()</a>, <a class="el" href="nnet-component-test_8cc_source.html#l00041">ReadCuMatrixFromString()</a>, <a class="el" href="cu-matrix_8h_source.html#l00497">CuMatrixBase&lt; Real &gt;::Row()</a>, and <a class="el" href="cu-vector_8cc_source.html#l00973">CuVectorBase&lt; Real &gt;::Set()</a>.</p>

<p>Referenced by <a class="el" href="nnet-component-test_8cc_source.html#l00346">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                                  {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// make SimpleSentenceAveraging component,</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="structkaldi_1_1nnet1_1_1Component.html">Component</a>* c = <a class="code" href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">ReadComponentFromString</a>(<span class="stringliteral">&quot;&lt;SimpleSentenceAveragingComponent&gt; 2 2 &lt;GradientBoost&gt; 10.0&quot;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// prepare input,</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_in;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">ReadCuMatrixFromString</a>(<span class="stringliteral">&quot;[ 0 0.5 \n 1 1 \n 2 1.5 ] &quot;</span>, &amp;mat_in);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// propagate,</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> mat_out;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">Propagate</a>(mat_in,&amp;mat_out);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// check the output,</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="classkaldi_1_1CuVector.html">CuVector&lt;BaseFloat&gt;</a> ones(2); ones.Set(1.0);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;mat_out.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(mat_out.<a class="code" href="classkaldi_1_1CuMatrixBase.html#a0d1d1dad8675b40db92926168f186573">Row</a>(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>), ones);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// backpropagate,</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="classkaldi_1_1CuMatrix.html">CuMatrix&lt;BaseFloat&gt;</a> dummy1(3,2), dummy2(3,2), diff_out(mat_in), diff_in;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    c-&gt;<a class="code" href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">Backpropagate</a>(dummy1, dummy2, diff_out, &amp;diff_in); <span class="comment">// output 1.0 boosted by 10.0,</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// check the output,</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classkaldi_1_1CuVector.html">CuVector&lt;BaseFloat&gt;</a> tens(2); tens.Set(10); </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;diff_in.<a class="code" href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">NumRows</a>(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <a class="code" href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">AssertEqual</a>(diff_in.<a class="code" href="classkaldi_1_1CuMatrixBase.html#a0d1d1dad8675b40db92926168f186573">Row</a>(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>), tens);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div>
<div class="ttc" id="classkaldi_1_1CuVector_html"><div class="ttname"><a href="classkaldi_1_1CuVector.html">kaldi::CuVector&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_a0d1d1dad8675b40db92926168f186573"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#a0d1d1dad8675b40db92926168f186573">kaldi::CuMatrixBase::Row</a></div><div class="ttdeci">const CuSubVector&lt; Real &gt; Row(MatrixIndexT i) const </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00497">cu-matrix.h:497</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_a2923db03aecf226a39705a326ab2886e"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#a2923db03aecf226a39705a326ab2886e">kaldi::nnet1::Component::Backpropagate</a></div><div class="ttdeci">void Backpropagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, const CuMatrixBase&lt; BaseFloat &gt; &amp;out, const CuMatrixBase&lt; BaseFloat &gt; &amp;out_diff, CuMatrix&lt; BaseFloat &gt; *in_diff)</div><div class="ttdoc">Perform backward pass propagation, out_diff -&gt; in_diff &#39;&amp;in&#39; and &#39;&amp;out&#39; will sometimes be unused...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00235">nnet-component.h:235</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrix_html"><div class="ttname"><a href="classkaldi_1_1CuMatrix.html">kaldi::CuMatrix&lt; BaseFloat &gt;</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a2e553e0c26ad5fde7fef7d48ed5110c1"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a2e553e0c26ad5fde7fef7d48ed5110c1">kaldi::nnet1::ReadComponentFromString</a></div><div class="ttdeci">Component * ReadComponentFromString(const std::string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00046">nnet-component-test.cc:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html_aaa5db876de71ec16a23afbf1fbd76b43"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html#aaa5db876de71ec16a23afbf1fbd76b43">kaldi::nnet1::Component::Propagate</a></div><div class="ttdeci">void Propagate(const CuMatrixBase&lt; BaseFloat &gt; &amp;in, CuMatrix&lt; BaseFloat &gt; *out)</div><div class="ttdoc">Perform forward pass propagation Input-&gt;Output. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8h_source.html#l00221">nnet-component.h:221</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="namespacekaldi_html_aeb6ba6085493e3f15358e49751342177"><div class="ttname"><a href="namespacekaldi.html#aeb6ba6085493e3f15358e49751342177">kaldi::AssertEqual</a></div><div class="ttdeci">static void AssertEqual(float a, float b, float relative_tolerance=0.001)</div><div class="ttdoc">assert abs(a - b) &lt;= relative_tolerance * (abs(a)+abs(b)) </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00273">kaldi-math.h:273</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet1_1_1Component_html"><div class="ttname"><a href="structkaldi_1_1nnet1_1_1Component.html">kaldi::nnet1::Component</a></div><div class="ttdoc">Abstract class, building block of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component_8cc_source.html#l00054">nnet-component.cc:54</a></div></div>
<div class="ttc" id="classkaldi_1_1CuMatrixBase_html_ab204078beff8151c95d1828544acf92c"><div class="ttname"><a href="classkaldi_1_1CuMatrixBase.html#ab204078beff8151c95d1828544acf92c">kaldi::CuMatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const </div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-matrix_8h_source.html#l00195">cu-matrix.h:195</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet1_html_a6ef4f68255ad8358483efbaa40699291"><div class="ttname"><a href="namespacekaldi_1_1nnet1.html#a6ef4f68255ad8358483efbaa40699291">kaldi::nnet1::ReadCuMatrixFromString</a></div><div class="ttdeci">void ReadCuMatrixFromString(const std::string &amp;s, CuMatrix&lt; Real &gt; *m)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-test_8cc_source.html#l00041">nnet-component-test.cc:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="namespacekaldi_1_1nnet1.html">nnet1</a></li>
    <li class="footer">Generated on Thu Apr 28 2016 15:42:45 for Kaldi by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
