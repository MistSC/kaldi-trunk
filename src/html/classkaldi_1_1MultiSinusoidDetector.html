<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: MultiSinusoidDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1MultiSinusoidDetector.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classkaldi_1_1MultiSinusoidDetector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MultiSinusoidDetector Class Reference<div class="ingroups"><a class="el" href="group__feat.html">FeatureExtraction</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for MultiSinusoidDetector:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1MultiSinusoidDetector__coll__graph.png" border="0" usemap="#MultiSinusoidDetector_coll__map" alt="Collaboration graph"/></div>
<map name="MultiSinusoidDetector_coll__map" id="MultiSinusoidDetector_coll__map">
<area shape="rect" id="node2" href="structkaldi_1_1MultiSinusoidDetectorConfig.html" title="This configuration class is for the frame&#45;by&#45;frame detection of cases where there are one or two sinu..." alt="" coords="360,520,563,547"/><area shape="rect" id="node5" href="classkaldi_1_1SinusoidDetector.html" title="SinusoidDetector" alt="" coords="1145,323,1277,349"/><area shape="rect" id="node7" href="classkaldi_1_1MatrixBase.html" title="MatrixBase\&lt; BaseFloat \&gt;" alt="" coords="368,369,555,396"/><area shape="rect" id="node9" href="classkaldi_1_1SplitRadixComplexFft.html" title="SplitRadixComplexFft\l\&lt; BaseFloat \&gt;" alt="" coords="383,253,539,294"/><area shape="rect" id="node13" href="classkaldi_1_1LinearResample.html" title="LinearResample is a special case of ArbitraryResample, where we want to resample a signal at linearly..." alt="" coords="1149,577,1272,604"/><area shape="rect" id="node18" href="classkaldi_1_1VectorBase.html" title="VectorBase\&lt; BaseFloat \&gt;" alt="" coords="367,717,555,744"/><area shape="rect" id="node6" href="classkaldi_1_1Matrix.html" title="Matrix\&lt; BaseFloat \&gt;" alt="" coords="775,307,929,333"/><area shape="rect" id="node8" href="classkaldi_1_1SplitRadixRealFft.html" title="SplitRadixRealFft\&lt;\l BaseFloat \&gt;" alt="" coords="783,226,921,267"/><area shape="rect" id="node17" href="classkaldi_1_1Vector.html" title="Vector\&lt; BaseFloat \&gt;" alt="" coords="774,739,930,765"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a056959f087c7c8e1fcaf7bbf2923e3f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a056959f087c7c8e1fcaf7bbf2923e3f0">MultiSinusoidDetector</a> (const <a class="el" href="structkaldi_1_1MultiSinusoidDetectorConfig.html">MultiSinusoidDetectorConfig</a> &amp;config, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> sampling_freq)</td></tr>
<tr class="separator:a056959f087c7c8e1fcaf7bbf2923e3f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291ea73f1fe25a9f39ba800ca3eb7fee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a291ea73f1fe25a9f39ba800ca3eb7fee">AcceptWaveform</a> (const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;waveform)</td></tr>
<tr class="memdesc:a291ea73f1fe25a9f39ba800ca3eb7fee"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is how the class acccepts its input.  <a href="#a291ea73f1fe25a9f39ba800ca3eb7fee">More...</a><br/></td></tr>
<tr class="separator:a291ea73f1fe25a9f39ba800ca3eb7fee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85632ab2b2a5c645db693a2f97fbff2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#ae85632ab2b2a5c645db693a2f97fbff2">WaveformFinished</a> ()</td></tr>
<tr class="memdesc:ae85632ab2b2a5c645db693a2f97fbff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The user calls this to announce to the class that the waveform has ended; this forces any pending data to be flushed.  <a href="#ae85632ab2b2a5c645db693a2f97fbff2">More...</a><br/></td></tr>
<tr class="separator:ae85632ab2b2a5c645db693a2f97fbff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372de693ad40b3f42839c8ec6ac845f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a372de693ad40b3f42839c8ec6ac845f4">Reset</a> ()</td></tr>
<tr class="memdesc:a372de693ad40b3f42839c8ec6ac845f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the state of the class so you can start processing another waveform.  <a href="#a372de693ad40b3f42839c8ec6ac845f4">More...</a><br/></td></tr>
<tr class="separator:a372de693ad40b3f42839c8ec6ac845f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b4368cb6169552fd9bd4beaf37b102"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a83b4368cb6169552fd9bd4beaf37b102">Done</a> () const </td></tr>
<tr class="memdesc:a83b4368cb6169552fd9bd4beaf37b102"><td class="mdescLeft">&#160;</td><td class="mdescRight">This returns true if the class currently has no more data ready to output.  <a href="#a83b4368cb6169552fd9bd4beaf37b102">More...</a><br/></td></tr>
<tr class="separator:a83b4368cb6169552fd9bd4beaf37b102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010c388ad0a32287e6122e979071975d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a010c388ad0a32287e6122e979071975d">GetNextFrame</a> (<a class="el" href="structkaldi_1_1MultiSinusoidDetectorOutput.html">MultiSinusoidDetectorOutput</a> *output)</td></tr>
<tr class="memdesc:a010c388ad0a32287e6122e979071975d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Outputs the next frame of output to "frame", which must be non-NULL.  <a href="#a010c388ad0a32287e6122e979071975d">More...</a><br/></td></tr>
<tr class="separator:a010c388ad0a32287e6122e979071975d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120c8aac573ce20073285632c097f998"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a120c8aac573ce20073285632c097f998">FrameShiftSecs</a> () const </td></tr>
<tr class="separator:a120c8aac573ce20073285632c097f998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef064bad5f1db539d008a052721dda73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#aef064bad5f1db539d008a052721dda73">SamplingFrequency</a> () const </td></tr>
<tr class="separator:aef064bad5f1db539d008a052721dda73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a823e45d3337a2f2b640b9ad53d4a4d0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a823e45d3337a2f2b640b9ad53d4a4d0a">GetNextFrameOfSignal</a> (<a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *frame)</td></tr>
<tr class="separator:a823e45d3337a2f2b640b9ad53d4a4d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc5282f75c7560a66e070f487d1b6b2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a1cc5282f75c7560a66e070f487d1b6b2">DetectedTwoFrequency</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> signal_energy, const <a class="el" href="structkaldi_1_1Sinusoid.html">Sinusoid</a> &amp;sinusoid1, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> energy1, const <a class="el" href="structkaldi_1_1Sinusoid.html">Sinusoid</a> &amp;sinusoid2, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> energy2, <a class="el" href="structkaldi_1_1MultiSinusoidDetectorOutput.html">MultiSinusoidDetectorOutput</a> *output)</td></tr>
<tr class="separator:a1cc5282f75c7560a66e070f487d1b6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ca568b65c33352d7ac0333ef86f1b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a96ca568b65c33352d7ac0333ef86f1b3">DetectedOneFrequency</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> signal_energy, const <a class="el" href="structkaldi_1_1Sinusoid.html">Sinusoid</a> &amp;sinusoid1, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> energy1, const <a class="el" href="structkaldi_1_1Sinusoid.html">Sinusoid</a> &amp;sinusoid2, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> energy2, <a class="el" href="structkaldi_1_1MultiSinusoidDetectorOutput.html">MultiSinusoidDetectorOutput</a> *output)</td></tr>
<tr class="separator:a96ca568b65c33352d7ac0333ef86f1b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a2f1387590e789e044310bf89782b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a15a2f1387590e789e044310bf89782b2">NumSubsampledSamplesReady</a> (<a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> max_samp) const </td></tr>
<tr class="separator:a15a2f1387590e789e044310bf89782b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4316320bff81487fcbcb079b7cc1e4ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structkaldi_1_1MultiSinusoidDetectorConfig.html">MultiSinusoidDetectorConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a></td></tr>
<tr class="separator:a4316320bff81487fcbcb079b7cc1e4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe14489b2d844beb923e75d72fe74d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#abbe14489b2d844beb923e75d72fe74d8">sample_freq_</a></td></tr>
<tr class="separator:abbe14489b2d844beb923e75d72fe74d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1dd34fc6ac77931e730f4821f1bcb18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">samples_per_frame_subsampled_</a></td></tr>
<tr class="separator:ae1dd34fc6ac77931e730f4821f1bcb18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90aa95e2069b38af8bdcb4c6223b9d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#ac90aa95e2069b38af8bdcb4c6223b9d3">samples_shift_subsampled_</a></td></tr>
<tr class="separator:ac90aa95e2069b38af8bdcb4c6223b9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac01d88b3820d3fcbba9f6184b4f7d3e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">waveform_finished_</a></td></tr>
<tr class="separator:ac01d88b3820d3fcbba9f6184b4f7d3e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba495685a2c6a6f4ff80d685b8615bf"><td class="memItemLeft" align="right" valign="top">std::deque&lt; <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a></td></tr>
<tr class="separator:aeba495685a2c6a6f4ff80d685b8615bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c3f3774ef0173112f12050b664d1d51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a></td></tr>
<tr class="separator:a4c3f3774ef0173112f12050b664d1d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a948c425900f5654bda15ac34c5930ea1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1LinearResample.html">LinearResample</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a948c425900f5654bda15ac34c5930ea1">resampler_</a></td></tr>
<tr class="separator:a948c425900f5654bda15ac34c5930ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b454e31ec9b6ace2f9b8fc1781c4193"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1SinusoidDetector.html">SinusoidDetector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a8b454e31ec9b6ace2f9b8fc1781c4193">detector_</a></td></tr>
<tr class="separator:a8b454e31ec9b6ace2f9b8fc1781c4193"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00336">336</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a056959f087c7c8e1fcaf7bbf2923e3f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html">MultiSinusoidDetector</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1MultiSinusoidDetectorConfig.html">MultiSinusoidDetectorConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>sampling_freq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00666">666</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="sinusoid-detection_8h_source.html#l00299">MultiSinusoidDetectorConfig::Check()</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        :</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>(config),</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#abbe14489b2d844beb923e75d72fe74d8">sample_freq_</a>(sampling_freq),</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">samples_per_frame_subsampled_</a>(0.001 * config.frame_length_ms *</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                  static_cast&lt;BaseFloat&gt;(config.subsample_freq)),</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ac90aa95e2069b38af8bdcb4c6223b9d3">samples_shift_subsampled_</a>(0.001 * config.frame_shift_ms *</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                              static_cast&lt;BaseFloat&gt;(config.subsample_freq)),</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">waveform_finished_</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a>(0),</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a948c425900f5654bda15ac34c5930ea1">resampler_</a>(sampling_freq, config.subsample_freq,</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;               config.subsample_filter_cutoff, config.subsample_filter_zeros),</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a8b454e31ec9b6ace2f9b8fc1781c4193">detector_</a>(config.subsample_freq, <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">samples_per_frame_subsampled_</a>) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  config.Check();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a8b454e31ec9b6ace2f9b8fc1781c4193"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a8b454e31ec9b6ace2f9b8fc1781c4193">kaldi::MultiSinusoidDetector::detector_</a></div><div class="ttdeci">SinusoidDetector detector_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00424">sinusoid-detection.h:424</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_abbe14489b2d844beb923e75d72fe74d8"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#abbe14489b2d844beb923e75d72fe74d8">kaldi::MultiSinusoidDetector::sample_freq_</a></div><div class="ttdeci">int32 sample_freq_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00397">sinusoid-detection.h:397</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_ae1dd34fc6ac77931e730f4821f1bcb18"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">kaldi::MultiSinusoidDetector::samples_per_frame_subsampled_</a></div><div class="ttdeci">int32 samples_per_frame_subsampled_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00398">sinusoid-detection.h:398</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_ac01d88b3820d3fcbba9f6184b4f7d3e0"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">kaldi::MultiSinusoidDetector::waveform_finished_</a></div><div class="ttdeci">bool waveform_finished_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00404">sinusoid-detection.h:404</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a4c3f3774ef0173112f12050b664d1d51"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">kaldi::MultiSinusoidDetector::samples_consumed_</a></div><div class="ttdeci">int32 samples_consumed_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00416">sinusoid-detection.h:416</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a4316320bff81487fcbcb079b7cc1e4ff"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">kaldi::MultiSinusoidDetector::config_</a></div><div class="ttdeci">MultiSinusoidDetectorConfig config_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00396">sinusoid-detection.h:396</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_ac90aa95e2069b38af8bdcb4c6223b9d3"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#ac90aa95e2069b38af8bdcb4c6223b9d3">kaldi::MultiSinusoidDetector::samples_shift_subsampled_</a></div><div class="ttdeci">int32 samples_shift_subsampled_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00400">sinusoid-detection.h:400</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a948c425900f5654bda15ac34c5930ea1"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a948c425900f5654bda15ac34c5930ea1">kaldi::MultiSinusoidDetector::resampler_</a></div><div class="ttdeci">LinearResample resampler_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00420">sinusoid-detection.h:420</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a291ea73f1fe25a9f39ba800ca3eb7fee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AcceptWaveform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>waveform</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is how the class acccepts its input. </p>
<p>You can put the waveform in piece by piece, if it's an online application. </p>

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00710">710</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="resample_8cc_source.html#l00152">LinearResample::Resample()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00420">MultiSinusoidDetector::resampler_</a>, and <a class="el" href="sinusoid-detection_8h_source.html#l00410">MultiSinusoidDetector::subsampled_signal_</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00913">kaldi::DetectSinusoids()</a>, and <a class="el" href="sinusoid-detection-test_8cc_source.html#l00384">kaldi::UnitTestToneDetection2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                                           {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.push_back(<span class="keyword">new</span> Vector&lt;BaseFloat&gt;());</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordtype">bool</span> flush = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a948c425900f5654bda15ac34c5930ea1">resampler_</a>.<a class="code" href="classkaldi_1_1LinearResample.html#aee7dcedf0f288da82a190e2301183322">Resample</a>(waveform, flush,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                      <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.back());</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.back()-&gt;Dim() == 0) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.back();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.pop_back();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1LinearResample_html_aee7dcedf0f288da82a190e2301183322"><div class="ttname"><a href="classkaldi_1_1LinearResample.html#aee7dcedf0f288da82a190e2301183322">kaldi::LinearResample::Resample</a></div><div class="ttdeci">void Resample(const VectorBase&lt; BaseFloat &gt; &amp;input, bool flush, Vector&lt; BaseFloat &gt; *output)</div><div class="ttdoc">This function does the resampling. </div><div class="ttdef"><b>Definition:</b> <a href="resample_8cc_source.html#l00152">resample.cc:152</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_aeba495685a2c6a6f4ff80d685b8615bf"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">kaldi::MultiSinusoidDetector::subsampled_signal_</a></div><div class="ttdeci">std::deque&lt; Vector&lt; BaseFloat &gt; * &gt; subsampled_signal_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00410">sinusoid-detection.h:410</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a948c425900f5654bda15ac34c5930ea1"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a948c425900f5654bda15ac34c5930ea1">kaldi::MultiSinusoidDetector::resampler_</a></div><div class="ttdeci">LinearResample resampler_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00420">sinusoid-detection.h:420</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a96ca568b65c33352d7ac0333ef86f1b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DetectedOneFrequency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>signal_energy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1Sinusoid.html">Sinusoid</a> &amp;&#160;</td>
          <td class="paramname"><em>sinusoid1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>energy1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1Sinusoid.html">Sinusoid</a> &amp;&#160;</td>
          <td class="paramname"><em>sinusoid2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>energy2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkaldi_1_1MultiSinusoidDetectorOutput.html">MultiSinusoidDetectorOutput</a> *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00880">880</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="sinusoid-detection_8h_source.html#l00396">MultiSinusoidDetector::config_</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00325">MultiSinusoidDetectorOutput::energy1</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00329">MultiSinusoidDetectorOutput::energy2</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00039">Sinusoid::freq</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00324">MultiSinusoidDetectorOutput::freq1</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00327">MultiSinusoidDetectorOutput::freq2</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00254">MultiSinusoidDetectorConfig::max_freq</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00252">MultiSinusoidDetectorConfig::min_freq</a>, and <a class="el" href="sinusoid-detection_8h_source.html#l00248">MultiSinusoidDetectorConfig::one_freq_min_energy</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00778">MultiSinusoidDetector::GetNextFrame()</a>.</p>
<div class="fragment"><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                         {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="comment">// If sinusoid detection were performing exactly to spec, we could assume</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="comment">// energy1 &gt;= energy2, but we don&#39;t assume this as it&#39;s not guaranteed.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordflow">if</span> (energy1 &gt; energy2 &amp;&amp; energy1 &gt; signal_energy *</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a60267bbba89abde5a5659a12983b7e5d">one_freq_min_energy</a> &amp;&amp;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      sinusoid1.freq &gt;= <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a1621f5087cbefca545880eb1213b92f5">min_freq</a> &amp;&amp;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      sinusoid1.freq &lt;= <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a390f95802fc35fadf2fa10e0ecb02360">max_freq</a>) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    output-&gt;freq1 = sinusoid1.freq;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    output-&gt;energy1 = energy1 / signal_energy;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    output-&gt;freq2 = 0.0;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    output-&gt;energy2 = 0.0;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (energy2 &gt; energy1 &amp;&amp; energy2 &gt; signal_energy *</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;             <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a60267bbba89abde5a5659a12983b7e5d">one_freq_min_energy</a> &amp;&amp;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;             sinusoid2.freq &gt;= <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a1621f5087cbefca545880eb1213b92f5">min_freq</a> &amp;&amp;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;             sinusoid2.freq &lt;= <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a390f95802fc35fadf2fa10e0ecb02360">max_freq</a>) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    output-&gt;freq1 = sinusoid2.freq;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    output-&gt;energy1 = energy2 / signal_energy;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    output-&gt;freq2 = 0.0;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    output-&gt;energy2 = 0.0;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;}</div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a1621f5087cbefca545880eb1213b92f5"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a1621f5087cbefca545880eb1213b92f5">kaldi::MultiSinusoidDetectorConfig::min_freq</a></div><div class="ttdeci">BaseFloat min_freq</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00252">sinusoid-detection.h:252</a></div></div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a390f95802fc35fadf2fa10e0ecb02360"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a390f95802fc35fadf2fa10e0ecb02360">kaldi::MultiSinusoidDetectorConfig::max_freq</a></div><div class="ttdeci">BaseFloat max_freq</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00254">sinusoid-detection.h:254</a></div></div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a60267bbba89abde5a5659a12983b7e5d"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a60267bbba89abde5a5659a12983b7e5d">kaldi::MultiSinusoidDetectorConfig::one_freq_min_energy</a></div><div class="ttdeci">BaseFloat one_freq_min_energy</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00248">sinusoid-detection.h:248</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a4316320bff81487fcbcb079b7cc1e4ff"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">kaldi::MultiSinusoidDetector::config_</a></div><div class="ttdeci">MultiSinusoidDetectorConfig config_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00396">sinusoid-detection.h:396</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1cc5282f75c7560a66e070f487d1b6b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DetectedTwoFrequency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>signal_energy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1Sinusoid.html">Sinusoid</a> &amp;&#160;</td>
          <td class="paramname"><em>sinusoid1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>energy1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1Sinusoid.html">Sinusoid</a> &amp;&#160;</td>
          <td class="paramname"><em>sinusoid2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>energy2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkaldi_1_1MultiSinusoidDetectorOutput.html">MultiSinusoidDetectorOutput</a> *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00850">850</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="sinusoid-detection_8h_source.html#l00396">MultiSinusoidDetector::config_</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00325">MultiSinusoidDetectorOutput::energy1</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00329">MultiSinusoidDetectorOutput::energy2</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00039">Sinusoid::freq</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00324">MultiSinusoidDetectorOutput::freq1</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00327">MultiSinusoidDetectorOutput::freq2</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00254">MultiSinusoidDetectorConfig::max_freq</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00252">MultiSinusoidDetectorConfig::min_freq</a>, <a class="el" href="basic-filebuf_8h_source.html#l00275">kaldi::swap()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00238">MultiSinusoidDetectorConfig::two_freq_min_energy</a>, and <a class="el" href="sinusoid-detection_8h_source.html#l00242">MultiSinusoidDetectorConfig::two_freq_min_total_energy</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00778">MultiSinusoidDetector::GetNextFrame()</a>.</p>
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                         {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">if</span> (energy1 + energy2 &gt;= signal_energy *</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a113eccd98d49a845e28faefadce55c33">two_freq_min_total_energy</a> &amp;&amp;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      std::min(energy1, energy2) &gt;= signal_energy *</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a1f6a792a08d2528d4d6e56094b790a33">two_freq_min_energy</a> &amp;&amp;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      std::min(sinusoid1.freq, sinusoid2.freq) &gt;= <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a1621f5087cbefca545880eb1213b92f5">min_freq</a> &amp;&amp;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      std::max(sinusoid1.freq, sinusoid2.freq) &lt;= <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a390f95802fc35fadf2fa10e0ecb02360">max_freq</a>) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    output-&gt;freq1 = sinusoid1.freq;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    output-&gt;energy1 = energy1 / signal_energy;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    output-&gt;freq2 = sinusoid2.freq;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    output-&gt;energy2 = energy2 / signal_energy;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">if</span> (output-&gt;freq1 &gt; output-&gt;freq2) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <a class="code" href="namespacekaldi.html#aa3e99328db564bc2bf6397fa1eaee4d7">std::swap</a>(output-&gt;freq1, output-&gt;freq2);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="namespacekaldi.html#aa3e99328db564bc2bf6397fa1eaee4d7">std::swap</a>(output-&gt;energy1, output-&gt;energy2);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a1621f5087cbefca545880eb1213b92f5"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a1621f5087cbefca545880eb1213b92f5">kaldi::MultiSinusoidDetectorConfig::min_freq</a></div><div class="ttdeci">BaseFloat min_freq</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00252">sinusoid-detection.h:252</a></div></div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a1f6a792a08d2528d4d6e56094b790a33"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a1f6a792a08d2528d4d6e56094b790a33">kaldi::MultiSinusoidDetectorConfig::two_freq_min_energy</a></div><div class="ttdeci">BaseFloat two_freq_min_energy</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00238">sinusoid-detection.h:238</a></div></div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a390f95802fc35fadf2fa10e0ecb02360"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a390f95802fc35fadf2fa10e0ecb02360">kaldi::MultiSinusoidDetectorConfig::max_freq</a></div><div class="ttdeci">BaseFloat max_freq</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00254">sinusoid-detection.h:254</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa3e99328db564bc2bf6397fa1eaee4d7"><div class="ttname"><a href="namespacekaldi.html#aa3e99328db564bc2bf6397fa1eaee4d7">kaldi::swap</a></div><div class="ttdeci">void swap(basic_filebuf&lt; CharT, Traits &gt; &amp;x, basic_filebuf&lt; CharT, Traits &gt; &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="basic-filebuf_8h_source.html#l00275">basic-filebuf.h:275</a></div></div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a113eccd98d49a845e28faefadce55c33"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a113eccd98d49a845e28faefadce55c33">kaldi::MultiSinusoidDetectorConfig::two_freq_min_total_energy</a></div><div class="ttdeci">BaseFloat two_freq_min_total_energy</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00242">sinusoid-detection.h:242</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a4316320bff81487fcbcb079b7cc1e4ff"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">kaldi::MultiSinusoidDetector::config_</a></div><div class="ttdeci">MultiSinusoidDetectorConfig config_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00396">sinusoid-detection.h:396</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a83b4368cb6169552fd9bd4beaf37b102"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Done </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This returns true if the class currently has no more data ready to output. </p>

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00739">739</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="sinusoid-detection_8cc_source.html#l00724">MultiSinusoidDetector::NumSubsampledSamplesReady()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00398">MultiSinusoidDetector::samples_per_frame_subsampled_</a>, and <a class="el" href="sinusoid-detection_8h_source.html#l00404">MultiSinusoidDetector::waveform_finished_</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00913">kaldi::DetectSinusoids()</a>, and <a class="el" href="sinusoid-detection-test_8cc_source.html#l00384">kaldi::UnitTestToneDetection2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                                       {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> samp_ready = <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a15a2f1387590e789e044310bf89782b2">NumSubsampledSamplesReady</a>(<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">samples_per_frame_subsampled_</a>);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">if</span> ((samp_ready &gt;= <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">samples_per_frame_subsampled_</a> &amp;&amp; !<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">waveform_finished_</a>) ||</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      (samp_ready &gt; 0 &amp;&amp; <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">waveform_finished_</a>))</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a15a2f1387590e789e044310bf89782b2"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a15a2f1387590e789e044310bf89782b2">kaldi::MultiSinusoidDetector::NumSubsampledSamplesReady</a></div><div class="ttdeci">int32 NumSubsampledSamplesReady(int32 max_samp) const </div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8cc_source.html#l00724">sinusoid-detection.cc:724</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_ae1dd34fc6ac77931e730f4821f1bcb18"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">kaldi::MultiSinusoidDetector::samples_per_frame_subsampled_</a></div><div class="ttdeci">int32 samples_per_frame_subsampled_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00398">sinusoid-detection.h:398</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_ac01d88b3820d3fcbba9f6184b4f7d3e0"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">kaldi::MultiSinusoidDetector::waveform_finished_</a></div><div class="ttdeci">bool waveform_finished_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00404">sinusoid-detection.h:404</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a120c8aac573ce20073285632c097f998"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> FrameShiftSecs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00362">362</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>References <a class="el" href="sinusoid-detection_8h_source.html#l00396">MultiSinusoidDetector::config_</a>, and <a class="el" href="sinusoid-detection_8h_source.html#l00233">MultiSinusoidDetectorConfig::frame_shift_ms</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00913">kaldi::DetectSinusoids()</a>.</p>
<div class="fragment"><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{ <span class="keywordflow">return</span> 0.001 * <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a9e286e640aca45ae4b56f769284886b7">frame_shift_ms</a>; }</div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a9e286e640aca45ae4b56f769284886b7"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a9e286e640aca45ae4b56f769284886b7">kaldi::MultiSinusoidDetectorConfig::frame_shift_ms</a></div><div class="ttdeci">BaseFloat frame_shift_ms</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00233">sinusoid-detection.h:233</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a4316320bff81487fcbcb079b7cc1e4ff"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">kaldi::MultiSinusoidDetector::config_</a></div><div class="ttdeci">MultiSinusoidDetectorConfig config_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00396">sinusoid-detection.h:396</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a010c388ad0a32287e6122e979071975d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetNextFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkaldi_1_1MultiSinusoidDetectorOutput.html">MultiSinusoidDetectorOutput</a> *&#160;</td>
          <td class="paramname"><em>output</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Outputs the next frame of output to "frame", which must be non-NULL. </p>
<p>It is an error to call this if <a class="el" href="classkaldi_1_1MultiSinusoidDetector.html#a83b4368cb6169552fd9bd4beaf37b102" title="This returns true if the class currently has no more data ready to output. ">Done()</a> has returned true, or has not been checked. </p>

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00778">778</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="kaldi-vector_8cc_source.html#l00929">VectorBase&lt; Real &gt;::Add()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00031">kaldi::AddSinusoid()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00396">MultiSinusoidDetector::config_</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00880">MultiSinusoidDetector::DetectedOneFrequency()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00850">MultiSinusoidDetector::DetectedTwoFrequency()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00424">MultiSinusoidDetector::detector_</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00282">SinusoidDetector::DetectSinusoid()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00059">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00748">MultiSinusoidDetector::GetNextFrameOfSignal()</a>, <a class="el" href="kaldi-error_8h_source.html#l00166">KALDI_VLOG</a>, <a class="el" href="kaldi-math_8h_source.html#l00044">M_PI</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00248">MultiSinusoidDetectorConfig::one_freq_min_energy</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00040">Sinusoid::phase</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00258">MultiSinusoidDetectorConfig::subsample_freq</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00680">VectorBase&lt; Real &gt;::Sum()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00321">MultiSinusoidDetectorOutput::tot_energy</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00238">MultiSinusoidDetectorConfig::two_freq_min_energy</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00242">MultiSinusoidDetectorConfig::two_freq_min_total_energy</a>, and <a class="el" href="kaldi-vector_8cc_source.html#l00036">kaldi::VecVec()</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00913">kaldi::DetectSinusoids()</a>, and <a class="el" href="sinusoid-detection-test_8cc_source.html#l00384">kaldi::UnitTestToneDetection2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                                                            {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  Vector&lt;BaseFloat&gt; frame;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a823e45d3337a2f2b640b9ad53d4a4d0a">GetNextFrameOfSignal</a>(&amp;frame);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// Mean subtraction</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  frame.Add(-1.0 * frame.Sum() / frame.Dim());</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  *output = MultiSinusoidDetectorOutput();  <span class="comment">// reset to default.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> signal_energy = <a class="code" href="group__matrix__funcs__scalar.html#ga4750cd6f7a02a013435779588056b153">VecVec</a>(frame, frame);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  output-&gt;tot_energy = signal_energy / frame.Dim();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">if</span> (signal_energy == 0.0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// min_energy1 is the lowest energy we might care about.</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> min_energy1 = signal_energy * </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      std::min&lt;BaseFloat&gt;(<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a113eccd98d49a845e28faefadce55c33">two_freq_min_total_energy</a> * 0.5,</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                          <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a60267bbba89abde5a5659a12983b7e5d">one_freq_min_energy</a>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  Sinusoid sinusoid1;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> energy1 = <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a8b454e31ec9b6ace2f9b8fc1781c4193">detector_</a>.<a class="code" href="classkaldi_1_1SinusoidDetector.html#ae962fdde03ffe245ab518055c11637b1">DetectSinusoid</a>(min_energy1,</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                                                      frame,</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                                                      &amp;sinusoid1);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="keywordflow">if</span> (energy1 == 0.0) <span class="keywordflow">return</span>;  <span class="comment">// Nothing detected.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="comment">// we only care about the 2nd sinusoid if</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="comment">// energy1 + energy2 &gt;= signal_energy * two_freq_min_total_energy,</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="comment">// and energy2 &gt;= signal_energy * config.two_freq_min_energy.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> min_energy2 =</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      std::max(signal_energy * <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a1f6a792a08d2528d4d6e56094b790a33">two_freq_min_energy</a>,</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;               signal_energy * <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a113eccd98d49a845e28faefadce55c33">two_freq_min_total_energy</a></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;               - energy1);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> energy2;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  Sinusoid sinusoid2;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">// If there is enough energy left in the signal that we could</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="comment">// possibly detect a sinusoid of energy at least min_energy2...</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="keywordflow">if</span> (min_energy2 &lt;= signal_energy - energy1) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    sinusoid1.phase += <a class="code" href="kaldi-math_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;  <span class="comment">// reverse the phase.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <a class="code" href="group__feat.html#ga5fce515ce48395a054ca3ee677c98c6f">AddSinusoid</a>(<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">config_</a>.<a class="code" href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a46ad692e9385b7c6452c3e9ba5fb2aa3">subsample_freq</a>, sinusoid1, &amp;frame);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    energy2 = <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a8b454e31ec9b6ace2f9b8fc1781c4193">detector_</a>.<a class="code" href="classkaldi_1_1SinusoidDetector.html#ae962fdde03ffe245ab518055c11637b1">DetectSinusoid</a>(min_energy2,</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                                              frame,</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                                              &amp;sinusoid2);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordflow">if</span> (energy2 &gt; energy1) {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="comment">// The following is just for our information, so we are aware</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="comment">// when the sinusoid detection gives us the non-optimal sinusoid</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="comment">// first.</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> factor = energy2 / energy1;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <a class="code" href="group__error__group.html#ga16c81ec6ff3ba04c6ff96fdaed9d854e">KALDI_VLOG</a>(2) &lt;&lt; <span class="stringliteral">&quot;Second sinusoid greater than first by a factor of &quot;</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                    &lt;&lt; factor &lt;&lt; <span class="stringliteral">&quot;.  (This means sinusoid detection is not &quot;</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; working ideally).&quot;</span>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a1cc5282f75c7560a66e070f487d1b6b2">DetectedTwoFrequency</a>(signal_energy,</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                             sinusoid1, energy1,</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                             sinusoid2, energy2,</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                             output))</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    energy2 = 0.0;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// We don&#39;t need the return status of the following; we just return anyway.</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a96ca568b65c33352d7ac0333ef86f1b3">DetectedOneFrequency</a>(signal_energy,</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                       sinusoid1, energy1,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                       sinusoid2, energy2,</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                       output);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}</div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a1f6a792a08d2528d4d6e56094b790a33"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a1f6a792a08d2528d4d6e56094b790a33">kaldi::MultiSinusoidDetectorConfig::two_freq_min_energy</a></div><div class="ttdeci">BaseFloat two_freq_min_energy</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00238">sinusoid-detection.h:238</a></div></div>
<div class="ttc" id="kaldi-math_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="kaldi-math_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00044">kaldi-math.h:44</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a8b454e31ec9b6ace2f9b8fc1781c4193"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a8b454e31ec9b6ace2f9b8fc1781c4193">kaldi::MultiSinusoidDetector::detector_</a></div><div class="ttdeci">SinusoidDetector detector_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00424">sinusoid-detection.h:424</a></div></div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a60267bbba89abde5a5659a12983b7e5d"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a60267bbba89abde5a5659a12983b7e5d">kaldi::MultiSinusoidDetectorConfig::one_freq_min_energy</a></div><div class="ttdeci">BaseFloat one_freq_min_energy</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00248">sinusoid-detection.h:248</a></div></div>
<div class="ttc" id="classkaldi_1_1SinusoidDetector_html_ae962fdde03ffe245ab518055c11637b1"><div class="ttname"><a href="classkaldi_1_1SinusoidDetector.html#ae962fdde03ffe245ab518055c11637b1">kaldi::SinusoidDetector::DetectSinusoid</a></div><div class="ttdeci">BaseFloat DetectSinusoid(BaseFloat min_energy_change, const VectorBase&lt; BaseFloat &gt; &amp;signal, Sinusoid *sinusoid)</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8cc_source.html#l00282">sinusoid-detection.cc:282</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="group__feat_html_ga5fce515ce48395a054ca3ee677c98c6f"><div class="ttname"><a href="group__feat.html#ga5fce515ce48395a054ca3ee677c98c6f">kaldi::AddSinusoid</a></div><div class="ttdeci">void AddSinusoid(BaseFloat samp_freq, const Sinusoid &amp;sinusoid, VectorBase&lt; BaseFloat &gt; *signal)</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8cc_source.html#l00031">sinusoid-detection.cc:31</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a1cc5282f75c7560a66e070f487d1b6b2"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a1cc5282f75c7560a66e070f487d1b6b2">kaldi::MultiSinusoidDetector::DetectedTwoFrequency</a></div><div class="ttdeci">bool DetectedTwoFrequency(BaseFloat signal_energy, const Sinusoid &amp;sinusoid1, BaseFloat energy1, const Sinusoid &amp;sinusoid2, BaseFloat energy2, MultiSinusoidDetectorOutput *output)</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8cc_source.html#l00850">sinusoid-detection.cc:850</a></div></div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a113eccd98d49a845e28faefadce55c33"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a113eccd98d49a845e28faefadce55c33">kaldi::MultiSinusoidDetectorConfig::two_freq_min_total_energy</a></div><div class="ttdeci">BaseFloat two_freq_min_total_energy</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00242">sinusoid-detection.h:242</a></div></div>
<div class="ttc" id="group__error__group_html_ga16c81ec6ff3ba04c6ff96fdaed9d854e"><div class="ttname"><a href="group__error__group.html#ga16c81ec6ff3ba04c6ff96fdaed9d854e">KALDI_VLOG</a></div><div class="ttdeci">#define KALDI_VLOG(v)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00166">kaldi-error.h:166</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a96ca568b65c33352d7ac0333ef86f1b3"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a96ca568b65c33352d7ac0333ef86f1b3">kaldi::MultiSinusoidDetector::DetectedOneFrequency</a></div><div class="ttdeci">bool DetectedOneFrequency(BaseFloat signal_energy, const Sinusoid &amp;sinusoid1, BaseFloat energy1, const Sinusoid &amp;sinusoid2, BaseFloat energy2, MultiSinusoidDetectorOutput *output)</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8cc_source.html#l00880">sinusoid-detection.cc:880</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a823e45d3337a2f2b640b9ad53d4a4d0a"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a823e45d3337a2f2b640b9ad53d4a4d0a">kaldi::MultiSinusoidDetector::GetNextFrameOfSignal</a></div><div class="ttdeci">void GetNextFrameOfSignal(Vector&lt; BaseFloat &gt; *frame)</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8cc_source.html#l00748">sinusoid-detection.cc:748</a></div></div>
<div class="ttc" id="structkaldi_1_1MultiSinusoidDetectorConfig_html_a46ad692e9385b7c6452c3e9ba5fb2aa3"><div class="ttname"><a href="structkaldi_1_1MultiSinusoidDetectorConfig.html#a46ad692e9385b7c6452c3e9ba5fb2aa3">kaldi::MultiSinusoidDetectorConfig::subsample_freq</a></div><div class="ttdeci">int32 subsample_freq</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00258">sinusoid-detection.h:258</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a4316320bff81487fcbcb079b7cc1e4ff"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a4316320bff81487fcbcb079b7cc1e4ff">kaldi::MultiSinusoidDetector::config_</a></div><div class="ttdeci">MultiSinusoidDetectorConfig config_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00396">sinusoid-detection.h:396</a></div></div>
<div class="ttc" id="group__matrix__funcs__scalar_html_ga4750cd6f7a02a013435779588056b153"><div class="ttname"><a href="group__matrix__funcs__scalar.html#ga4750cd6f7a02a013435779588056b153">kaldi::VecVec</a></div><div class="ttdeci">Real VecVec(const VectorBase&lt; Real &gt; &amp;a, const VectorBase&lt; Real &gt; &amp;b)</div><div class="ttdoc">Returns dot product between v1 and v2. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l00036">kaldi-vector.cc:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a823e45d3337a2f2b640b9ad53d4a4d0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GetNextFrameOfSignal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00748">748</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="kaldi-vector_8h_source.html#l00059">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="matrix-common_8h_source.html#l00037">kaldi::kUndefined</a>, <a class="el" href="kaldi-vector_8h_source.html#l00089">VectorBase&lt; Real &gt;::Range()</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00189">Vector&lt; Real &gt;::Resize()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00416">MultiSinusoidDetector::samples_consumed_</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00398">MultiSinusoidDetector::samples_per_frame_subsampled_</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00410">MultiSinusoidDetector::subsampled_signal_</a>, and <a class="el" href="sinusoid-detection_8h_source.html#l00404">MultiSinusoidDetector::waveform_finished_</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00778">MultiSinusoidDetector::GetNextFrame()</a>.</p>
<div class="fragment"><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                                                                         {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  frame-&gt;<a class="code" href="classkaldi_1_1Vector.html#ae98e624cca1982e866ff195131ed4427">Resize</a>(<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">samples_per_frame_subsampled_</a>, <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kUndefined</a>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> sample_offset = 0,</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      samples_needed = <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">samples_per_frame_subsampled_</a>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">while</span> (samples_needed &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;         !<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.empty()) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    Vector&lt;BaseFloat&gt; *src = <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.front();</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> num_samples_avail = src-&gt;Dim() - <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(num_samples_avail &gt; 0);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> chunk_size = std::min(num_samples_avail,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                                 samples_needed);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    frame-&gt;<a class="code" href="classkaldi_1_1VectorBase.html#acb1578cb13d51c1d7456c3a59bb3b69a">Range</a>(sample_offset, chunk_size).CopyFromVec(</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        src-&gt;Range(<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a>, chunk_size));</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    sample_offset += chunk_size;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    samples_needed -= chunk_size;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a> += chunk_size;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a> == src-&gt;Dim()) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a> = 0;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keyword">delete</span> src;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.pop_front();</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">if</span> (samples_needed &gt; 0) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">waveform_finished_</a> &amp;&amp; sample_offset &gt; 0);  <span class="comment">// or code error.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    frame-&gt;<a class="code" href="classkaldi_1_1VectorBase.html#acb1578cb13d51c1d7456c3a59bb3b69a">Range</a>(sample_offset, samples_needed).SetZero();</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div>
<div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kaldi::kUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00037">matrix-common.h:37</a></div></div>
<div class="ttc" id="classkaldi_1_1Vector_html_ae98e624cca1982e866ff195131ed4427"><div class="ttname"><a href="classkaldi_1_1Vector.html#ae98e624cca1982e866ff195131ed4427">kaldi::Vector::Resize</a></div><div class="ttdeci">void Resize(MatrixIndexT length, MatrixResizeType resize_type=kSetZero)</div><div class="ttdoc">Set vector to a specified size (can be zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l00189">kaldi-vector.cc:189</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_ae1dd34fc6ac77931e730f4821f1bcb18"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#ae1dd34fc6ac77931e730f4821f1bcb18">kaldi::MultiSinusoidDetector::samples_per_frame_subsampled_</a></div><div class="ttdeci">int32 samples_per_frame_subsampled_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00398">sinusoid-detection.h:398</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_ac01d88b3820d3fcbba9f6184b4f7d3e0"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">kaldi::MultiSinusoidDetector::waveform_finished_</a></div><div class="ttdeci">bool waveform_finished_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00404">sinusoid-detection.h:404</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a4c3f3774ef0173112f12050b664d1d51"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">kaldi::MultiSinusoidDetector::samples_consumed_</a></div><div class="ttdeci">int32 samples_consumed_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00416">sinusoid-detection.h:416</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_aeba495685a2c6a6f4ff80d685b8615bf"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">kaldi::MultiSinusoidDetector::subsampled_signal_</a></div><div class="ttdeci">std::deque&lt; Vector&lt; BaseFloat &gt; * &gt; subsampled_signal_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00410">sinusoid-detection.h:410</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1VectorBase_html_acb1578cb13d51c1d7456c3a59bb3b69a"><div class="ttname"><a href="classkaldi_1_1VectorBase.html#acb1578cb13d51c1d7456c3a59bb3b69a">kaldi::VectorBase::Range</a></div><div class="ttdeci">SubVector&lt; Real &gt; Range(const MatrixIndexT o, const MatrixIndexT l)</div><div class="ttdoc">Returns a sub-vector of a vector (a range of elements). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8h_source.html#l00089">kaldi-vector.h:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15a2f1387590e789e044310bf89782b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> NumSubsampledSamplesReady </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>max_samp</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00724">724</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00416">MultiSinusoidDetector::samples_consumed_</a>, and <a class="el" href="sinusoid-detection_8h_source.html#l00410">MultiSinusoidDetector::subsampled_signal_</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00739">MultiSinusoidDetector::Done()</a>.</p>
<div class="fragment"><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                                                                           {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a> &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;               ((<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.empty() &amp;&amp; <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a> == 0) ||</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                (!<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.empty () &amp;&amp; <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a> &lt;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                 <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>[0]-&gt;Dim())));</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <a class="code" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> ans = -<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.size(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    ans += <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;Dim();</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (ans &gt; max_samp) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(ans &gt;= 0);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordflow">return</span> std::min(ans, max_samp);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a4c3f3774ef0173112f12050b664d1d51"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">kaldi::MultiSinusoidDetector::samples_consumed_</a></div><div class="ttdeci">int32 samples_consumed_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00416">sinusoid-detection.h:416</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_aeba495685a2c6a6f4ff80d685b8615bf"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">kaldi::MultiSinusoidDetector::subsampled_signal_</a></div><div class="ttdeci">std::deque&lt; Vector&lt; BaseFloat &gt; * &gt; subsampled_signal_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00410">sinusoid-detection.h:410</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab7903878916593daecbeb95b98115ab0"><div class="ttname"><a href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">kaldi::int32</a></div><div class="ttdeci">int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00047">kaldi-types.h:47</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a372de693ad40b3f42839c8ec6ac845f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the state of the class so you can start processing another waveform. </p>

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00684">684</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="sinusoid-detection_8h_source.html#l00420">MultiSinusoidDetector::resampler_</a>, <a class="el" href="resample_8cc_source.html#l00235">LinearResample::Reset()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00416">MultiSinusoidDetector::samples_consumed_</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00410">MultiSinusoidDetector::subsampled_signal_</a>, and <a class="el" href="sinusoid-detection_8h_source.html#l00404">MultiSinusoidDetector::waveform_finished_</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00913">kaldi::DetectSinusoids()</a>.</p>
<div class="fragment"><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                                  {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">waveform_finished_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">samples_consumed_</a> = 0;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">while</span>(!<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.empty()) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.front();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.pop_front();</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a948c425900f5654bda15ac34c5930ea1">resampler_</a>.<a class="code" href="classkaldi_1_1LinearResample.html#a372de693ad40b3f42839c8ec6ac845f4">Reset</a>();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1LinearResample_html_a372de693ad40b3f42839c8ec6ac845f4"><div class="ttname"><a href="classkaldi_1_1LinearResample.html#a372de693ad40b3f42839c8ec6ac845f4">kaldi::LinearResample::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdoc">Calling the function Reset() resets the state of the object prior to processing a new signal; it is o...</div><div class="ttdef"><b>Definition:</b> <a href="resample_8cc_source.html#l00235">resample.cc:235</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_ac01d88b3820d3fcbba9f6184b4f7d3e0"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">kaldi::MultiSinusoidDetector::waveform_finished_</a></div><div class="ttdeci">bool waveform_finished_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00404">sinusoid-detection.h:404</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a4c3f3774ef0173112f12050b664d1d51"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a4c3f3774ef0173112f12050b664d1d51">kaldi::MultiSinusoidDetector::samples_consumed_</a></div><div class="ttdeci">int32 samples_consumed_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00416">sinusoid-detection.h:416</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_aeba495685a2c6a6f4ff80d685b8615bf"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">kaldi::MultiSinusoidDetector::subsampled_signal_</a></div><div class="ttdeci">std::deque&lt; Vector&lt; BaseFloat &gt; * &gt; subsampled_signal_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00410">sinusoid-detection.h:410</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a948c425900f5654bda15ac34c5930ea1"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a948c425900f5654bda15ac34c5930ea1">kaldi::MultiSinusoidDetector::resampler_</a></div><div class="ttdeci">LinearResample resampler_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00420">sinusoid-detection.h:420</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aef064bad5f1db539d008a052721dda73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> SamplingFrequency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00364">364</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>References <a class="el" href="sinusoid-detection_8h_source.html#l00397">MultiSinusoidDetector::sample_freq_</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00913">kaldi::DetectSinusoids()</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#abbe14489b2d844beb923e75d72fe74d8">sample_freq_</a>; }</div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_abbe14489b2d844beb923e75d72fe74d8"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#abbe14489b2d844beb923e75d72fe74d8">kaldi::MultiSinusoidDetector::sample_freq_</a></div><div class="ttdeci">int32 sample_freq_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00397">sinusoid-detection.h:397</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae85632ab2b2a5c645db693a2f97fbff2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WaveformFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The user calls this to announce to the class that the waveform has ended; this forces any pending data to be flushed. </p>

<p>Definition at line <a class="el" href="sinusoid-detection_8cc_source.html#l00694">694</a> of file <a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a>.</p>

<p>References <a class="el" href="kaldi-error_8h_source.html#l00143">KALDI_ASSERT</a>, <a class="el" href="resample_8cc_source.html#l00152">LinearResample::Resample()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00420">MultiSinusoidDetector::resampler_</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00410">MultiSinusoidDetector::subsampled_signal_</a>, and <a class="el" href="sinusoid-detection_8h_source.html#l00404">MultiSinusoidDetector::waveform_finished_</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00913">kaldi::DetectSinusoids()</a>, and <a class="el" href="sinusoid-detection-test_8cc_source.html#l00384">kaldi::UnitTestToneDetection2()</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                                             {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(!<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">waveform_finished_</a> &amp;&amp;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;               <span class="stringliteral">&quot;WaveformFinished() called twice.&quot;</span>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  Vector&lt;BaseFloat&gt; empty_waveform;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.push_back(<span class="keyword">new</span> Vector&lt;BaseFloat&gt;());</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordtype">bool</span> flush = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#a948c425900f5654bda15ac34c5930ea1">resampler_</a>.<a class="code" href="classkaldi_1_1LinearResample.html#aee7dcedf0f288da82a190e2301183322">Resample</a>(empty_waveform, flush,</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                      <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.back());</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">waveform_finished_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.back()-&gt;Dim() == 0) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.back();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">subsampled_signal_</a>.pop_back();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div>
<div class="ttc" id="classkaldi_1_1LinearResample_html_aee7dcedf0f288da82a190e2301183322"><div class="ttname"><a href="classkaldi_1_1LinearResample.html#aee7dcedf0f288da82a190e2301183322">kaldi::LinearResample::Resample</a></div><div class="ttdeci">void Resample(const VectorBase&lt; BaseFloat &gt; &amp;input, bool flush, Vector&lt; BaseFloat &gt; *output)</div><div class="ttdoc">This function does the resampling. </div><div class="ttdef"><b>Definition:</b> <a href="resample_8cc_source.html#l00152">resample.cc:152</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_ac01d88b3820d3fcbba9f6184b4f7d3e0"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#ac01d88b3820d3fcbba9f6184b4f7d3e0">kaldi::MultiSinusoidDetector::waveform_finished_</a></div><div class="ttdeci">bool waveform_finished_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00404">sinusoid-detection.h:404</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_aeba495685a2c6a6f4ff80d685b8615bf"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#aeba495685a2c6a6f4ff80d685b8615bf">kaldi::MultiSinusoidDetector::subsampled_signal_</a></div><div class="ttdeci">std::deque&lt; Vector&lt; BaseFloat &gt; * &gt; subsampled_signal_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00410">sinusoid-detection.h:410</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00143">kaldi-error.h:143</a></div></div>
<div class="ttc" id="classkaldi_1_1MultiSinusoidDetector_html_a948c425900f5654bda15ac34c5930ea1"><div class="ttname"><a href="classkaldi_1_1MultiSinusoidDetector.html#a948c425900f5654bda15ac34c5930ea1">kaldi::MultiSinusoidDetector::resampler_</a></div><div class="ttdeci">LinearResample resampler_</div><div class="ttdef"><b>Definition:</b> <a href="sinusoid-detection_8h_source.html#l00420">sinusoid-detection.h:420</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a4316320bff81487fcbcb079b7cc1e4ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkaldi_1_1MultiSinusoidDetectorConfig.html">MultiSinusoidDetectorConfig</a> config_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00396">396</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00880">MultiSinusoidDetector::DetectedOneFrequency()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00850">MultiSinusoidDetector::DetectedTwoFrequency()</a>, <a class="el" href="sinusoid-detection_8h_source.html#l00362">MultiSinusoidDetector::FrameShiftSecs()</a>, and <a class="el" href="sinusoid-detection_8cc_source.html#l00778">MultiSinusoidDetector::GetNextFrame()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b454e31ec9b6ace2f9b8fc1781c4193"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1SinusoidDetector.html">SinusoidDetector</a> detector_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00424">424</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00778">MultiSinusoidDetector::GetNextFrame()</a>.</p>

</div>
</div>
<a class="anchor" id="a948c425900f5654bda15ac34c5930ea1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1LinearResample.html">LinearResample</a> resampler_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00420">420</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00710">MultiSinusoidDetector::AcceptWaveform()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00684">MultiSinusoidDetector::Reset()</a>, and <a class="el" href="sinusoid-detection_8cc_source.html#l00694">MultiSinusoidDetector::WaveformFinished()</a>.</p>

</div>
</div>
<a class="anchor" id="abbe14489b2d844beb923e75d72fe74d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> sample_freq_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00397">397</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8h_source.html#l00364">MultiSinusoidDetector::SamplingFrequency()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c3f3774ef0173112f12050b664d1d51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> samples_consumed_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00416">416</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00748">MultiSinusoidDetector::GetNextFrameOfSignal()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00724">MultiSinusoidDetector::NumSubsampledSamplesReady()</a>, and <a class="el" href="sinusoid-detection_8cc_source.html#l00684">MultiSinusoidDetector::Reset()</a>.</p>

</div>
</div>
<a class="anchor" id="ae1dd34fc6ac77931e730f4821f1bcb18"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> samples_per_frame_subsampled_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00398">398</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00739">MultiSinusoidDetector::Done()</a>, and <a class="el" href="sinusoid-detection_8cc_source.html#l00748">MultiSinusoidDetector::GetNextFrameOfSignal()</a>.</p>

</div>
</div>
<a class="anchor" id="ac90aa95e2069b38af8bdcb4c6223b9d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> samples_shift_subsampled_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00400">400</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

</div>
</div>
<a class="anchor" id="aeba495685a2c6a6f4ff80d685b8615bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt;<a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt;<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&gt;* &gt; subsampled_signal_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00410">410</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00710">MultiSinusoidDetector::AcceptWaveform()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00748">MultiSinusoidDetector::GetNextFrameOfSignal()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00724">MultiSinusoidDetector::NumSubsampledSamplesReady()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00684">MultiSinusoidDetector::Reset()</a>, and <a class="el" href="sinusoid-detection_8cc_source.html#l00694">MultiSinusoidDetector::WaveformFinished()</a>.</p>

</div>
</div>
<a class="anchor" id="ac01d88b3820d3fcbba9f6184b4f7d3e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool waveform_finished_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sinusoid-detection_8h_source.html#l00404">404</a> of file <a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a>.</p>

<p>Referenced by <a class="el" href="sinusoid-detection_8cc_source.html#l00739">MultiSinusoidDetector::Done()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00748">MultiSinusoidDetector::GetNextFrameOfSignal()</a>, <a class="el" href="sinusoid-detection_8cc_source.html#l00684">MultiSinusoidDetector::Reset()</a>, and <a class="el" href="sinusoid-detection_8cc_source.html#l00694">MultiSinusoidDetector::WaveformFinished()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>feat/<a class="el" href="sinusoid-detection_8h_source.html">sinusoid-detection.h</a></li>
<li>feat/<a class="el" href="sinusoid-detection_8cc_source.html">sinusoid-detection.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="classkaldi_1_1MultiSinusoidDetector.html">MultiSinusoidDetector</a></li>
    <li class="footer">Generated on Thu Apr 28 2016 15:42:43 for Kaldi by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
