<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: DecodableInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1DecodableInterface.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classkaldi_1_1DecodableInterface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DecodableInterface Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classkaldi_1_1DecodableInterface.html" title="DecodableInterface provides a link between the (acoustic-modeling and feature-processing) code and th...">DecodableInterface</a> provides a link between the (acoustic-modeling and feature-processing) code and the decoder.  
 <a href="classkaldi_1_1DecodableInterface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="decodable-itf_8h_source.html">decodable-itf.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DecodableInterface:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1DecodableInterface__inherit__graph.png" border="0" usemap="#DecodableInterface_inherit__map" alt="Inheritance graph"/></div>
<map name="DecodableInterface_inherit__map" id="DecodableInterface_inherit__map">
<area shape="rect" id="node2" href="classkaldi_1_1DecodableAmDiagGmmUnmapped.html" title="DecodableAmDiagGmmUnmapped is a decodable object that takes indices that correspond to pdf&#45;id&#39;s plus ..." alt="" coords="200,123,448,149"/><area shape="rect" id="node7" href="classkaldi_1_1DecodableAmSgmm.html" title="DecodableAmSgmm" alt="" coords="247,224,401,251"/><area shape="rect" id="node9" href="classkaldi_1_1DecodableAmSgmm2.html" title="DecodableAmSgmm2" alt="" coords="243,275,405,301"/><area shape="rect" id="node11" href="classkaldi_1_1DecodableMapped.html" title="DecodableMapped" alt="" coords="253,325,395,352"/><area shape="rect" id="node12" href="classkaldi_1_1DecodableMatrixMappedOffset.html" title="This decodable class returns log&#45;likes stored in a matrix; it supports repeatedly writing to the matr..." alt="" coords="215,376,433,403"/><area shape="rect" id="node13" href="classkaldi_1_1DecodableMatrixScaled.html" title="DecodableMatrixScaled" alt="" coords="238,427,410,453"/><area shape="rect" id="node14" href="classkaldi_1_1DecodableMatrixScaledMapped.html" title="DecodableMatrixScaledMapped" alt="" coords="213,477,435,504"/><area shape="rect" id="node15" href="classkaldi_1_1DecodableSum.html" title="DecodableSum" alt="" coords="264,528,384,555"/><area shape="rect" id="node17" href="classkaldi_1_1nnet2_1_1DecodableAmNnet.html" title="DecodableAmNnet is a decodable object that decodes with a neural net acoustic model of type AmNnet..." alt="" coords="253,579,395,605"/><area shape="rect" id="node18" href="classkaldi_1_1nnet2_1_1DecodableAmNnetParallel.html" title="This version of DecodableAmNnet is intended for a version of the decoder that processes different utt..." alt="" coords="230,629,418,656"/><area shape="rect" id="node19" href="classkaldi_1_1nnet2_1_1DecodableNnet2Online.html" title="This Decodable object for class nnet2::AmNnet takes feature input from class OnlineFeatureInterface, unlike, say, class DecodableAmNnet which takes feature input from a matrix. " alt="" coords="239,680,409,707"/><area shape="rect" id="node20" href="classkaldi_1_1nnet3_1_1DecodableAmNnetSimple.html" title="DecodableAmNnetSimple" alt="" coords="231,731,417,757"/><area shape="rect" id="node3" href="classkaldi_1_1DecodableAmDiagGmm.html" title="DecodableAmDiagGmm" alt="" coords="531,5,709,32"/><area shape="rect" id="node4" href="classkaldi_1_1DecodableAmDiagGmmRegtreeFmllr.html" title="DecodableAmDiagGmmRegtree\lFmllr" alt="" coords="507,57,733,98"/><area shape="rect" id="node5" href="classkaldi_1_1DecodableAmDiagGmmRegtreeMllr.html" title="DecodableAmDiagGmmRegtreeMllr" alt="" coords="496,123,744,149"/><area shape="rect" id="node6" href="classkaldi_1_1DecodableAmDiagGmmScaled.html" title="DecodableAmDiagGmmScaled" alt="" coords="510,173,730,200"/><area shape="rect" id="node8" href="classkaldi_1_1DecodableAmSgmmScaled.html" title="DecodableAmSgmmScaled" alt="" coords="521,224,719,251"/><area shape="rect" id="node10" href="classkaldi_1_1DecodableAmSgmm2Scaled.html" title="DecodableAmSgmm2Scaled" alt="" coords="517,275,723,301"/><area shape="rect" id="node16" href="classkaldi_1_1DecodableSumScaled.html" title="DecodableSumScaled" alt="" coords="539,528,701,555"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0fea536380fa24a5ffe6a7ca08633a03"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1DecodableInterface.html#a0fea536380fa24a5ffe6a7ca08633a03">LogLikelihood</a> (<a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> frame, <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> index)=0</td></tr>
<tr class="memdesc:a0fea536380fa24a5ffe6a7ca08633a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the log likelihood, which will be negated in the decoder.  <a href="#a0fea536380fa24a5ffe6a7ca08633a03">More...</a><br/></td></tr>
<tr class="separator:a0fea536380fa24a5ffe6a7ca08633a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e2dede1c20fce727f2666fe45a06ab3"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1DecodableInterface.html#a9e2dede1c20fce727f2666fe45a06ab3">IsLastFrame</a> (<a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> frame) const =0</td></tr>
<tr class="memdesc:a9e2dede1c20fce727f2666fe45a06ab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this is the last frame.  <a href="#a9e2dede1c20fce727f2666fe45a06ab3">More...</a><br/></td></tr>
<tr class="separator:a9e2dede1c20fce727f2666fe45a06ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016096adfe1a1c2c2f557c8c7be596e1"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1DecodableInterface.html#a016096adfe1a1c2c2f557c8c7be596e1">NumFramesReady</a> () const </td></tr>
<tr class="memdesc:a016096adfe1a1c2c2f557c8c7be596e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The call <a class="el" href="classkaldi_1_1DecodableInterface.html#a016096adfe1a1c2c2f557c8c7be596e1" title="The call NumFramesReady() will return the number of frames currently available for this decodable obj...">NumFramesReady()</a> will return the number of frames currently available for this decodable object.  <a href="#a016096adfe1a1c2c2f557c8c7be596e1">More...</a><br/></td></tr>
<tr class="separator:a016096adfe1a1c2c2f557c8c7be596e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c8ec83e8237d8001cf79ac186f67faf"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1DecodableInterface.html#a7c8ec83e8237d8001cf79ac186f67faf">NumIndices</a> () const =0</td></tr>
<tr class="memdesc:a7c8ec83e8237d8001cf79ac186f67faf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of states in the acoustic model (they will be indexed one-based, i.e.  <a href="#a7c8ec83e8237d8001cf79ac186f67faf">More...</a><br/></td></tr>
<tr class="separator:a7c8ec83e8237d8001cf79ac186f67faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7972a28533e36ce496f37cfbc2b3dc00"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1DecodableInterface.html#a7972a28533e36ce496f37cfbc2b3dc00">~DecodableInterface</a> ()</td></tr>
<tr class="separator:a7972a28533e36ce496f37cfbc2b3dc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classkaldi_1_1DecodableInterface.html" title="DecodableInterface provides a link between the (acoustic-modeling and feature-processing) code and th...">DecodableInterface</a> provides a link between the (acoustic-modeling and feature-processing) code and the decoder. </p>
<p>The idea is to make this interface as small as possible, and to make it as agnostic as possible about the form of the acoustic model (e.g. don't assume the probabilities are a function of just a vector of floats), and about the decoder (e.g. don't assume it accesses frames in strict left-to-right order). For normal models, without on-line operation, the "decodable" sub-class will just be a wrapper around a matrix of features and an acoustic model, and it will answer the question 'what is the acoustic likelihood for this index and this frame?'.</p>
<p>For online decoding, where the features are coming in in real time, it is important to understand the <a class="el" href="classkaldi_1_1DecodableInterface.html#a9e2dede1c20fce727f2666fe45a06ab3" title="Returns true if this is the last frame. ">IsLastFrame()</a> and <a class="el" href="classkaldi_1_1DecodableInterface.html#a016096adfe1a1c2c2f557c8c7be596e1" title="The call NumFramesReady() will return the number of frames currently available for this decodable obj...">NumFramesReady()</a> functions. There are two ways these are used: the old online-decoding code, in ../online/, and the new online-decoding code, in ../online2/. In the old online-decoding code, the decoder would do: </p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> frame = 0; !decodable.IsLastFrame(frame); frame++) {</div>
<div class="line">  <span class="comment">// Process this frame</span></div>
<div class="line">}</div>
</div><!-- fragment --><p> and the the call to IsLastFrame would block if the features had not arrived yet. The decodable object would have to know when to terminate the decoding. This online-decoding mode is still supported, it is what happens when you call, for example, <a class="el" href="classkaldi_1_1LatticeFasterDecoder.html#ac78620c576a40d3bdb14dc87b2a754a5" title="Decodes until there are no more frames left in the &quot;decodable&quot; object. ">LatticeFasterDecoder::Decode()</a>.</p>
<p>We realized that this "blocking" mode of decoding is not very convenient because it forces the program to be multi-threaded and makes it complex to control endpointing. In the "new" decoding code, you don't call (for example) <a class="el" href="classkaldi_1_1LatticeFasterDecoder.html#ac78620c576a40d3bdb14dc87b2a754a5" title="Decodes until there are no more frames left in the &quot;decodable&quot; object. ">LatticeFasterDecoder::Decode()</a>, you call <a class="el" href="classkaldi_1_1LatticeFasterDecoder.html#ad43c69eb4374e3a67d4cd91696a5d6e9" title="InitDecoding initializes the decoding, and should only be used if you intend to call AdvanceDecoding(...">LatticeFasterDecoder::InitDecoding()</a>, and then each time you get more features, you provide them to the decodable object, and you call <a class="el" href="classkaldi_1_1LatticeFasterDecoder.html#a375a5c2ebd730748ed1da740a4a23692" title="This will decode until there are no more frames ready in the decodable object. ">LatticeFasterDecoder::AdvanceDecoding()</a>, which does something like this: </p>
<div class="fragment"><div class="line"><span class="keywordflow">while</span> (num_frames_decoded_ &lt; decodable.NumFramesReady()) {</div>
<div class="line">  <span class="comment">// Decode one more frame [increments num_frames_decoded_]</span></div>
<div class="line">}</div>
</div><!-- fragment --><p> So the decodable object never has <a class="el" href="classkaldi_1_1DecodableInterface.html#a9e2dede1c20fce727f2666fe45a06ab3" title="Returns true if this is the last frame. ">IsLastFrame()</a> called. For decoding where you are starting with a matrix of features, the <a class="el" href="classkaldi_1_1DecodableInterface.html#a016096adfe1a1c2c2f557c8c7be596e1" title="The call NumFramesReady() will return the number of frames currently available for this decodable obj...">NumFramesReady()</a> function will always just return the number of frames in the file, and <a class="el" href="classkaldi_1_1DecodableInterface.html#a9e2dede1c20fce727f2666fe45a06ab3" title="Returns true if this is the last frame. ">IsLastFrame()</a> will return true for the last frame.</p>
<p>For truly online decoding, the "old" online decodable objects in ../online/ have a "blocking" <a class="el" href="classkaldi_1_1DecodableInterface.html#a9e2dede1c20fce727f2666fe45a06ab3" title="Returns true if this is the last frame. ">IsLastFrame()</a> and will crash if you call <a class="el" href="classkaldi_1_1DecodableInterface.html#a016096adfe1a1c2c2f557c8c7be596e1" title="The call NumFramesReady() will return the number of frames currently available for this decodable obj...">NumFramesReady()</a>. The "new" online decodable objects in ../online2/ return the number of frames currently accessible if you call <a class="el" href="classkaldi_1_1DecodableInterface.html#a016096adfe1a1c2c2f557c8c7be596e1" title="The call NumFramesReady() will return the number of frames currently available for this decodable obj...">NumFramesReady()</a>. You will likely not need to call <a class="el" href="classkaldi_1_1DecodableInterface.html#a9e2dede1c20fce727f2666fe45a06ab3" title="Returns true if this is the last frame. ">IsLastFrame()</a>, but we implement it to only return true for the last frame of the file once we've decided to terminate decoding. </p>

<p>Definition at line <a class="el" href="decodable-itf_8h_source.html#l00083">83</a> of file <a class="el" href="decodable-itf_8h_source.html">decodable-itf.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7972a28533e36ce496f37cfbc2b3dc00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classkaldi_1_1DecodableInterface.html">DecodableInterface</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="decodable-itf_8h_source.html#l00118">118</a> of file <a class="el" href="decodable-itf_8h_source.html">decodable-itf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9e2dede1c20fce727f2666fe45a06ab3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool IsLastFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if this is the last frame. </p>
<p>Frames are zero-based, so the first frame is zero. IsLastFrame(-1) will return false, unless the file is empty (which is a case that I'm not sure all the code will handle, so be careful). Caution: the behavior of this function in an online setting is being changed somewhat. In future it may return false in cases where we haven't yet decided to terminate decoding, but later true if we decide to terminate decoding. The plan in future is to rely more on <a class="el" href="classkaldi_1_1DecodableInterface.html#a016096adfe1a1c2c2f557c8c7be596e1" title="The call NumFramesReady() will return the number of frames currently available for this decodable obj...">NumFramesReady()</a>, and in future, <a class="el" href="classkaldi_1_1DecodableInterface.html#a9e2dede1c20fce727f2666fe45a06ab3" title="Returns true if this is the last frame. ">IsLastFrame()</a> would always return false in an online-decoding setting, and would only return true in a decoding-from-matrix setting where we want to allow the last delta or LDA features to be flushed out for compatibility with the baseline setup. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1DecodableAmNnetSimple.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableAmNnetSimple</a>, <a class="el" href="classkaldi_1_1DecodableMatrixScaled.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableMatrixScaled</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableAmNnetParallel.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableAmNnetParallel</a>, <a class="el" href="classkaldi_1_1DecodableMatrixMappedOffset.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableMatrixMappedOffset</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableAmNnet.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableAmNnet</a>, <a class="el" href="classkaldi_1_1DecodableSum.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableSum</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableNnet2Online.html#a987a069df0a6eec952c7e901b7fd57c2">DecodableNnet2Online</a>, <a class="el" href="classkaldi_1_1DecodableAmSgmm2.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableAmSgmm2</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmUnmapped.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableAmDiagGmmUnmapped</a>, <a class="el" href="classkaldi_1_1DecodableMatrixScaledMapped.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableMatrixScaledMapped</a>, <a class="el" href="classkaldi_1_1DecodableAmSgmm.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableAmSgmm</a>, and <a class="el" href="classkaldi_1_1DecodableMapped.html#ab20aed07b2d3a60f0430d3290c99b344">DecodableMapped</a>.</p>

<p>Referenced by <a class="el" href="simple-decoder_8cc_source.html#l00033">SimpleDecoder::Decode()</a>, <a class="el" href="faster-decoder_8cc_source.html#l00048">FasterDecoder::Decode()</a>, <a class="el" href="lattice-biglm-faster-decoder_8h_source.html#l00077">LatticeBiglmFasterDecoder::Decode()</a>, <a class="el" href="biglm-faster-decoder_8h_source.html#l00087">BiglmFasterDecoder::Decode()</a>, <a class="el" href="lattice-faster-online-decoder_8cc_source.html#l00077">LatticeFasterOnlineDecoder::Decode()</a>, <a class="el" href="nbest-decoder_8h_source.html#l00094">NBestDecoder::Decode()</a>, <a class="el" href="lattice-simple-decoder_8cc_source.html#l00046">LatticeSimpleDecoder::Decode()</a>, <a class="el" href="lattice-faster-decoder_8cc_source.html#l00077">LatticeFasterDecoder::Decode()</a>, <a class="el" href="lattice-tracking-decoder_8cc_source.html#l00037">LatticeTrackingDecoder::Decode()</a>, <a class="el" href="decodable-mapped_8h_source.html#l00052">DecodableMapped::IsLastFrame()</a>, <a class="el" href="lattice-functions_8cc_source.html#l01163">kaldi::RescoreCompactLatticeInternal()</a>, and <a class="el" href="lattice-functions_8cc_source.html#l01307">kaldi::RescoreLattice()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fea536380fa24a5ffe6a7ca08633a03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> LogLikelihood </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a>&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the log likelihood, which will be negated in the decoder. </p>
<p>The "frame" starts from zero. You should verify that IsLastFrame(frame-1) returns false before calling this. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1DecodableAmNnetSimple.html#a5b6f6facf8f954d8dc732ec084277aea">DecodableAmNnetSimple</a>, <a class="el" href="classkaldi_1_1DecodableMatrixScaled.html#ab19308e7a888bdc767656657ff702e9b">DecodableMatrixScaled</a>, <a class="el" href="classkaldi_1_1DecodableMatrixMappedOffset.html#ab19308e7a888bdc767656657ff702e9b">DecodableMatrixMappedOffset</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmScaled.html#ab19308e7a888bdc767656657ff702e9b">DecodableAmDiagGmmScaled</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableAmNnetParallel.html#a981790e2d573a75714d8d707981d6c85">DecodableAmNnetParallel</a>, <a class="el" href="classkaldi_1_1DecodableAmSgmm2Scaled.html#ab19308e7a888bdc767656657ff702e9b">DecodableAmSgmm2Scaled</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmm.html#ab19308e7a888bdc767656657ff702e9b">DecodableAmDiagGmm</a>, <a class="el" href="classkaldi_1_1DecodableAmSgmmScaled.html#ab19308e7a888bdc767656657ff702e9b">DecodableAmSgmmScaled</a>, <a class="el" href="classkaldi_1_1DecodableSumScaled.html#a5a7565062c863f50bad7a0ea030098e0">DecodableSumScaled</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmRegtreeMllr.html#ab19308e7a888bdc767656657ff702e9b">DecodableAmDiagGmmRegtreeMllr</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableAmNnet.html#a981790e2d573a75714d8d707981d6c85">DecodableAmNnet</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableNnet2Online.html#a4ce643c93253b494353ceb9badf233e1">DecodableNnet2Online</a>, <a class="el" href="classkaldi_1_1DecodableMatrixScaledMapped.html#ab19308e7a888bdc767656657ff702e9b">DecodableMatrixScaledMapped</a>, <a class="el" href="classkaldi_1_1DecodableAmSgmm2.html#ab19308e7a888bdc767656657ff702e9b">DecodableAmSgmm2</a>, <a class="el" href="classkaldi_1_1DecodableSum.html#a5a7565062c863f50bad7a0ea030098e0">DecodableSum</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmUnmapped.html#a5a7565062c863f50bad7a0ea030098e0">DecodableAmDiagGmmUnmapped</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmRegtreeFmllr.html#ab19308e7a888bdc767656657ff702e9b">DecodableAmDiagGmmRegtreeFmllr</a>, <a class="el" href="classkaldi_1_1DecodableAmSgmm.html#ab19308e7a888bdc767656657ff702e9b">DecodableAmSgmm</a>, and <a class="el" href="classkaldi_1_1DecodableMapped.html#a5a7565062c863f50bad7a0ea030098e0">DecodableMapped</a>.</p>

<p>Referenced by <a class="el" href="nbest-decoder_8h_source.html#l00436">NBestDecoder::TokenStore::Advance()</a>, <a class="el" href="decodable-mapped_8h_source.html#l00043">DecodableMapped::LogLikelihood()</a>, <a class="el" href="simple-decoder_8cc_source.html#l00173">SimpleDecoder::ProcessEmitting()</a>, <a class="el" href="faster-decoder_8cc_source.html#l00224">FasterDecoder::ProcessEmitting()</a>, <a class="el" href="lattice-simple-decoder_8cc_source.html#l00510">LatticeSimpleDecoder::ProcessEmitting()</a>, <a class="el" href="lattice-tracking-decoder_8cc_source.html#l00621">LatticeTrackingDecoder::ProcessEmitting()</a>, <a class="el" href="biglm-faster-decoder_8h_source.html#l00340">BiglmFasterDecoder::ProcessEmitting()</a>, <a class="el" href="lattice-faster-online-decoder_8cc_source.html#l00864">LatticeFasterOnlineDecoder::ProcessEmitting()</a>, <a class="el" href="lattice-faster-decoder_8cc_source.html#l00660">LatticeFasterDecoder::ProcessEmitting()</a>, <a class="el" href="lattice-biglm-faster-decoder_8h_source.html#l00687">LatticeBiglmFasterDecoder::ProcessEmitting()</a>, <a class="el" href="nbest-decoder_8h_source.html#l00546">NBestDecoder::PropagateEmitting()</a>, <a class="el" href="lattice-functions_8cc_source.html#l01163">kaldi::RescoreCompactLatticeInternal()</a>, and <a class="el" href="lattice-functions_8cc_source.html#l01307">kaldi::RescoreLattice()</a>.</p>

</div>
</div>
<a class="anchor" id="a016096adfe1a1c2c2f557c8c7be596e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> NumFramesReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The call <a class="el" href="classkaldi_1_1DecodableInterface.html#a016096adfe1a1c2c2f557c8c7be596e1" title="The call NumFramesReady() will return the number of frames currently available for this decodable obj...">NumFramesReady()</a> will return the number of frames currently available for this decodable object. </p>
<p>This is for use in setups where you don't want the decoder to block while waiting for input. This is newly added as of Jan 2014, and I hope, going forward, to rely on this mechanism more than IsLastFrame to know when to stop decoding. </p>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1DecodableAmNnetSimple.html#a016096adfe1a1c2c2f557c8c7be596e1">DecodableAmNnetSimple</a>, <a class="el" href="classkaldi_1_1DecodableMatrixScaled.html#a016096adfe1a1c2c2f557c8c7be596e1">DecodableMatrixScaled</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableAmNnetParallel.html#a0c440ef7ae7621ca7fee15049a803122">DecodableAmNnetParallel</a>, <a class="el" href="classkaldi_1_1DecodableMatrixMappedOffset.html#a016096adfe1a1c2c2f557c8c7be596e1">DecodableMatrixMappedOffset</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableAmNnet.html#a016096adfe1a1c2c2f557c8c7be596e1">DecodableAmNnet</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableNnet2Online.html#a0c440ef7ae7621ca7fee15049a803122">DecodableNnet2Online</a>, <a class="el" href="classkaldi_1_1DecodableAmSgmm2.html#a0c440ef7ae7621ca7fee15049a803122">DecodableAmSgmm2</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmUnmapped.html#a016096adfe1a1c2c2f557c8c7be596e1">DecodableAmDiagGmmUnmapped</a>, <a class="el" href="classkaldi_1_1DecodableMatrixScaledMapped.html#a016096adfe1a1c2c2f557c8c7be596e1">DecodableMatrixScaledMapped</a>, and <a class="el" href="classkaldi_1_1DecodableAmSgmm.html#a0c440ef7ae7621ca7fee15049a803122">DecodableAmSgmm</a>.</p>

<p>Definition at line <a class="el" href="decodable-itf_8h_source.html#l00108">108</a> of file <a class="el" href="decodable-itf_8h_source.html">decodable-itf.h</a>.</p>

<p>References <a class="el" href="kaldi-error_8h_source.html#l00160">KALDI_ERR</a>.</p>

<p>Referenced by <a class="el" href="simple-decoder_8cc_source.html#l00058">SimpleDecoder::AdvanceDecoding()</a>, <a class="el" href="faster-decoder_8cc_source.html#l00056">FasterDecoder::AdvanceDecoding()</a>, <a class="el" href="lattice-faster-online-decoder_8cc_source.html#l00747">LatticeFasterOnlineDecoder::AdvanceDecoding()</a>, <a class="el" href="lattice-faster-decoder_8cc_source.html#l00547">LatticeFasterDecoder::AdvanceDecoding()</a>, and <a class="el" href="decoder-wrappers_8cc_source.html#l00423">kaldi::AlignUtteranceWrapper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                       {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;NumFramesReady() not implemented for this decodable type.&quot;</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  }</div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00160">kaldi-error.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7c8ec83e8237d8001cf79ac186f67faf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacekaldi.html#ab7903878916593daecbeb95b98115ab0">int32</a> NumIndices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of states in the acoustic model (they will be indexed one-based, i.e. </p>
<p>from 1 to <a class="el" href="classkaldi_1_1DecodableInterface.html#a7c8ec83e8237d8001cf79ac186f67faf" title="Returns the number of states in the acoustic model (they will be indexed one-based, i.e. ">NumIndices()</a>; this is for compatibility with OpenFst. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1DecodableAmNnetSimple.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmNnetSimple</a>, <a class="el" href="classkaldi_1_1DecodableMatrixScaled.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableMatrixScaled</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableAmNnetParallel.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmNnetParallel</a>, <a class="el" href="classkaldi_1_1DecodableMatrixMappedOffset.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableMatrixMappedOffset</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmScaled.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmDiagGmmScaled</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmm.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmDiagGmm</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmRegtreeMllr.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmDiagGmmRegtreeMllr</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableAmNnet.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmNnet</a>, <a class="el" href="classkaldi_1_1nnet2_1_1DecodableNnet2Online.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableNnet2Online</a>, <a class="el" href="classkaldi_1_1DecodableSum.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableSum</a>, <a class="el" href="classkaldi_1_1DecodableMatrixScaledMapped.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableMatrixScaledMapped</a>, <a class="el" href="classkaldi_1_1DecodableAmSgmm2.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmSgmm2</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmUnmapped.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmDiagGmmUnmapped</a>, <a class="el" href="classkaldi_1_1DecodableAmDiagGmmRegtreeFmllr.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmDiagGmmRegtreeFmllr</a>, <a class="el" href="classkaldi_1_1DecodableAmSgmm.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableAmSgmm</a>, and <a class="el" href="classkaldi_1_1DecodableMapped.html#ada97b7c0c80c58fbb5dfcb1827ccf894">DecodableMapped</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>itf/<a class="el" href="decodable-itf_8h_source.html">decodable-itf.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="classkaldi_1_1DecodableInterface.html">DecodableInterface</a></li>
    <li class="footer">Generated on Tue Apr 26 2016 14:54:48 for Kaldi by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
