<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: feat/resample.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('resample_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">resample.h File Reference<div class="ingroups"><a class="el" href="group__feat.html">FeatureExtraction</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>]  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cassert&gt;</code><br/>
<code>#include &lt;cstdlib&gt;</code><br/>
<code>#include &lt;string&gt;</code><br/>
<code>#include &lt;vector&gt;</code><br/>
<code>#include &quot;<a class="el" href="matrix-lib_8h_source.html">matrix/matrix-lib.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="common-utils_8h_source.html">util/common-utils.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="kaldi-error_8h_source.html">base/kaldi-error.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for resample.h:</div>
<div class="dyncontent">
<div class="center"><img src="resample_8h__incl.png" border="0" usemap="#feat_2resample_8h" alt=""/></div>
<map name="feat_2resample_8h" id="feat_2resample_8h">
<area shape="rect" id="node6" href="matrix-lib_8h.html" title="matrix/matrix&#45;lib.h" alt="" coords="1717,229,1856,256"/><area shape="rect" id="node21" href="kaldi-error_8h.html" title="base/kaldi&#45;error.h" alt="" coords="1933,875,2067,901"/><area shape="rect" id="node40" href="common-utils_8h.html" title="util/common&#45;utils.h" alt="" coords="715,80,860,107"/><area shape="rect" id="node7" href="cblas-wrappers_8h.html" title="matrix/cblas&#45;wrappers.h" alt="" coords="2018,304,2192,331"/><area shape="rect" id="node9" href="sp-matrix_8h.html" title="matrix/sp&#45;matrix.h" alt="" coords="1317,379,1456,405"/><area shape="rect" id="node13" href="kaldi-common_8h.html" title="base/kaldi&#45;common.h" alt="" coords="1284,800,1443,827"/><area shape="rect" id="node28" href="tp-matrix_8h.html" title="matrix/tp&#45;matrix.h" alt="" coords="1511,552,1649,579"/><area shape="rect" id="node29" href="kaldi-vector_8h.html" title="matrix/kaldi&#45;vector.h" alt="" coords="2160,635,2312,661"/><area shape="rect" id="node31" href="kaldi-matrix_8h.html" title="matrix/kaldi&#45;matrix.h" alt="" coords="1849,461,2003,488"/><area shape="rect" id="node33" href="matrix-functions_8h.html" title="matrix/matrix&#45;functions.h" alt="" coords="2015,379,2197,405"/><area shape="rect" id="node35" href="srfft_8h.html" title="matrix/srfft.h" alt="" coords="2405,379,2509,405"/><area shape="rect" id="node36" href="compressed-matrix_8h.html" title="matrix/compressed&#45;matrix.h" alt="" coords="1685,379,1888,405"/><area shape="rect" id="node37" href="sparse-matrix_8h.html" title="matrix/sparse&#45;matrix.h" alt="" coords="1532,304,1700,331"/><area shape="rect" id="node39" href="optimization_8h.html" title="matrix/optimization.h" alt="" coords="2222,379,2380,405"/><area shape="rect" id="node11" href="packed-matrix_8h.html" title="matrix/packed&#45;matrix.h" alt="" coords="1477,635,1648,661"/><area shape="rect" id="node27" href="sp-matrix-inl_8h.html" title="matrix/sp&#45;matrix&#45;inl.h" alt="" coords="1461,461,1619,488"/><area shape="rect" id="node12" href="matrix-common_8h.html" title="matrix/matrix&#45;common.h" alt="" coords="1617,717,1799,744"/><area shape="rect" id="node20" href="kaldi-utils_8h.html" title="base/kaldi&#45;utils.h" alt="" coords="1661,949,1789,976"/><area shape="rect" id="node23" href="kaldi-types_8h.html" title="base/kaldi&#45;types.h" alt="" coords="1447,949,1585,976"/><area shape="rect" id="node24" href="io-funcs_8h.html" title="base/io&#45;funcs.h" alt="" coords="1081,875,1199,901"/><area shape="rect" id="node26" href="kaldi-math_8h.html" title="base/kaldi&#45;math.h" alt="" coords="1569,875,1705,901"/><area shape="rect" id="node30" href="kaldi-vector-inl_8h.html" title="matrix/kaldi&#45;vector\l&#45;inl.h" alt="" coords="2165,710,2305,751"/><area shape="rect" id="node32" href="kaldi-matrix-inl_8h.html" title="matrix/kaldi&#45;matrix\l&#45;inl.h" alt="" coords="1943,545,2085,586"/><area shape="rect" id="node34" href="matrix-functions-inl_8h.html" title="matrix/matrix&#45;functions\l&#45;inl.h" alt="" coords="2028,454,2199,495"/><area shape="rect" id="node41" href="parse-options_8h.html" title="util/parse&#45;options.h" alt="" coords="791,635,936,661"/><area shape="rect" id="node44" href="kaldi-io_8h.html" title="util/kaldi&#45;io.h" alt="" coords="207,717,309,744"/><area shape="rect" id="node46" href="simple-io-funcs_8h.html" title="util/simple&#45;io&#45;funcs.h" alt="" coords="409,635,563,661"/><area shape="rect" id="node47" href="kaldi-holder_8h.html" title="util/kaldi&#45;holder.h" alt="" coords="1073,552,1203,579"/><area shape="rect" id="node48" href="text-utils_8h.html" title="util/text&#45;utils.h" alt="" coords="1114,635,1227,661"/><area shape="rect" id="node49" href="kaldi-table_8h.html" title="util/kaldi&#45;table.h" alt="" coords="876,461,999,488"/><area shape="rect" id="node50" href="table-types_8h.html" title="util/table&#45;types.h" alt="" coords="923,155,1052,181"/><area shape="rect" id="node43" href="options-itf_8h.html" title="itf/options&#45;itf.h" alt="" coords="791,717,904,744"/><area shape="rect" id="node45" href="kaldi-io-inl_8h.html" title="util/kaldi&#45;io&#45;inl.h" alt="" coords="43,800,164,827"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="resample_8h__dep__incl.png" border="0" usemap="#feat_2resample_8hdep" alt=""/></div>
<map name="feat_2resample_8hdep" id="feat_2resample_8hdep">
<area shape="rect" id="node2" href="pitch-functions_8cc.html" title="feat/pitch&#45;functions.cc" alt="" coords="5,80,168,107"/><area shape="rect" id="node3" href="resample-test_8cc.html" title="feat/resample&#45;test.cc" alt="" coords="193,80,351,107"/><area shape="rect" id="node4" href="resample_8cc.html" title="feat/resample.cc" alt="" coords="375,80,504,107"/><area shape="rect" id="node5" href="sinusoid-detection_8h.html" title="feat/sinusoid&#45;detection.h" alt="" coords="529,80,708,107"/><area shape="rect" id="node7" href="sinusoid-detection_8cc.html" title="feat/sinusoid&#45;detection.cc" alt="" coords="717,163,904,189"/><area shape="rect" id="node6" href="sinusoid-detection-test_8cc.html" title="feat/sinusoid&#45;detection\l&#45;test.cc" alt="" coords="307,155,475,197"/><area shape="rect" id="node8" href="detect-sinusoids_8cc.html" title="featbin/detect&#45;sinusoids.cc" alt="" coords="499,163,692,189"/></map>
</div>
</div>
<p><a href="resample_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArbitraryResample.html">ArbitraryResample</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class <a class="el" href="classkaldi_1_1ArbitraryResample.html" title="Class ArbitraryResample allows you to resample a signal (assumed zero outside the sample region...">ArbitraryResample</a> allows you to resample a signal (assumed zero outside the sample region, not periodic) at arbitrary specified time values, which don't have to be linearly spaced.  <a href="classkaldi_1_1ArbitraryResample.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1LinearResample.html">LinearResample</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1LinearResample.html" title="LinearResample is a special case of ArbitraryResample, where we want to resample a signal at linearly...">LinearResample</a> is a special case of <a class="el" href="classkaldi_1_1ArbitraryResample.html" title="Class ArbitraryResample allows you to resample a signal (assumed zero outside the sample region...">ArbitraryResample</a>, where we want to resample a signal at linearly spaced intervals (this means we want to upsample or downsample the signal).  <a href="classkaldi_1_1LinearResample.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacekaldi"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi.html">kaldi</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>] </p>
<p>This header contains declarations of classes for resampling signals. The normal cases of resampling a signal are upsampling and downsampling (increasing and decreasing the sample rate of a signal, respectively), although the ArbitraryResample class allows a more generic case where we want to get samples of a signal at uneven intervals (for instance, log-spaced).</p>
<p>The input signal is always evenly spaced, say sampled with frequency S, and we assume the original signal was band-limited to S/2 or lower. The n'th input sample x_n (with n = 0, 1, ...) is interpreted as the original signal's value at time n/S.</p>
<p>For resampling, it is convenient to view the input signal as a continuous function x(t) of t, where each sample x_n becomes a delta function with magnitude x_n/S, at time n/S. If we band limit this to the Nyquist frequency S/2, we can show that this is the same as the original signal that was sampled. [assuming the original signal was periodic and band limited.] In general we want to bandlimit to lower than S/2, because we don't have a perfect filter and also because if we want to resample at a lower frequency than S, we need to bandlimit to below half of that. Anyway, suppose we want to bandlimit to C, with 0 &lt; C &lt; C/2. The perfect rectangular filter with cutoff C is the sinc function, </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ f(t) = 2C sinc(2Ct), \]" src="form_120.png"/>
</p>
<p> where sinc is the normalized sinc function <img class="formulaInl" alt="$ sinc(t) = sin(pi t) / (pi t) $" src="form_121.png"/>, with <img class="formulaInl" alt="$ sinc(0) = 1 $" src="form_122.png"/>. This is not a practical filter, though, because it has infinite support. At the cost of less-than-perfect rolloff, we can choose a suitable windowing function g(t), and use f(t) g(t) as the filter. For a windowing function we choose raised-cosine (Hanning) window with support on [-w/2C, w/2C], where w &gt;= 2 is an integer chosen by the user. w = 1 means we window the sinc function out to its first zero on the left and right, w = 2 means the second zero, and so on; we normally choose w to be at least two. We call this num_zeros, not w, in the code.</p>
<p>Convolving the signal x(t) with this windowed filter h(t) = f(t)g(t) and evaluating the resulting signal s(t) at an arbitrary time t is easy: we have </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ s(t) = 1/S \sum_n x_n h(t - n/S) \]" src="form_123.png"/>
</p>
<p>. (note: the sign of t - n/S might be wrong, but it doesn't matter as the filter and window are symmetric). This is true for arbitrary values of t. What the class ArbitraryResample does is to allow you to evaluate the signal for specified values of t. </p>

<p>Definition in file <a class="el" href="resample_8h_source.html">resample.h</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f8ba563c7c64fffab9da0ebf98c94aa9.html">feat</a></li><li class="navelem"><a class="el" href="resample_8h.html">resample.h</a></li>
    <li class="footer">Generated on Tue Apr 26 2016 14:54:43 for Kaldi by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
